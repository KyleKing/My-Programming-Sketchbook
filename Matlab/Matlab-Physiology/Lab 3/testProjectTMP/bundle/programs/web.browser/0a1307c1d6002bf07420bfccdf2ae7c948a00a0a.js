!function(){var n,t;(function(){t={}}).call(this),function(){(function(){var n=this,r=n._,e={},u=Array.prototype,i=Object.prototype,a=Function.prototype,o=u.push,c=u.slice,l=u.concat,f=i.toString,s=i.hasOwnProperty,p=u.forEach,v=u.map,h=u.reduce,d=u.reduceRight,g=u.filter,m=u.every,y=u.some,b=u.indexOf,_=u.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=A),t._=A):n._=A,A.VERSION="1.5.2";var k=function(n){return"[object Arguments]"===f.call(n)};k(arguments)||(k=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var O=function(n){return n.length===+n.length&&(k(n)||n.constructor!==Object)},E=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(O(n)){for(var u=0,i=n.length;i>u;u++)if(t.call(r,n[u],u,n)===e)return}else for(var a=A.keys(n),u=0,i=a.length;i>u;u++)if(t.call(r,n[a[u]],a[u],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:v&&n.map===v?n.map(t,r):(E(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=A.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(E(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),d&&n.reduceRight===d)return e&&(t=A.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(!O(n)){var a=A.keys(n);i=a.length}if(E(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(E(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},A.reject=function(n,t,r){return A.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var u=!0;return null==n?u:m&&n.every===m?n.every(t,r):(E(n,function(n,i,a){return(u=u&&t.call(r,n,i,a))?void 0:e}),!!u)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var u=!1;return null==n?u:y&&n.some===y?n.some(t,r):(E(n,function(n,i,a){return u||(u=t.call(r,n,i,a))?e:void 0}),!!u)};A.contains=A.include=function(n,t){return null==n?!1:b&&n.indexOf===b?-1!=n.indexOf(t):M(n,function(n){return n===t})},A.invoke=function(n,t){var r=c.call(arguments,2),e=A.isFunction(t);return A.map(n,function(n){return(e?t:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},A.shuffle=function(n){var t,r=0,e=[];return E(n,function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n}),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var u={},i=null==r?A.identity:R(r);return E(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};A.groupBy=S(function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)}),A.indexBy=S(function(n,t,r){n[t]=r}),A.countBy=S(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,r,e){r=null==r?A.identity:R(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},A.toArray=function(n){return n?A.isArray(n)?c.call(n):O(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:O(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:c.call(n,0,t)},A.initial=function(n,t,r){return c.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:c.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return c.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(E(n,function(n){A.isArray(n)||A.isArguments(n)?t?o.apply(r,n):I(n,t,r):r.push(n)}),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,c.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var u=r?A.map(n,r,e):n,i=[],a=[];return E(u,function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),i.push(n[e]))}),i},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=c.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=l.apply(u,c.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,c.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=c.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(c.call(arguments)));T.prototype=n.prototype;var u=new T;T.prototype=null;var i=n.apply(u,r.concat(c.call(arguments)));return Object(i)===i?i:u}},A.partial=function(n){var t=c.call(arguments,1);return function(){return n.apply(this,t.concat(c.call(arguments)))}},A.bindAll=function(n){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=c.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(c.call(arguments,1)))},A.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},A.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return o.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={},r=l.apply(u,c.call(arguments,1));return E(r,function(r){r in n&&(t[r]=n[r])}),t},A.omit=function(n){var t={},r=l.apply(u,c.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var u=f.call(n);if(u!=f.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,l=!0;if("[object Array]"==u){if(c=n.length,l=c==t.length)for(;c--&&(l=N(n[c],t[c],r,e)););}else{for(var s in n)if(A.has(n,s)&&(c++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!c--)break;l=!c}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},E(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return n._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],function(t){return q[n][t]})}}),A.result=function(n,t){if(null==n)return void 0;var r=n[t];return A.isFunction(r)?r.call(n):r},A.mixin=function(n){E(A.functions(n),function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),U.call(this,r.apply(A,n))}})};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var u=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(C,function(n){return"\\"+z[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}}),E(["concat","join","slice"],function(n){var t=u[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){n=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:n}}();

!function(){var t=Package.underscore._,e;(function(){e={isClient:!0,isServer:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){function n(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0}if(e.isServer)var r=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return void 0;t=t[arguments[e]]}return t},_ensure:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},_delete:function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in t)){n=!1;break}if(t=t[o],"object"!=typeof t)break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},wrapAsync:function(o,i){return function(){for(var a=i||this,u=t.toArray(arguments),s,c=u.length-1;c>=0;--c){var l=u[c],f=typeof l;if("undefined"!==f){"function"===f&&(s=l);break}}if(!s){if(e.isClient)s=n;else{var _=new r;s=_.resolver()}++c}u[c]=e.bindEnvironment(s);var p=o.apply(a,u);return _?_.wait():p}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;e._wrapAsync=function(t,n){return o||(e._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),e.wrapAsync.apply(e,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var t=function(t){o.setImmediate(t)};return t.implementation="setImmediate",t}return null}function n(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===o&&t(e.data,u)){var n=e.data.substring(u.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,a={},u="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",e,!1):o.attachEvent("onmessage",e);var s=function(t){++i,a[i]=t,o.postMessage(u+i,"*")};return s.implementation="postMessage",s}function r(){var t=function(t){o.setTimeout(t,0)};return t.implementation="setTimeout",t}var o=this;e._setImmediate=t()||n()||r()}.call(this),function(){var n=function(t){if(Package.ddp){var e=Package.ddp.DDP._CurrentInvocation;if(e.get()&&e.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){e.withValue(null,t)}}return t},r=function(t,r){return e.bindEnvironment(n(r),t)};t.extend(e,{setTimeout:function(t,e){return setTimeout(r("setTimeout callback",t),e)},setInterval:function(t,e){return setInterval(r("setInterval callback",t),e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},defer:function(t){e._setImmediate(r("defer callback",t))}})}.call(this),function(){e.makeErrorType=function(t,n){var r=function(){var e=this;if(Error.captureStackTrace)Error.captureStackTrace(e,r);else{var o=new Error;o.__proto__=r.prototype,o instanceof r&&(e=o)}return n.apply(e,arguments),e.errorType=t,e};return e._inherits(r,Error),r},e.Error=e.makeErrorType("Meteor.Error",function(t,e,n){var r=this;r.error=t,r.reason=e,r.details=n,r.message=r.reason?r.reason+" ["+r.error+"]":"["+r.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(t){return t()},e._SynchronousQueue=function(){var t=this;t._tasks=[],t._running=!1,t._runTimeout=null},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var r=this;if(!r.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");r._tasks.push(n);var o=r._tasks;r._tasks=[],r._running=!0,r._runTimeout&&(clearTimeout(r._runTimeout),r._runTimeout=null);try{for(;!t.isEmpty(o);){var i=o.shift();try{i()}catch(a){if(t.isEmpty(o))throw a;e._debug("Exception in queued task: "+a.stack)}}}finally{r._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var t=this;t.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var t=this;return!t._running}})}.call(this),function(){var t=[],n=!e.isCordova&&("loaded"===document.readyState||"complete"==document.readyState),r=1,o=function(){if(r--,!(r>0)){n=!0;var o=function(){if(e.isCordova&&(!cordova.plugins||!cordova.plugins.CordovaUpdate))return void e.setTimeout(o,20);for(;t.length;)t.shift()()};o()}};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),e.isCordova&&(r++,document.addEventListener("deviceready",o,!1)),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&o()}),window.attachEvent("load",o)),e.startup=function(r){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(i){return void setTimeout(function(){e.startup(r)},50)}r()}else n?r():t.push(r)}}.call(this),function(){var t=0;e._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e}}.call(this),function(){var n=0,r=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return r[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(t,e){var n=r[this.slot];try{r[this.slot]=t;var o=e()}finally{r[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,i){var a=t.clone(r);if(!o||"string"==typeof o){var u=o||"callback of async function";o=function(t){e._debug("Exception in "+u+":",t&&t.stack||t)}}return function(){var e=r;try{r=a;var u=n.apply(i,t.toArray(arguments))}catch(s){o(s)}finally{r=e}return u}},e._nodeCodeMustBeInFiber=function(){}}.call(this),function(){e.absoluteUrl=function(n,r){r||"object"!=typeof n||(r=n,n=void 0),r=t.extend({},e.absoluteUrl.defaultOptions,r||{});var o=r.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),r.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),r.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}();

!function(){var a=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["standard-app-packages"]={}}();

!function(){var t=Package.meteor.Meteor;(function(){!function(t,e,i){var n=t.L,o={};o.version="0.7.3","object"==typeof module&&"object"==typeof module.exports?module.exports=o:"function"==typeof define&&define.amd&&define(o),o.noConflict=function(){return t.L=n,this},t.L=o,o.Util={extend:function(t){var e,i,n,o,s=Array.prototype.slice.call(arguments,1);for(i=0,n=s.length;n>i;i++){o=s[i]||{};for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e])}return t},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(i){return i[e]=i[e]||++t,i[e]}}(),invokeEach:function(t,e,i){var n,o;if("object"==typeof t){o=Array.prototype.slice.call(arguments,3);for(n in t)e.apply(i,[n,t[n]].concat(o));return!0}return!1},limitExecByInterval:function(t,e,i){var n,o;return function s(){var a=arguments;return n?void(o=!0):(n=!0,setTimeout(function(){n=!1,o&&(s.apply(i,a),o=!1)},e),void t.apply(i,a))}},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=o.extend({},t.options,e),t.options},getParamString:function(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var o=e[n];if(o===i)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var i,n,o=["webkit","moz","o","ms"];for(i=0;i<o.length&&!n;i++)n=t[o[i]+e];return n}function i(e){var i=+new Date,o=Math.max(0,16-(i-n));return n=i+o,t.setTimeout(e,o)}var n=0,s=t.requestAnimationFrame||e("RequestAnimationFrame")||i,a=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,n,a,r){return e=o.bind(e,n),a&&s===i?void e():s.call(t,e,r)},o.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},i=function(){};i.prototype=this.prototype;var n=new i;n.constructor=e,e.prototype=n;for(var s in this)this.hasOwnProperty(s)&&"prototype"!==s&&(e[s]=this[s]);t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),t.options&&n.options&&(t.options=o.extend({},n.options,t.options)),o.extend(n,t),n._initHooks=[];var a=this;return e.__super__=a.prototype,n.callInitHooks=function(){if(!this._initHooksCalled){a.prototype.callInitHooks&&a.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;e>t;t++)n._initHooks[t].call(this)}},e},o.Class.include=function(t){o.extend(this.prototype,t)},o.Class.mergeOptions=function(t){o.extend(this.prototype.options,t)},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i)};var s="_leaflet_events";o.Mixin={},o.Mixin.Events={addEventListener:function(t,e,i){if(o.Util.invokeEach(t,this.addEventListener,this,e,i))return this;var n,a,r,h,l,u,c,p=this[s]=this[s]||{},d=i&&i!==this&&o.stamp(i);for(t=o.Util.splitWords(t),n=0,a=t.length;a>n;n++)r={action:e,context:i||this},h=t[n],d?(l=h+"_idx",u=l+"_len",c=p[l]=p[l]||{},c[d]||(c[d]=[],p[u]=(p[u]||0)+1),c[d].push(r)):(p[h]=p[h]||[],p[h].push(r));return this},hasEventListeners:function(t){var e=this[s];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,i){if(!this[s])return this;if(!t)return this.clearAllEventListeners();if(o.Util.invokeEach(t,this.removeEventListener,this,e,i))return this;var n,a,r,h,l,u,c,p,d,m=this[s],_=i&&i!==this&&o.stamp(i);for(t=o.Util.splitWords(t),n=0,a=t.length;a>n;n++)if(r=t[n],u=r+"_idx",c=u+"_len",p=m[u],e){if(h=_&&p?p[_]:m[r]){for(l=h.length-1;l>=0;l--)h[l].action!==e||i&&h[l].context!==i||(d=h.splice(l,1),d[0].action=o.Util.falseFn);i&&p&&0===h.length&&(delete p[_],m[c]--)}}else delete m[r],delete m[u],delete m[c];return this},clearAllEventListeners:function(){return delete this[s],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var i,n,a,r,h,l=o.Util.extend({},e,{type:t,target:this}),u=this[s];if(u[t])for(i=u[t].slice(),n=0,a=i.length;a>n;n++)i[n].action.call(i[n].context,l);r=u[t+"_idx"];for(h in r)if(i=r[h].slice())for(n=0,a=i.length;a>n;n++)i[n].action.call(i[n].context,l);return this},addOneTimeEventListener:function(t,e,i){if(o.Util.invokeEach(t,this.addOneTimeEventListener,this,e,i))return this;var n=o.bind(function(){this.removeEventListener(t,e,i).removeEventListener(t,n,i)},this);return this.addEventListener(t,e,i).addEventListener(t,n,i)}},o.Mixin.Events.on=o.Mixin.Events.addEventListener,o.Mixin.Events.off=o.Mixin.Events.removeEventListener,o.Mixin.Events.once=o.Mixin.Events.addOneTimeEventListener,o.Mixin.Events.fire=o.Mixin.Events.fireEvent,function(){var n="ActiveXObject"in t,s=n&&!e.addEventListener,a=navigator.userAgent.toLowerCase(),r=-1!==a.indexOf("webkit"),h=-1!==a.indexOf("chrome"),l=-1!==a.indexOf("phantom"),u=-1!==a.indexOf("android"),c=-1!==a.search("android [23]"),p=-1!==a.indexOf("gecko"),d=typeof orientation!=i+"",m=t.navigator&&t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints&&!t.PointerEvent,_=t.PointerEvent&&t.navigator.pointerEnabled&&t.navigator.maxTouchPoints||m,f="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,g=e.documentElement,v=n&&"transition"in g.style,y="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!c,L="MozPerspective"in g.style,P="OTransition"in g.style,b=!t.L_DISABLE_3D&&(v||y||L||P)&&!l,x=!t.L_NO_TOUCH&&!l&&function(){var t="ontouchstart";if(_||t in g)return!0;var i=e.createElement("div"),n=!1;return i.setAttribute?(i.setAttribute(t,"return;"),"function"==typeof i[t]&&(n=!0),i.removeAttribute(t),i=null,n):!1}();o.Browser={ie:n,ielt9:s,webkit:r,gecko:p&&!r&&!t.opera&&!n,android:u,android23:c,chrome:h,ie3d:v,webkit3d:y,gecko3d:L,opera3d:P,any3d:b,mobile:d,mobileWebkit:d&&r,mobileWebkit3d:d&&y,mobileOpera:d&&t.opera,touch:x,msPointer:m,pointer:_,retina:f}}(),o.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,e,n){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===i||null===t?t:new o.Point(t,e,n)},o.Bounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=o.bounds(t);var e=this.min,i=this.max,n=t.min,s=t.max,a=s.x>=e.x&&n.x<=i.x,r=s.y>=e.y&&n.y<=i.y;return a&&r},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},o.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,i){var n=t.style[i];if(!n&&t.currentStyle&&(n=t.currentStyle[i]),(!n||"auto"===n)&&e.defaultView){var o=e.defaultView.getComputedStyle(t,null);n=o?o[i]:null}return"auto"===n?null:n},getViewportOffset:function(t){var i,n=0,s=0,a=t,r=e.body,h=e.documentElement;do{if(n+=a.offsetTop||0,s+=a.offsetLeft||0,n+=parseInt(o.DomUtil.getStyle(a,"borderTopWidth"),10)||0,s+=parseInt(o.DomUtil.getStyle(a,"borderLeftWidth"),10)||0,i=o.DomUtil.getStyle(a,"position"),a.offsetParent===r&&"absolute"===i)break;if("fixed"===i){n+=r.scrollTop||h.scrollTop||0,s+=r.scrollLeft||h.scrollLeft||0;break}if("relative"===i&&!a.offsetLeft){var l=o.DomUtil.getStyle(a,"width"),u=o.DomUtil.getStyle(a,"max-width"),c=a.getBoundingClientRect();("none"!==l||"none"!==u)&&(s+=c.left+a.clientLeft),n+=c.top+(r.scrollTop||h.scrollTop||0);break}a=a.offsetParent}while(a);a=t;do{if(a===r)break;n-=a.scrollTop||0,s-=a.scrollLeft||0,a=a.parentNode}while(a);return new o.Point(s,n)},documentIsLtr:function(){return o.DomUtil._docIsLtrCached||(o.DomUtil._docIsLtrCached=!0,o.DomUtil._docIsLtr="ltr"===o.DomUtil.getStyle(e.body,"direction")),o.DomUtil._docIsLtr},create:function(t,i,n){var o=e.createElement(t);return o.className=i,n&&n.appendChild(o),o},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=o.DomUtil._getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=o.Util.splitWords(e),s=0,a=n.length;a>s;s++)t.classList.add(n[s]);else if(!o.DomUtil.hasClass(t,e)){var r=o.DomUtil._getClass(t);o.DomUtil._setClass(t,(r?r+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):o.DomUtil._setClass(t,o.Util.trim((" "+o.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(o){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}},testProp:function(t){for(var i=e.documentElement.style,n=0;n<t.length;n++)if(t[n]in i)return t[n];return!1},getTranslateString:function(t){var e=o.Browser.webkit3d,i="translate"+(e?"3d":"")+"(",n=(e?",0":"")+")";return i+t.x+"px,"+t.y+"px"+n},getScaleString:function(t,e){var i=o.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),n=" scale("+t+") ";return i+n},setPosition:function(t,e,i){t._leaflet_pos=e,!i&&o.Browser.any3d?t.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),o.DomUtil.TRANSITION_END="webkitTransition"===o.DomUtil.TRANSITION||"OTransition"===o.DomUtil.TRANSITION?o.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in e)o.extend(o.DomUtil,{disableTextSelection:function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},enableTextSelection:function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)}});else{var i=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.extend(o.DomUtil,{disableTextSelection:function(){if(i){var t=e.documentElement.style;this._userSelect=t[i],t[i]="none"}},enableTextSelection:function(){i&&(e.documentElement.style[i]=this._userSelect,delete this._userSelect)}})}o.extend(o.DomUtil,{disableImageDrag:function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},enableImageDrag:function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)}})}(),o.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==i&&(this.alt=parseFloat(n))},o.extend(o.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),o.LatLng.prototype={equals:function(t){if(!t)return!1;t=o.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=o.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=o.latLng(t);var e=6378137,i=o.LatLng.DEG_TO_RAD,n=(t.lat-this.lat)*i,s=(t.lng-this.lng)*i,a=this.lat*i,r=t.lat*i,h=Math.sin(n/2),l=Math.sin(s/2),u=h*h+l*l*Math.cos(a)*Math.cos(r);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))},wrap:function(t,e){var i=this.lng;return t=t||-180,e=e||180,i=(i+e)%(e-t)+(t>i||i===e?e:t),new o.LatLng(this.lat,i)}},o.latLng=function(t,e){return t instanceof o.LatLng?t:o.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new o.LatLng(t[0],t[1],t[2]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===i?null:new o.LatLng(t,e)},o.LatLngBounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},o.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=o.latLng(t);return t=null!==e?e:o.latLngBounds(t),t instanceof o.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new o.LatLng(t.lat,t.lng),this._northEast=new o.LatLng(t.lat,t.lng)):t instanceof o.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,s=Math.abs(e.lng-i.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-n,e.lng-s),new o.LatLng(i.lat+n,i.lng+s))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,i,n=this._southWest,s=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=s.lat&&e.lng>=n.lng&&i.lng<=s.lng},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),s=t.getNorthEast(),a=s.lat>=e.lat&&n.lat<=i.lat,r=s.lng>=e.lng&&n.lng<=i.lng;return a&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,e){return!t||t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=o.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=t.lng*e,a=n*e;return a=Math.log(Math.tan(Math.PI/4+a/2)),new o.Point(s,a)},unproject:function(t){var e=o.LatLng.RAD_TO_DEG,i=t.x*e,n=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new o.LatLng(n,i)}},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return o.point(e,e)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),o.CRS.EPSG3857=o.extend({},o.CRS,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:new o.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),i=6378137;return e.multiplyBy(i)}}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/360,.5,-1/360,.5)}),o.Map=o.Class.extend({includes:o.Mixin.Events,options:{crs:o.CRS.EPSG3857,fadeAnimation:o.DomUtil.TRANSITION&&!o.Browser.android23,trackResize:!0,markerZoomAnimation:o.DomUtil.TRANSITION&&o.Browser.any3d},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==i&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(o.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),s=this.getSize().divideBy(2),a=t instanceof o.Point?t:this.latLngToContainerPoint(t),r=a.subtract(s).multiplyBy(1-1/n),h=this.containerPointToLatLng(s.add(r));return this.setView(h,e,{zoom:i})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var i=o.point(e.paddingTopLeft||e.padding||[0,0]),n=o.point(e.paddingBottomRight||e.padding||[0,0]),s=this.getBoundsZoom(t,!1,i.add(n)),a=n.subtract(i).divideBy(2),r=this.project(t.getSouthWest(),s),h=this.project(t.getNorthEast(),s),l=this.unproject(r.add(h).divideBy(2).add(a),s);return s=e&&e.maxZoom?Math.min(e.maxZoom,s):s,this.setView(l,s,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=o.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var i=this.getCenter(),n=this._limitCenter(i,this._zoom,t);return i.equals(n)?this:this.panTo(n,e)},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return t?o.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),s=i.divideBy(2).round(),a=n.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=i}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new o.LatLngBounds(e,i)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom===i?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=o.latLngBounds(t);var n,s=this.getMinZoom()-(e?1:0),a=this.getMaxZoom(),r=this.getSize(),h=t.getNorthWest(),l=t.getSouthEast(),u=!0;i=o.point(i||[0,0]);do s++,n=this.project(l,s).subtract(this.project(h,s)).add(i),u=e?n.x<r.x||n.y<r.y:r.contains(n);while(u&&a>=s);return u&&e?null:e?s:s-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new o.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,e),o.DomUtil.addClass(t.shadowPane,e),o.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return o.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_resetView:function(t,e,i,n){var s=this._zoom!==e;n||(this.fire("movestart"),s&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),i?this._initialTopLeftPoint._add(this._getMapPanePos()):o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!i}),a&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(s||n)&&this.fire("zoomend"),this.fire("moveend",{hard:!i})},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-1/0,o=this._getZoomSpan();for(t in this._zoomBoundLayers){var s=this._zoomBoundLayers[t];isNaN(s.options.minZoom)||(e=Math.min(e,s.options.minZoom)),isNaN(s.options.maxZoom)||(n=Math.max(n,s.options.maxZoom))}t===i?this._layersMaxZoom=this._layersMinZoom=i:(this._layersMaxZoom=n,this._layersMinZoom=e),o!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){e=e||"on",o.DomEvent[e](this._container,"click",this._onMouseClick,this);var i,n,s=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(i=0,n=s.length;n>i;i++)o.DomEvent[e](this._container,s[i],this._fireMouseEvent,this);this.options.trackResize&&o.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||o.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&o.DomEvent.preventDefault(t);var i=this.mouseEventToContainerPoint(t),n=this.containerPointToLayerPoint(i),s=this.layerPointToLatLng(n);this.fire(e,{latlng:s,layerPoint:n,containerPoint:i,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewTopLeftPoint(i,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),s=this.getSize().divideBy(2),a=new o.Bounds(n.subtract(s),n.add(s)),r=this._getBoundsOffset(a,i,e);return this.unproject(n.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new o.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=this.project(e.getNorthWest(),i).subtract(t.min),s=this.project(e.getSouthEast(),i).subtract(t.max),a=this._rebound(n.x,-s.x),r=this._rebound(n.y,-s.y);return new o.Point(a,r)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),o.map=function(t,e){return new o.Map(t,e)},o.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=o.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=this.R_MAJOR,a=this.R_MINOR,r=t.lng*e*s,h=n*e,l=a/s,u=Math.sqrt(1-l*l),c=u*Math.sin(h);c=Math.pow((1-c)/(1+c),.5*u);var p=Math.tan(.5*(.5*Math.PI-h))/c;return h=-s*Math.log(p),new o.Point(r,h)},unproject:function(t){for(var e,i=o.LatLng.RAD_TO_DEG,n=this.R_MAJOR,s=this.R_MINOR,a=t.x*i/n,r=s/n,h=Math.sqrt(1-r*r),l=Math.exp(-t.y/n),u=Math.PI/2-2*Math.atan(l),c=15,p=1e-7,d=c,m=.1;Math.abs(m)>p&&--d>0;)e=h*Math.sin(u),m=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*h))-u,u+=m;
return new o.LatLng(u*i,a)}},o.CRS.EPSG3395=o.extend({},o.CRS,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=o.Projection.Mercator,e=t.R_MAJOR,i=.5/(Math.PI*e);return new o.Transformation(i,.5,-i,.5)}()}),o.TileLayer=o.Class.extend({includes:o.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:o.Browser.mobile,updateWhenIdle:o.Browser.mobile},initialize:function(t,e){e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=o.latLngBounds(e.bounds)),this._url=t;var i=this.options.subdomains;"string"==typeof i&&(this.options.subdomains=i.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=o.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var i,n,o,s=t.children,a=-e(1/0,-1/0);for(n=0,o=s.length;o>n;n++)s[n]!==this._container&&(i=parseInt(s[n].style.zIndex,10),isNaN(i)||(a=e(a,i)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(o.Browser.ielt9)for(t in e)o.DomUtil.setOpacity(e[t],this.options.opacity);else o.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=o.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=o.DomUtil.create("div",e,this._container),this._tileContainer=o.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,i=this.options.maxNativeZoom,n=this.options.tileSize;return i&&e>i&&(n=Math.round(t.getZoomScale(e)/t.getZoomScale(i)*n)),n},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),i=t.getZoom(),n=this._getTileSize();if(!(i>this.options.maxZoom||i<this.options.minZoom)){var s=o.bounds(e.min.divideBy(n)._floor(),e.max.divideBy(n)._floor());this._addTilesFromCenterOut(s),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(s)}}},_addTilesFromCenterOut:function(t){var i,n,s,a=[],r=t.getCenter();for(i=t.min.y;i<=t.max.y;i++)for(n=t.min.x;n<=t.max.x;n++)s=new o.Point(n,i),this._tileShouldBeLoaded(s)&&a.push(s);var h=a.length;if(0!==h){a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)});var l=e.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=h,n=0;h>n;n++)this._addTile(a[n],l);this._tileContainer.appendChild(l)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var i=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=i.x)||t.y<0||t.y>=i.y)return!1}if(e.bounds){var n=e.tileSize,o=t.multiplyBy(n),s=o.add([n,n]),a=this._map.unproject(o),r=this._map.unproject(s);if(e.continuousWorld||e.noWrap||(a=a.wrap(),r=r.wrap()),!e.bounds.intersects([a,r]))return!1}return!0},_removeOtherTiles:function(t){var e,i,n,o;for(o in this._tiles)e=o.split(":"),i=parseInt(e[0],10),n=parseInt(e[1],10),(i<t.min.x||i>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(o)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(o.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),o.Browser.android||(e.onload=null,e.src=o.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var i=this._getTilePos(t),n=this._getTile();o.DomUtil.setPosition(n,i,o.Browser.chrome),this._tiles[t.x+":"+t.y]=n,this._loadTile(n,t),n.parentNode!==this._tileContainer&&e.appendChild(n)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this._getTileSize();return t.multiplyBy(i).subtract(e)},getTileUrl:function(t){return o.Util.template(this._url,o.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=o.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity!==i&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&o.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(o.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==o.Util.emptyImageUrl&&(o.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var i=o.extend({},this.defaultWmsParams),n=e.tileSize||this.options.tileSize;i.width=i.height=e.detectRetina&&o.Browser.retina?2*n:n;for(var s in e)this.options.hasOwnProperty(s)||"crs"===s||(i[s]=e[s]);this.wmsParams=i,o.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,i=this.options.tileSize,n=t.multiplyBy(i),s=n.add([i,i]),a=this._crs.project(e.unproject(n,t.z)),r=this._crs.project(e.unproject(s,t.z)),h=this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[r.y,a.x,a.y,r.x].join(","):[a.x,r.y,r.x,a.y].join(","),l=o.Util.template(this._url,{s:this._getSubdomain(t)});return l+o.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+h},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.TileLayer.Canvas=o.TileLayer.extend({options:{async:!1},initialize:function(t){o.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=o.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=o.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),o.tileLayer.canvas=function(t){return new o.TileLayer.Canvas(t)},o.ImageOverlay=o.Class.extend({includes:o.Mixin.Events,options:{opacity:1},initialize:function(t,e,i){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,i)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&o.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=o.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&o.Browser.any3d?o.DomUtil.addClass(this._image,"leaflet-zoom-animated"):o.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),o.extend(this._image,{galleryimg:"no",onselectstart:o.Util.falseFn,onmousemove:o.Util.falseFn,onload:o.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,i=this._image,n=e.getZoomScale(t.zoom),s=this._bounds.getNorthWest(),a=this._bounds.getSouthEast(),r=e._latLngToNewLayerPoint(s,t.zoom,t.center),h=e._latLngToNewLayerPoint(a,t.zoom,t.center)._subtract(r),l=r._add(h._multiplyBy(.5*(1-1/n)));i.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(l)+" scale("+n+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),i=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);o.DomUtil.setPosition(t,e),t.style.width=i.x+"px",t.style.height=i.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,i){return new o.ImageOverlay(t,e,i)},o.Icon=o.Class.extend({options:{className:""},initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n;return n=e&&"IMG"===e.tagName?this._createImg(i,e):this._createImg(i),this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i,n=this.options,s=o.point(n[e+"Size"]);i=o.point("shadow"===e?n.shadowAnchor||n.iconAnchor:n.iconAnchor),!i&&s&&(i=s.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+n.className,i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,i){return i=i||e.createElement("img"),i.src=t,i},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];o.Browser.retina&&"icon"===t&&(t+="-2x");var i=o.Icon.Default.imagePath;if(!i)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+".png"}}),o.Icon.Default.imagePath=function(){var t,i,n,o,s,a=e.getElementsByTagName("script"),r=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,i=a.length;i>t;t++)if(n=a[t].src,o=n.match(r))return s=n.split(r)[0],(s?s+"/":"")+"images"}(),o.Marker=o.Class.extend({includes:o.Mixin.Events,options:{icon:new o.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e=this._map,i=e.options.zoomAnimation&&e.options.markerZoomAnimation,n=i?"leaflet-zoom-animated":"leaflet-zoom-hide",s=t.icon.createIcon(this._icon),a=!1;s!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(s.title=t.title),t.alt&&(s.alt=t.alt)),o.DomUtil.addClass(s,n),t.keyboard&&(s.tabIndex="0"),this._icon=s,this._initInteraction(),t.riseOnHover&&o.DomEvent.on(s,"mouseover",this._bringToFront,this).on(s,"mouseout",this._resetZIndex,this);var r=t.icon.createShadow(this._shadow),h=!1;r!==this._shadow&&(this._removeShadow(),h=!0),r&&o.DomUtil.addClass(r,n),this._shadow=r,t.opacity<1&&this._updateOpacity();var l=this._map._panes;a&&l.markerPane.appendChild(this._icon),r&&h&&l.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&o.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];o.DomUtil.addClass(t,"leaflet-clickable"),o.DomEvent.on(t,"click",this._onMouseClick,this),o.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var i=0;i<e.length;i++)o.DomEvent.on(t,e[i],this._fireMouseEvent,this);o.Handler.MarkerDrag&&(this.dragging=new o.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&o.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&o.DomEvent.preventDefault(t),"mousedown"!==t.type?o.DomEvent.stopPropagation(t):o.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){o.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&o.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:e.createElement("div"),n=this.options;return i.innerHTML=n.html!==!1?n.html:"",n.bgPos&&(i.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),this._setIconStyles(i,"icon"),i},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Popup=o.Class.extend({includes:o.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){o.setOptions(this,t),this._source=e,this._animated=o.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&o.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&o.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),o.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&o.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",i=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),n=this._container=o.DomUtil.create("div",i);this.options.closeButton&&(t=this._closeButton=o.DomUtil.create("a",e+"-close-button",n),t.href="#close",t.innerHTML="&#215;",o.DomEvent.disableClickPropagation(t),o.DomEvent.on(t,"click",this._onCloseButtonClick,this));var s=this._wrapper=o.DomUtil.create("div",e+"-content-wrapper",n);o.DomEvent.disableClickPropagation(s),this._contentNode=o.DomUtil.create("div",e+"-content",s),o.DomEvent.disableScrollPropagation(this._contentNode),o.DomEvent.on(s,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",e+"-tip-container",n),this._tip=o.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,s=this.options.maxHeight,a="leaflet-popup-scrolled";s&&n>s?(e.height=s+"px",o.DomUtil.addClass(t,a)):o.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,i=o.point(this.options.offset);e&&o.DomUtil.setPosition(this._container,t),this._containerBottom=-i.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+i.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,i=this._containerWidth,n=new o.Point(this._containerLeft,-e-this._containerBottom);this._animated&&n._add(o.DomUtil.getPosition(this._container));var s=t.layerPointToContainerPoint(n),a=o.point(this.options.autoPanPadding),r=o.point(this.options.autoPanPaddingTopLeft||a),h=o.point(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),u=0,c=0;s.x+i+h.x>l.x&&(u=s.x+i-l.x+h.x),s.x-u-r.x<0&&(u=s.x-r.x),s.y+e+h.y>l.y&&(c=s.y+e-l.y+h.y),s.y-c-r.y<0&&(c=s.y-r.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,i){if(this.closePopup(),!(t instanceof o.Popup)){var n=t;t=new o.Popup(i).setLatLng(e).setContent(n)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),o.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var i=o.point(this.options.icon.options.popupAnchor||[0,0]);return i=i.add(o.Popup.prototype.options.offset),e&&e.offset&&(i=i.add(e.offset)),e=o.extend({offset:i},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof o.Popup?(o.setOptions(t,e),this._popup=t):this._popup=new o.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.LayerGroup=o.Class.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({includes:o.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.off(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof o.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=o.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Path=o.Class.extend({includes:[o.Mixin.Events],statics:{CLIP_PADDING:function(){var e=o.Browser.mobile?1280:2e3,i=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,i))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){o.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,o.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return o.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),o.Map.include({_updatePathViewport:function(){var t=o.Path.CLIP_PADDING,e=this.getSize(),i=o.DomUtil.getPosition(this._mapPane),n=i.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),s=n.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new o.Bounds(n,s)}}),o.Path.SVG_NS="http://www.w3.org/2000/svg",o.Browser.svg=!(!e.createElementNS||!e.createElementNS(o.Path.SVG_NS,"svg").createSVGRect),o.Path=o.Path.extend({statics:{SVG:o.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,i=t.firstChild;return e&&i!==e&&t.insertBefore(e,i),this},getPathString:function(){},_createElement:function(t){return e.createElementNS(o.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&o.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(o.Browser.svg||!o.Browser.vml)&&o.DomUtil.addClass(this._path,"leaflet-clickable"),o.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)o.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this.hasEventListeners(t.type)){var e=this._map,i=e.mouseEventToContainerPoint(t),n=e.containerPointToLayerPoint(i),s=e.layerPointToLatLng(n);this.fire(t.type,{latlng:s,layerPoint:n,containerPoint:i,originalEvent:t}),"contextmenu"===t.type&&o.DomEvent.preventDefault(t),"mousemove"!==t.type&&o.DomEvent.stopPropagation(t)}}}),o.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=o.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&o.Browser.any3d?(o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())
},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),i=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(i)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max,n=i.x-e.x,s=i.y-e.y,a=this._pathRoot,r=this._panes.overlayPane;o.Browser.mobileWebkit&&r.removeChild(a),o.DomUtil.setPosition(a,e),a.setAttribute("width",n),a.setAttribute("height",s),a.setAttribute("viewBox",[e.x,e.y,n,s].join(" ")),o.Browser.mobileWebkit&&r.appendChild(a)}}}),o.Path.include({bindPopup:function(t,e){return t instanceof o.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),o.Browser.vml=!o.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(n){return!1}}(),o.Path=o.Browser.svg||!o.Browser.vml?o.Path:o.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");o.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&o.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",n.appendChild(t)),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,t.dashStyle=i.dashArray?o.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):"",i.lineCap&&(t.endcap=i.lineCap.replace("butt","flat")),i.lineJoin&&(t.joinstyle=i.lineJoin)):t&&(n.removeChild(t),this._stroke=null),i.fill?(e||(e=this._fill=this._createElement("fill"),n.appendChild(e)),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(n.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),o.Map.include(o.Browser.svg||!o.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=e.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),o.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),o.Path=o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?o.Path:o.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return o.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!o.Path._updateRequest&&(o.Path._updateRequest=o.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){o.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color)},_drawPath:function(){var t,e,i,n,s,a;for(this._ctx.beginPath(),t=0,i=this._parts.length;i>t;t++){for(e=0,n=this._parts[t].length;n>e;e++)s=this._parts[t][e],a=(0===e?"move":"line")+"To",this._ctx[a](s.x,s.y);this instanceof o.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill()),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(t){this._containsPoint(t.layerPoint)&&this.fire("click",t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),o.Map.include(o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?{}:{_initPathRoot:function(){var t,i=this._pathRoot;i||(i=this._pathRoot=e.createElement("canvas"),i.style.position="absolute",t=this._canvasCtx=i.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(i),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max.subtract(e),n=this._pathRoot;o.DomUtil.setPosition(n,e),n.width=i.x,n.height=i.y,n.getContext("2d").translate(-e.x,-e.y)}}}),o.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var n=t.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,s=new o(n);s[0]=s[n-1]=1,this._simplifyDPStep(t,s,e,0,n-1);var a,r=[];for(a=0;n>a;a++)s[a]&&r.push(t[a]);return r},_simplifyDPStep:function(t,e,i,n,o){var s,a,r,h=0;for(a=n+1;o-1>=a;a++)r=this._sqClosestPointOnSegment(t[a],t[n],t[o],!0),r>h&&(s=a,h=r);h>i&&(e[s]=1,this._simplifyDPStep(t,e,i,n,s),this._simplifyDPStep(t,e,i,s,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;s>n;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return s-1>o&&i.push(t[s-1]),i},clipSegment:function(t,e,i,n){var o,s,a,r=n?this._lastCode:this._getBitCode(t,i),h=this._getBitCode(e,i);for(this._lastCode=h;;){if(!(r|h))return[t,e];if(r&h)return!1;o=r||h,s=this._getEdgeIntersection(t,e,o,i),a=this._getBitCode(s,i),o===r?(t=s,r=a):(e=s,h=a)}},_getEdgeIntersection:function(t,e,i,n){var s=e.x-t.x,a=e.y-t.y,r=n.min,h=n.max;return 8&i?new o.Point(t.x+s*(h.y-t.y)/a,h.y):4&i?new o.Point(t.x+s*(r.y-t.y)/a,r.y):2&i?new o.Point(h.x,t.y+a*(h.x-t.x)/s):1&i?new o.Point(r.x,t.y+a*(r.x-t.x)/s):void 0},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,i,n){var s,a=e.x,r=e.y,h=i.x-a,l=i.y-r,u=h*h+l*l;return u>0&&(s=((t.x-a)*h+(t.y-r)*l)/u,s>1?(a=i.x,r=i.y):s>0&&(a+=h*s,r+=l*s)),h=t.x-a,l=t.y-r,n?h*h+l*l:new o.Point(a,r)}},o.Polyline=o.Path.extend({initialize:function(t,e){o.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,i="";e>t;t++)i+=this._getPathPartStr(this._parts[t]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(o.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,i,n=1/0,s=this._parts,a=null,r=0,h=s.length;h>r;r++)for(var l=s[r],u=1,c=l.length;c>u;u++){e=l[u-1],i=l[u];var p=o.LineUtil._sqClosestPointOnSegment(t,e,i,!0);n>p&&(n=p,a=o.LineUtil._sqClosestPointOnSegment(t,e,i))}return a&&(a.distance=Math.sqrt(n)),a},getBounds:function(){return new o.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var i,n,s=e?t:[];for(i=0,n=t.length;n>i;i++){if(o.Util.isArray(t[i])&&"number"!=typeof t[i][0])return;s[i]=o.latLng(t[i])}return s},_initEvents:function(){o.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,i=o.Path.VML,n=0,s=t.length,a="";s>n;n++)e=t[n],i&&e._round(),a+=(n?"L":"M")+e.x+" "+e.y;return a},_clipPoints:function(){var t,e,i,n=this._originalPoints,s=n.length;if(this.options.noClip)return void(this._parts=[n]);this._parts=[];var a=this._parts,r=this._map._pathViewport,h=o.LineUtil;for(t=0,e=0;s-1>t;t++)i=h.clipSegment(n[t],n[t+1],r,t),i&&(a[e]=a[e]||[],a[e].push(i[0]),(i[1]!==n[t+1]||t===s-2)&&(a[e].push(i[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=o.LineUtil,i=0,n=t.length;n>i;i++)t[i]=e.simplify(t[i],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),o.Path.prototype._updatePath.call(this))}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e){var i,n,s,a,r,h,l,u,c,p=[1,4,2,8],d=o.LineUtil;for(n=0,l=t.length;l>n;n++)t[n]._code=d._getBitCode(t[n],e);for(a=0;4>a;a++){for(u=p[a],i=[],n=0,l=t.length,s=l-1;l>n;s=n++)r=t[n],h=t[s],r._code&u?h._code&u||(c=d._getEdgeIntersection(h,r,u,e),c._code=d._getBitCode(c,e),i.push(c)):(h._code&u&&(c=d._getEdgeIntersection(h,r,u,e),c._code=d._getBitCode(c,e),i.push(c)),i.push(r));t=i}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},initialize:function(t,e){o.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,i,n;if(t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,i=this._holes.length;i>e;e++)n=this._holes[e]=this._convertLatLngs(this._holes[e]),n[0].equals(n[n.length-1])&&n.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(o.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,i,n;for(t=0,i=this._holes.length;i>t;t++)for(this._holePoints[t]=[],e=0,n=this._holes[t].length;n>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):o.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var i=0,n=this._parts.length;n>i;i++){var s=o.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);s.length&&e.push(s)}this._parts=e}},_getPathPartStr:function(t){var e=o.Polyline.prototype._getPathPartStr.call(this,t);return e+(o.Browser.svg?"z":"x")}}),o.polygon=function(t,e){return new o.Polygon(t,e)},function(){function t(t){return o.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var i=0,n=e.length;for(this.eachLayer(function(t){n>i?t.setLatLngs(e[i++]):this.removeLayer(t)},this);n>i;)this.addLayer(new t(e[i++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}o.MultiPolyline=t(o.Polyline),o.MultiPolygon=t(o.Polygon),o.multiPolyline=function(t,e){return new o.MultiPolyline(t,e)},o.multiPolygon=function(t,e){return new o.MultiPolygon(t,e)}}(),o.Rectangle=o.Polygon.extend({initialize:function(t,e){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.Circle=o.Path.extend({initialize:function(t,e,i){o.Path.prototype.initialize.call(this,i),this._latlng=o.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,i=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-i.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,i=this._latlng;return new o.LatLngBounds([i.lat-e,i.lng-t],[i.lat+e,i.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":o.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(o.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),o.circle=function(t,e,i){return new o.Circle(t,e,i)},o.CircleMarker=o.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){o.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){o.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return o.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.Polyline.include(o.Path.CANVAS?{_containsPoint:function(t,e){var i,n,s,a,r,h,l,u=this.options.weight/2;for(o.Browser.touch&&(u+=10),i=0,a=this._parts.length;a>i;i++)for(l=this._parts[i],n=0,r=l.length,s=r-1;r>n;s=n++)if((e||0!==n)&&(h=o.LineUtil.pointToSegmentDistance(t,l[s],l[n]),u>=h))return!0;return!1}}:{}),o.Polygon.include(o.Path.CANVAS?{_containsPoint:function(t){var e,i,n,s,a,r,h,l,u=!1;if(o.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(s=0,h=this._parts.length;h>s;s++)for(e=this._parts[s],a=0,l=e.length,r=l-1;l>a;r=a++)i=e[a],n=e[r],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(u=!u);return u}}:{}),o.Circle.include(o.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),o.CircleMarker.include(o.Path.CANVAS?{_updateStyle:function(){o.Path.prototype._updateStyle.call(this)}}:{}),o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,s=o.Util.isArray(t)?t:t.features;if(s){for(e=0,i=s.length;i>e;e++)n=s[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(s[e]);return this}var a=this.options;if(!a.filter||a.filter(t)){var r=o.GeoJSON.geometryToLayer(t,a.pointToLayer,a.coordsToLatLng,a);return r.feature=o.GeoJSON.asFeature(t),r.defaultOptions=r.options,this.resetStyle(r),a.onEachFeature&&a.onEachFeature(t,r),this.addLayer(r)}},resetStyle:function(t){var e=this.options.style;e&&(o.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e,i,n){var s,a,r,h,l="Feature"===t.type?t.geometry:t,u=l.coordinates,c=[];switch(i=i||this.coordsToLatLng,l.type){case"Point":return s=i(u),e?e(t,s):new o.Marker(s);case"MultiPoint":for(r=0,h=u.length;h>r;r++)s=i(u[r]),c.push(e?e(t,s):new o.Marker(s));return new o.FeatureGroup(c);case"LineString":return a=this.coordsToLatLngs(u,0,i),new o.Polyline(a,n);case"Polygon":if(2===u.length&&!u[1].length)throw new Error("Invalid GeoJSON object.");return a=this.coordsToLatLngs(u,1,i),new o.Polygon(a,n);case"MultiLineString":return a=this.coordsToLatLngs(u,1,i),new o.MultiPolyline(a,n);case"MultiPolygon":return a=this.coordsToLatLngs(u,2,i),new o.MultiPolygon(a,n);case"GeometryCollection":for(r=0,h=l.geometries.length;h>r;r++)c.push(this.geometryToLayer({geometry:l.geometries[r],type:"Feature",properties:t.properties},e,i,n));return new o.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){var n,o,s,a=[];for(o=0,s=t.length;s>o;o++)n=e?this.coordsToLatLngs(t[o],e-1,i):(i||this.coordsToLatLng)(t[o]),a.push(n);return a},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==i&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push(o.GeoJSON.latLngToCoords(t[i]));return e},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(a),o.Circle.include(a),o.CircleMarker.include(a),o.Polyline.include({toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"LineString",coordinates:o.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),o.Polygon.include({toGeoJSON:function(){var t,e,i,n=[o.GeoJSON.latLngsToCoords(this.getLatLngs())];if(n[0].push(n[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)i=o.GeoJSON.latLngsToCoords(this._holes[t]),i.push(i[0]),n.push(i);return o.GeoJSON.getFeature(this,{type:"Polygon",coordinates:n})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:t,coordinates:e})}}o.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),o.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),o.LayerGroup.include({toGeoJSON:function(){var e,i=this.feature&&this.feature.geometry,n=[];if(i&&"MultiPoint"===i.type)return t("MultiPoint").call(this);var s=i&&"GeometryCollection"===i.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),n.push(s?e.geometry:o.GeoJSON.asFeature(e)))}),s?o.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}})}(),o.geoJson=function(t,e){return new o.GeoJSON(t,e)},o.DomEvent={addListener:function(t,e,i,n){var s,a,r,h=o.stamp(i),l="_leaflet_"+e+h;return t[l]?this:(s=function(e){return i.call(n||t,e||o.DomEvent._getEvent())},o.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,s,h):(o.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,s,h),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",s,!1),t.addEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?(a=s,r="mouseenter"===e?"mouseover":"mouseout",s=function(e){return o.DomEvent._checkMouse(t,e)?a(e):void 0},t.addEventListener(r,s,!1)):"click"===e&&o.Browser.android?(a=s,s=function(t){return o.DomEvent._filterClick(t,a)},t.addEventListener(e,s,!1)):t.addEventListener(e,s,!1):"attachEvent"in t&&t.attachEvent("on"+e,s),t[l]=s,this))},removeListener:function(t,e,i){var n=o.stamp(i),s="_leaflet_"+e+n,a=t[s];return a?(o.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,n):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",a,!1),t.removeEventListener(e,a,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1):t.removeEventListener(e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[s]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=o.DomEvent.stopPropagation;return o.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=o.DomEvent.stopPropagation,i=o.Draggable.START.length-1;i>=0;i--)o.DomEvent.on(t,o.Draggable.START[i],e);return o.DomEvent.on(t,"click",o.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new o.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new o.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_getEvent:function(){var e=t.event;if(!e)for(var i=arguments.callee.caller;i&&(e=i.arguments[0],!e||t.Event!==e.constructor);)i=i.caller;return e},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent.timeStamp,n=o.DomEvent._lastClick&&i-o.DomEvent._lastClick;return n&&n>100&&500>n||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=i,e(t))}},o.DomEvent.on=o.DomEvent.addListener,o.DomEvent.off=o.DomEvent.removeListener,o.Draggable=o.Class.extend({includes:o.Mixin.Events,statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.on(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.off(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!(t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(o.DomEvent.stopPropagation(t),o.Draggable._disabled||(o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),this._moving)))){var i=t.touches?t.touches[0]:t;this._startPoint=new o.Point(i.clientX,i.clientY),this._startPos=this._newPos=o.DomUtil.getPosition(this._element),o.DomEvent.on(e,o.Draggable.MOVE[t.type],this._onMove,this).on(e,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var i=t.touches&&1===t.touches.length?t.touches[0]:t,n=new o.Point(i.clientX,i.clientY),s=n.subtract(this._startPoint);(s.x||s.y)&&(o.Browser.touch&&Math.abs(s.x)+Math.abs(s.y)<3||(o.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(s),o.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){o.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in o.Draggable.MOVE)o.DomEvent.off(e,o.Draggable.MOVE[t],this._onMove).off(e,o.Draggable.END[t],this._onUp);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:o.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,a=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,i=e.options,n=+new Date-this._lastTime,s=!i.inertia||n>i.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),s)e.fire("moveend");else{var a=this._lastPos.subtract(this._positions[0]),r=(this._lastTime+n-this._times[0])/1e3,h=i.easeLinearity,l=a.multiplyBy(h/r),u=l.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,u),p=l.multiplyBy(c/u),d=c/(i.inertiaDeceleration*h),m=p.multiplyBy(-d/2).round();m.x&&m.y?(m=e._limitOffset(m,e.options.maxBounds),o.Util.requestAnimFrame(function(){e.panBy(m,{duration:d,easeLinearity:h,noMoveStart:!0})})):e.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),o.DomEvent.on(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),o.DomEvent.off(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),i),o.DomEvent.preventDefault(t),o.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,i=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(i+e)-i,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(i+e):t.setZoomAround(this._lastMousePos,i+e))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,i,n){function s(t){var e;if(o.Browser.pointer?(m.push(t.pointerId),e=m.length):e=t.touches.length,!(e>1)){var i=Date.now(),n=i-(r||i);h=t.touches?t.touches[0]:t,l=n>0&&u>=n,r=i}}function a(t){if(o.Browser.pointer){var e=m.indexOf(t.pointerId);if(-1===e)return;m.splice(e,1)}if(l){if(o.Browser.pointer){var n,s={};for(var a in h)n=h[a],s[a]="function"==typeof n?n.bind(h):n;h=s}h.type="dblclick",i(h),r=null}}var r,h,l=!1,u=250,c="_leaflet_",p=this._touchstart,d=this._touchend,m=[];t[c+p+n]=s,t[c+d+n]=a;var _=o.Browser.pointer?e.documentElement:t;return t.addEventListener(p,s,!1),_.addEventListener(d,a,!1),o.Browser.pointer&&_.addEventListener(o.DomEvent.POINTER_CANCEL,a,!1),this},removeDoubleTapListener:function(t,i){var n="_leaflet_";return t.removeEventListener(this._touchstart,t[n+this._touchstart+i],!1),(o.Browser.pointer?e.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+i],!1),o.Browser.pointer&&e.documentElement.removeEventListener(o.DomEvent.POINTER_CANCEL,t[n+this._touchend+i],!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,i,n){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,i,n);case"touchend":return this.addPointerListenerEnd(t,e,i,n);case"touchmove":return this.addPointerListenerMove(t,e,i,n);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,i,n,s){var a="_leaflet_",r=this._pointers,h=function(t){o.DomEvent.preventDefault(t);for(var e=!1,i=0;i<r.length;i++)if(r[i].pointerId===t.pointerId){e=!0;
break}e||r.push(t),t.touches=r.slice(),t.changedTouches=[t],n(t)};if(t[a+"touchstart"+s]=h,t.addEventListener(this.POINTER_DOWN,h,!1),!this._pointerDocumentListener){var l=function(t){for(var e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r.splice(e,1);break}};e.documentElement.addEventListener(this.POINTER_UP,l,!1),e.documentElement.addEventListener(this.POINTER_CANCEL,l,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,i,n){function o(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a[e]=t;break}t.touches=a.slice(),t.changedTouches=[t],i(t)}}var s="_leaflet_",a=this._pointers;return t[s+"touchmove"+n]=o,t.addEventListener(this.POINTER_MOVE,o,!1),this},addPointerListenerEnd:function(t,e,i,n){var o="_leaflet_",s=this._pointers,a=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}t.touches=s.slice(),t.changedTouches=[t],i(t)};return t[o+"touchend"+n]=a,t.addEventListener(this.POINTER_UP,a,!1),t.addEventListener(this.POINTER_CANCEL,a,!1),this},removePointerListener:function(t,e,i){var n="_leaflet_",o=t[n+e+i];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,o,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,o,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,o,!1),t.removeEventListener(this.POINTER_CANCEL,o,!1)}return this}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var n=i.mouseEventToLayerPoint(t.touches[0]),s=i.mouseEventToLayerPoint(t.touches[1]),a=i._getCenterLayerPoint();this._startCenter=n.add(s)._divideBy(2),this._startDist=n.distanceTo(s),this._moved=!1,this._zooming=!0,this._centerOffset=a.subtract(this._startCenter),i._panAnim&&i._panAnim.stop(),o.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),n=e.mouseEventToLayerPoint(t.touches[1]);this._scale=i.distanceTo(n)/this._startDist,this._delta=i._add(n)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(o.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),o.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),n=t.getScaleZoom(this._scale);t._animateZoom(i,n,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,o.DomUtil.removeClass(t._mapPane,"leaflet-touching"),o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var i=this._getScaleOrigin(),n=t.layerPointToLatLng(i),s=t.getZoom(),a=t.getScaleZoom(this._scale)-s,r=a>0?Math.ceil(a):Math.floor(a),h=t._limitZoom(s+r),l=t.getZoomScale(h)/this._scale;t._animateZoom(n,h,i,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new o.Point(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),o.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var i=t.changedTouches[0],n=i.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.removeClass(n,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY)},_simulateEvent:function(i,n){var o=e.createEvent("MouseEvents");o._simulated=!0,n.target._simulatedClick=!0,o.initMouseEvent(i,!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(o)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button?!1:(o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void o.DomEvent.on(e,"mousemove",this._onMouseMove,this).on(e,"mouseup",this._onMouseUp,this).on(e,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=o.DomUtil.create("div","leaflet-zoom-box",this._pane),o.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,i=this._box,n=this._map.mouseEventToLayerPoint(t),s=n.subtract(e),a=new o.Point(Math.min(n.x,e.x),Math.min(n.y,e.y));o.DomUtil.setPosition(i,a),this._moved=!0,i.style.width=Math.max(0,Math.abs(s.x)-4)+"px",i.style.height=Math.max(0,Math.abs(s.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(e,"mousemove",this._onMouseMove).off(e,"mouseup",this._onMouseUp).off(e,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,i=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(i)){var n=new o.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(i));e.fitBounds(n),e.fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),o.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;o.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var i=e.body,n=e.documentElement,o=i.scrollTop||n.scrollTop,s=i.scrollLeft||n.scrollLeft;this._map._container.focus(),t.scrollTo(s,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;i>e;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;i>e;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;i>e;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;i>e;e++)n[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;i>e;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;i>e;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,i=this._map;if(e in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;i.panBy(this._panKeys[e]),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else{if(!(e in this._zoomKeys))return;i.setZoom(i.getZoom()+this._zoomKeys[e])}o.DomEvent.stop(t)}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),o.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,i=o.DomUtil.getPosition(t._icon),n=t._map.layerPointToLatLng(i);e&&o.DomUtil.setPosition(e,i),t._latlng=n,t.fire("move",{latlng:n}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return o.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),i=t._controlCorners[e];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,s){var a=i+t+" "+i+s;e[t+s]=o.DomUtil.create("div",a,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=o.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=o.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",i,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",i,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,i,n,s,a){var r=o.DomUtil.create("a",i,n);r.innerHTML=t,r.href="#",r.title=e;var h=o.DomEvent.stopPropagation;return o.DomEvent.on(r,"click",h).on(r,"mousedown",h).on(r,"dblclick",h).on(r,"click",o.DomEvent.preventDefault).on(r,"click",s,a).on(r,"click",this._refocusOnMap,a),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&o.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new o.Control.Attribution).addTo(this))}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",i=o.DomUtil.create("div",e),n=this.options;return this._addScales(n,e,i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=o.DomUtil.create("div",e+"-line",i)),t.imperial&&(this._iScale=o.DomUtil.create("div",e+"-line",i))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,i=6378137*Math.PI*Math.cos(e*Math.PI/180),n=i*(t.getNorthEast().lng-t.getSouthWest().lng)/180,o=this._map.getSize(),s=this.options,a=0;o.x>0&&(a=n*(s.maxWidth/o.x)),this._updateScales(s,a)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,i,n,o=3.2808399*t,s=this._iScale;o>5280?(e=o/5280,i=this._getRoundNum(e),s.style.width=this._getScaleWidth(i/e)+"px",s.innerHTML=i+" mi"):(n=this._getRoundNum(o),s.style.width=this._getScaleWidth(n/o)+"px",s.innerHTML=n+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,i){o.setOptions(this,i),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=o.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.Browser.touch?o.DomEvent.on(e,"click",o.DomEvent.stopPropagation):o.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var i=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var n=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",o.Browser.touch?o.DomEvent.on(n,"click",o.DomEvent.stop).on(n,"click",this._expand,this):o.DomEvent.on(n,"focus",this._expand,this),o.DomEvent.on(i,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",i),this._separator=o.DomUtil.create("div",t+"-separator",i),this._overlaysList=o.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_addLayer:function(t,e,i){var n=o.stamp(t);this._layers[n]={layer:t,name:e,overlay:i},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,i=!1,n=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),n=n||e.overlay,i=i||!e.overlay;this._separator.style.display=n&&i?"":"none"}},_onLayerChange:function(t){var e=this._layers[o.stamp(t.layer)];if(e){this._handlingClick||this._update();var i=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)}},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';i&&(n+=' checked="checked"'),n+="/>";var o=e.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var i,n=e.createElement("label"),s=this._map.hasLayer(t.layer);t.overlay?(i=e.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=s):i=this._createRadioElement("leaflet-base-layers",s),i.layerId=o.stamp(t.layer),o.DomEvent.on(i,"click",this._onInputClick,this);var a=e.createElement("span");a.innerHTML=" "+t.name,n.appendChild(i),n.appendChild(a);var r=t.overlay?this._overlaysList:this._baseLayersList;return r.appendChild(n),n},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=n.length;for(this._handlingClick=!0,t=0;o>t;t++)e=n[t],i=this._layers[e.layerId],e.checked&&!this._map.hasLayer(i.layer)?this._map.addLayer(i.layer):!e.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),o.control.layers=function(t,e,i){return new o.Control.Layers(t,e,i)},o.PosAnimation=o.Class.extend({includes:o.Mixin.Events,run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[o.DomUtil.TRANSITION]="all "+(i||.25)+"s cubic-bezier(0,0,"+(n||.5)+",1)",o.DomEvent.on(t,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),o.DomUtil.setPosition(t,e),o.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(o.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(o.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),o.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,i,n,s=this._el,a=t.getComputedStyle(s);if(o.Browser.any3d){if(n=a[o.DomUtil.TRANSFORM].match(this._transformRe),!n)return;e=parseFloat(n[1]),i=parseFloat(n[2])}else e=parseFloat(a.left),i=parseFloat(a.top);return new o.Point(e,i,!0)},_onTransitionEnd:function(){o.DomEvent.off(this._el,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[o.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),o.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(o.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=o.extend({animate:n.animate},n.zoom),n.pan=o.extend({animate:n.animate},n.pan));var s=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(i)?(this.panBy(i,e),!0):!1}}),o.PosAnimation=o.DomUtil.TRANSITION?o.PosAnimation:o.PosAnimation.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));o.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),o.DomUtil.TRANSITION&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.android23&&!o.Browser.mobileOpera,this._zoomAnimated&&o.DomEvent.on(this._mapPane,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),o.Map.include(o.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n),s=this._getCenterLayerPoint()._add(o);return i.animate===!0||this.getSize().contains(o)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,s,n,null,!0),!0):!1},_animateZoom:function(t,e,i,n,s,a,r){r||(this._animatingZoom=!0),o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,o.Draggable&&(o.Draggable._disabled=!0),o.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:i,scale:n,delta:s,backwards:a})},this)},_onZoomTransitionEnd:function(){this._animatingZoom=!1,o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),o.Draggable&&(o.Draggable._disabled=!1)}}:{}),o.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,i=o.DomUtil.TRANSFORM,n=t.delta?o.DomUtil.getTranslateString(t.delta):e.style[i],s=o.DomUtil.getScaleString(t.scale,t.origin);e.style[i]=t.backwards?s+" "+n:n+" "+s},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),o.Util.falseFn(e.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[o.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,i=this._getLoadedTilesPercentage(e),n=this._getLoadedTilesPercentage(t);return e&&i>.5&&.5>n?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[o.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,i,n=t.getElementsByTagName("img"),o=0;for(e=0,i=n.length;i>e;e++)n[e].complete&&o++;return o/i},_stopLoadingImages:function(t){var e,i,n,s=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,i=s.length;i>e;e++)n=s[e],n.complete||(n.onload=o.Util.falseFn,n.onerror=o.Util.falseFn,n.src=o.Util.emptyImageUrl,n.parentNode.removeChild(n))}}),o.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=o.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),i=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new o.LatLng(e,i),s=180*t.coords.accuracy/40075017,a=s/Math.cos(o.LatLng.DEG_TO_RAD*e),r=o.latLngBounds([e-s,i-a],[e+s,i+a]),h=this._locateOptions;if(h.setView){var l=Math.min(this.getBoundsZoom(r),h.maxZoom);this.setView(n,l)}var u={latlng:n,bounds:r,timestamp:t.timestamp};for(var c in t.coords)"number"==typeof t.coords[c]&&(u[c]=t.coords[c]);this.fire("locationfound",u)}})}(window,document)}).call(this),function(){!function(){"use strict";L.TileLayer.Provider=L.TileLayer.extend({initialize:function(t,e){var i=L.TileLayer.Provider.providers,n=t.split("."),o=n[0],s=n[1];if(!i[o])throw"No such provider ("+o+")";var a={url:i[o].url,options:i[o].options};if(s&&"variants"in i[o]){if(!(s in i[o].variants))throw"No such variant of "+o+" ("+s+")";var r=i[o].variants[s],h;h="string"==typeof r?{variant:r}:r.options,a={url:r.url||a.url,options:L.Util.extend({},a.options,h)}}else"function"==typeof a.url&&(a.url=a.url(n.splice(1,n.length-1).join(".")));var l=function(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,function(t,e){return l(i[e].options.attribution)})};a.options.attribution=l(a.options.attribution);var u=L.Util.extend({},a.options,e);L.TileLayer.prototype.initialize.call(this,a.url,u)}}),L.TileLayer.Provider.providers={OpenStreetMap:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://{s}.www.toolserver.org/tiles/bw-mapnik/{z}/{x}/{y}.png"},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png"},HOT:{url:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},Thunderforest:{url:"http://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, {attribution.OpenStreetMap}',variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:"transport",Landscape:"landscape",Outdoors:"outdoors"}},OpenMapSurfer:{url:"http://openmapsurfer.uni-hd.de/tiles/{variant}/x={x}&y={y}&z={z}",options:{minZoom:0,maxZoom:20,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Roads:"roads",AdminBounds:{options:{variant:"adminb",maxZoom:19}},Grayscale:{options:{variant:"roadsg",maxZoom:19}}}},MapQuestOpen:{url:"http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpeg",options:{attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"1234"},variants:{OSM:{},Aerial:{url:"http://oatile{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",options:{attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'}}}},MapBox:{url:function(t){return"http://{s}.tiles.mapbox.com/v3/"+t+"/{z}/{x}/{y}.png"},options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd"}},Stamen:{url:"http://{s}.tile.stamen.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Terrain:{options:{variant:"terrain",minZoom:4,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:4,maxZoom:18}},Watercolor:{options:{variant:"watercolor",minZoom:3,maxZoom:16}}}},Esri:{url:"http://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"http://{s}.{base}.maps.cit.api.here.com/maptile/2.1/maptile/{mapID}/{variant}/{z}/{x}/{y}/256/png8?app_id={app_id}&app_code={app_code}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",minZoom:0,maxZoom:20},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},Acetate:{url:"http://a{s}.acetate.geoiq.com/tiles/{variant}/{z}/{x}/{y}.png",options:{attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth",subdomains:"0123",minZoom:2,maxZoom:18,variant:"acetate-base"},variants:{basemap:"acetate-base",terrain:"terrain",all:"acetate-hillshading",foreground:"acetate-fg",roads:"acetate-roads",labels:"acetate-labels",hillshading:"hillshading"}}},L.tileLayer.provider=function(t,e){return new L.TileLayer.Provider(t,e)
},L.Control.Layers.Provided=L.Control.Layers.extend({initialize:function(t,e,i){var n,o=function(t){return t.replace(/\./g,": ").replace(/([a-z])([A-Z])/g,"$1 $2")};t.length&&(!function(){for(var e={},i=t.length,s=0;i>s;)"string"==typeof t[s]&&(0===s?(n=L.tileLayer.provider(t[0]),e[o(t[s])]=n):e[o(t[s])]=L.tileLayer.provider(t[s])),s++;t=e}(),this._first=n),e&&e.length&&!function(){for(var t={},i=e.length,n=0;i>n;)"string"==typeof e[n]&&(t[o(e[n])]=L.tileLayer.provider(e[n])),n++;e=t}(),L.Control.Layers.prototype.initialize.call(this,t,e,i)},onAdd:function(t){return this._first.addTo(t),L.Control.Layers.prototype.onAdd.call(this,t)}}),L.control.layers.provided=function(t,e,i){return new L.Control.Layers.Provided(t,e,i)}}()}.call(this),"undefined"==typeof Package&&(Package={}),Package["mrt:leaflet"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["mquandalle:jade"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["fourseven:scss"]={}}();

!function(){var t=Package.meteor.Meteor,n,e;(function(){n={},n.active=!1,n.currentComputation=null;var e=function(t){n.currentComputation=t,n.active=!!t},o=function(){return"undefined"!=typeof t?t._debug:"undefined"!=typeof console&&console.log?function(){console.log.apply(console,arguments)}:function(){}},r=function(t,n){if(p)throw n;var e;if(n.stack&&n.message){var r=n.stack.indexOf(n.message);e=r>=0&&10>=r?n.stack:n.message+("\n"===n.stack.charAt(0)?"":"\n")+n.stack}else e=n.stack||n.message;o()("Exception from Tracker "+t+" function:",e)},a=function(n){return"undefined"==typeof t||t.isClient?n:function(){var e=arguments;t._noYieldsAllowed(function(){n.apply(null,e)})}},i=1,u=[],c=!1,s=!1,f=!1,p=!1,d=[],l=function(){c||(setTimeout(n.flush,0),c=!0)},v=!1;n.Computation=function(t,n){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var e=this;e.stopped=!1,e.invalidated=!1,e.firstRun=!0,e._id=i++,e._onInvalidateCallbacks=[],e._parent=n,e._func=t,e._recomputing=!1;var o=!0;try{e._compute(),o=!1}finally{e.firstRun=!1,o&&e.stop()}},n.Computation.prototype.onInvalidate=function(t){var e=this;if("function"!=typeof t)throw new Error("onInvalidate requires a function");e.invalidated?n.nonreactive(function(){a(t)(e)}):e._onInvalidateCallbacks.push(t)},n.Computation.prototype.invalidate=function(){var t=this;if(!t.invalidated){t._recomputing||t.stopped||(l(),u.push(this)),t.invalidated=!0;for(var e=0,o;o=t._onInvalidateCallbacks[e];e++)n.nonreactive(function(){a(o)(t)});t._onInvalidateCallbacks=[]}},n.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate())},n.Computation.prototype._compute=function(){var t=this;t.invalidated=!1;var o=n.currentComputation;e(t);var r=f;f=!0;try{a(t._func)(t)}finally{e(o),f=!1}},n.Computation.prototype._recompute=function(){var t=this;t._recomputing=!0;try{for(;t.invalidated&&!t.stopped;)try{t._compute()}catch(n){r("recompute",n)}}finally{t._recomputing=!1}},n.Dependency=function(){this._dependentsById={}},n.Dependency.prototype.depend=function(t){if(!t){if(!n.active)return!1;t=n.currentComputation}var e=this,o=t._id;return o in e._dependentsById?!1:(e._dependentsById[o]=t,t.onInvalidate(function(){delete e._dependentsById[o]}),!0)},n.Dependency.prototype.changed=function(){var t=this;for(var n in t._dependentsById)t._dependentsById[n].invalidate()},n.Dependency.prototype.hasDependents=function(){var t=this;for(var n in t._dependentsById)return!0;return!1},n.flush=function(t){if(s)throw new Error("Can't call Tracker.flush while flushing");if(f)throw new Error("Can't flush inside Tracker.autorun");s=!0,c=!0,p=!(!t||!t._throwFirstError);var e=!1;try{for(;u.length||d.length;){for(;u.length;){var o=u.shift();o._recompute()}if(d.length){var a=d.shift();try{a()}catch(i){r("afterFlush",i)}}}e=!0}finally{e||(s=!1,n.flush({_throwFirstError:!1})),c=!1,s=!1}},n.autorun=function(t){if("function"!=typeof t)throw new Error("Tracker.autorun requires a function argument");v=!0;var e=new n.Computation(t,n.currentComputation);return n.active&&n.onInvalidate(function(){e.stop()}),e},n.nonreactive=function(t){var o=n.currentComputation;e(null);try{return t()}finally{e(o)}},n.onInvalidate=function(t){if(!n.active)throw new Error("Tracker.onInvalidate requires a currentComputation");n.currentComputation.onInvalidate(t)},n.afterFlush=function(t){d.push(t),l()}}).call(this),function(){t.flush=n.flush,t.autorun=n.autorun,t.autosubscribe=n.autorun,n.depend=function(t){return t.depend()},e=n}.call(this),"undefined"==typeof Package&&(Package={}),Package.tracker={Tracker:n,Deps:e}}();

!function(){var e=Package.meteor.Meteor,a=Package.tracker.Tracker,c=Package.tracker.Deps,a,c;"undefined"==typeof Package&&(Package={}),Package.deps={Tracker:a,Deps:c}}();

!function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u=gap,i,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(a)){for(f=a.length,n=0;f>n;n+=1)i[n]=str(n,a)||"null";return o=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+u+"]":"["+i.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;f>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,a),o&&i.push(quote(r)+(gap?": ":":")+o));else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(o=str(r,a),o&&i.push(quote(r)+(gap?": ":":")+o));return o=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+u+"}":"{"+i.join(",")+"}",gap=u,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}();

!function(){var n=Package.meteor.Meteor,r;(function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={},a=0;a<n.length;a++)e[n.charAt(a)]=a;r={},r.encode=function(n){if("string"==typeof n){var e=n;n=r.newBinary(e.length);for(var a=0;a<e.length;a++){var l=e.charCodeAt(a);if(l>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");n[a]=l}}for(var u=[],i=null,o=null,c=null,s=null,a=0;a<n.length;a++)switch(a%3){case 0:i=n[a]>>2&63,o=(3&n[a])<<4;break;case 1:o|=n[a]>>4&15,c=(15&n[a])<<2;break;case 2:c|=n[a]>>6&3,s=63&n[a],u.push(t(i)),u.push(t(o)),u.push(t(c)),u.push(t(s)),i=null,o=null,c=null,s=null}return null!=i&&(u.push(t(i)),u.push(t(o)),u.push(null==c?"=":t(c)),null==s&&u.push("=")),u.join("")};var t=function(r){return n.charAt(r)},l=function(n){return"="===n?-1:e[n]};r.newBinary=function(n){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var r=[],e=0;n>e;e++)r.push(0);return r.$Uint8ArrayPolyfill=!0,r}return new Uint8Array(new ArrayBuffer(n))},r.decode=function(n){var e=Math.floor(3*n.length/4);"="==n.charAt(n.length-1)&&(e--,"="==n.charAt(n.length-2)&&e--);for(var a=r.newBinary(e),t=null,u=null,i=null,o=0,c=0;c<n.length;c++){var s=n.charAt(c),f=l(s);switch(c%4){case 0:if(0>f)throw new Error("invalid base64 string");t=f<<2;break;case 1:if(0>f)throw new Error("invalid base64 string");t|=f>>4,a[o++]=t,u=(15&f)<<4;break;case 2:f>=0&&(u|=f>>2,a[o++]=u,i=(3&f)<<6);break;case 3:f>=0&&(a[o++]=i|f)}}return a}}).call(this),"undefined"==typeof Package&&(Package={}),Package.base64={Base64:r}}();

!function(){var n=Package.meteor.Meteor,e=Package.json.JSON,t=Package.underscore._,r=Package.base64.Base64,u,a;(function(){u={},a={};var i={};u.addType=function(n,e){if(t.has(i,n))throw new Error("Type "+n+" already present");i[n]=e};var o=function(n){return t.isNaN(n)||1/0===n||n===-1/0},f=[{matchJSONValue:function(n){return t.has(n,"$date")&&1===t.size(n)},matchObject:function(n){return n instanceof Date},toJSONValue:function(n){return{$date:n.getTime()}},fromJSONValue:function(n){return new Date(n.$date)}},{matchJSONValue:function(n){return t.has(n,"$InfNaN")&&1===t.size(n)},matchObject:o,toJSONValue:function(n){var e;return e=t.isNaN(n)?0:1/0===n?1:-1,{$InfNaN:e}},fromJSONValue:function(n){return n.$InfNaN/0}},{matchJSONValue:function(n){return t.has(n,"$binary")&&1===t.size(n)},matchObject:function(n){return"undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&t.has(n,"$Uint8ArrayPolyfill")},toJSONValue:function(n){return{$binary:r.encode(n)}},fromJSONValue:function(n){return r.decode(n.$binary)}},{matchJSONValue:function(n){return t.has(n,"$escape")&&1===t.size(n)},matchObject:function(n){return t.isEmpty(n)||t.size(n)>2?!1:t.any(f,function(e){return e.matchJSONValue(n)})},toJSONValue:function(n){var e={};return t.each(n,function(n,t){e[t]=u.toJSONValue(n)}),{$escape:e}},fromJSONValue:function(n){var e={};return t.each(n.$escape,function(n,t){e[t]=u.fromJSONValue(n)}),e}},{matchJSONValue:function(n){return t.has(n,"$type")&&t.has(n,"$value")&&2===t.size(n)},matchObject:function(n){return u._isCustomType(n)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var r=e.$type;if(!t.has(i,r))throw new Error("Custom EJSON type "+r+" is not defined");var u=i[r];return n._noYieldsAllowed(function(){return u(e.$value)})}}];u._isCustomType=function(n){return n&&"function"==typeof n.toJSONValue&&"function"==typeof n.typeName&&t.has(i,n.typeName())};var c=u._adjustTypesToJSONValue=function(n){if(null===n)return null;var e=l(n);return void 0!==e?e:"object"!=typeof n?n:(t.each(n,function(e,t){if("object"==typeof e||void 0===e||o(e)){var r=l(e);return r?void(n[t]=r):void c(e)}}),n)},l=function(n){for(var e=0;e<f.length;e++){var t=f[e];if(t.matchObject(n))return t.toJSONValue(n)}return void 0};u.toJSONValue=function(n){var e=l(n);return void 0!==e?e:("object"==typeof n&&(n=u.clone(n),c(n)),n)};var s=u._adjustTypesFromJSONValue=function(n){if(null===n)return null;var e=y(n);return e!==n?e:"object"!=typeof n?n:(t.each(n,function(e,t){if("object"==typeof e){var r=y(e);if(e!==r)return void(n[t]=r);s(e)}}),n)},y=function(n){if("object"==typeof n&&null!==n&&t.size(n)<=2&&t.all(n,function(n,e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var e=0;e<f.length;e++){var r=f[e];if(r.matchJSONValue(n))return r.fromJSONValue(n)}return n};u.fromJSONValue=function(n){var e=y(n);return e===n&&"object"==typeof n?(n=u.clone(n),s(n),n):e},u.stringify=function(n,t){var r=u.toJSONValue(n);return t&&(t.canonical||t.indent)?u._canonicalStringify(r,t):e.stringify(r)},u.parse=function(n){if("string"!=typeof n)throw new Error("EJSON.parse argument should be a string");return u.fromJSONValue(e.parse(n))},u.isBinary=function(n){return!!("undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&n.$Uint8ArrayPolyfill)},u.equals=function(n,e,r){var a,i=!(!r||!r.keyOrderSensitive);if(n===e)return!0;if(t.isNaN(n)&&t.isNaN(e))return!0;if(!n||!e)return!1;if("object"!=typeof n||"object"!=typeof e)return!1;if(n instanceof Date&&e instanceof Date)return n.valueOf()===e.valueOf();if(u.isBinary(n)&&u.isBinary(e)){if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(n[a]!==e[a])return!1;return!0}if("function"==typeof n.equals)return n.equals(e,r);if("function"==typeof e.equals)return e.equals(n,r);if(n instanceof Array){if(!(e instanceof Array))return!1;if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(!u.equals(n[a],e[a],r))return!1;return!0}switch(u._isCustomType(n)+u._isCustomType(e)){case 1:return!1;case 2:return u.equals(u.toJSONValue(n),u.toJSONValue(e))}var o;if(i){var f=[];return t.each(e,function(n,e){f.push(e)}),a=0,o=t.all(n,function(n,t){return a>=f.length?!1:t!==f[a]?!1:u.equals(n,e[f[a]],r)?(a++,!0):!1}),o&&a===f.length}return a=0,o=t.all(n,function(n,i){return t.has(e,i)&&u.equals(n,e[i],r)?(a++,!0):!1}),o&&t.size(e)===a},u.clone=function(n){var e;if("object"!=typeof n)return n;if(null===n)return null;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return n;if(u.isBinary(n)){e=u.newBinary(n.length);for(var r=0;r<n.length;r++)e[r]=n[r];return e}if(t.isArray(n)||t.isArguments(n)){for(e=[],r=0;r<n.length;r++)e[r]=u.clone(n[r]);return e}return"function"==typeof n.clone?n.clone():u._isCustomType(n)?u.fromJSONValue(u.clone(u.toJSONValue(n)),!0):(e={},t.each(n,function(n,t){e[t]=u.clone(n)}),e)},u.newBinary=r.newBinary}).call(this),function(){function n(n){return e.stringify(n)}var r=function(e,u,a,i,o){var f,c,l,s,y=i,h,N=u[e];switch(typeof N){case"string":return n(N);case"number":return isFinite(N)?String(N):"null";case"boolean":return String(N);case"object":if(!N)return"null";if(y=i+a,h=[],t.isArray(N)||t.isArguments(N)){for(s=N.length,f=0;s>f;f+=1)h[f]=r(f,N,a,y,o)||"null";return l=0===h.length?"[]":y?"[\n"+y+h.join(",\n"+y)+"\n"+i+"]":"["+h.join(",")+"]"}var p=t.keys(N);return o&&(p=p.sort()),t.each(p,function(e){l=r(e,N,a,y,o),l&&h.push(n(e)+(y?": ":":")+l)}),l=0===h.length?"{}":y?"{\n"+y+h.join(",\n"+y)+"\n"+i+"}":"{"+h.join(",")+"}"}};u._canonicalStringify=function(n,e){if(e=t.extend({indent:"",canonical:!1},e),e.indent===!0)e.indent="  ";else if("number"==typeof e.indent){for(var u="",a=0;a<e.indent;a++)u+=" ";e.indent=u}return r("",{"":n},e.indent,"",e.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:u,EJSONTest:a}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n,i;(function(){var o=new e.EnvironmentVariable;n=function(e,t){var r=o.getOrNullIfOutsideFiber();r&&r.checking(e);try{l(e,t)}catch(n){throw n instanceof i.Error&&n.path&&(n.message+=" in field "+n.path),n}},i={Optional:function(e){return new a(e)},OneOf:function(){return new c(t.toArray(arguments))},Any:["__any__"],Where:function(e){return new f(e)},ObjectIncluding:function(e){return new s(e)},ObjectWithValues:function(e){return new h(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){try{return l(e,t),!0}catch(r){if(r instanceof i.Error)return!1;throw r}},_failIfArgumentsAreNotAllChecked:function(e,t,r,n){var i=new p(r,n),a=o.withValue(i,function(){return e.apply(t,r)});return i.throwUnlessAllArgumentsHaveBeenChecked(),a}};var a=function(e){this.pattern=e},c=function(e){if(t.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},f=function(e){this.condition=e},s=function(e){this.pattern=e},h=function(e){this.pattern=e},u=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],l=function(e,n){if(n!==i.Any){for(var o=0;o<u.length;++o)if(n===u[o][0]){if(typeof e===u[o][1])return;throw new i.Error("Expected "+u[o][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new i.Error("Expected null, got "+r.stringify(e))}if("string"==typeof n||"number"==typeof n){if(e===n)return;throw new i.Error("Expected "+n+", got "+r.stringify(e))}if(n===i.Integer){if("number"==typeof e&&(0|e)===e)return;throw new i.Error("Expected Integer, got "+(e instanceof Object?r.stringify(e):e))}if(n===Object&&(n=i.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+r.stringify(n));if(!t.isArray(e)&&!t.isArguments(e))throw new i.Error("Expected array, got "+r.stringify(e));return void t.each(e,function(e,t){try{l(e,n[0])}catch(r){throw r instanceof i.Error&&(r.path=w(t,r.path)),r}})}if(n instanceof f){if(n.condition(e))return;throw new i.Error("Failed Match.Where validation")}if(n instanceof a&&(n=i.OneOf(void 0,n.pattern)),n instanceof c){for(var o=0;o<n.choices.length;++o)try{return void l(e,n.choices[o])}catch(p){if(!(p instanceof i.Error))throw p}throw new i.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new i.Error("Expected "+n.name)}var g=!1,d;if(n instanceof s&&(g=!0,n=n.pattern),n instanceof h&&(g=!0,d=[n.pattern],n={}),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new i.Error("Expected object, got "+typeof e);if(null===e)throw new i.Error("Expected object, got null");if(e.constructor!==Object)throw new i.Error("Expected plain object");var y={},E={};t.each(n,function(e,t){e instanceof a?E[t]=e.pattern:y[t]=e}),t.each(e,function(e,r){try{if(t.has(y,r))l(e,y[r]),delete y[r];else if(t.has(E,r))l(e,E[r]);else{if(!g)throw new i.Error("Unknown key");d&&l(e,d[0])}}catch(n){throw n instanceof i.Error&&(n.path=w(r,n.path)),n}}),t.each(y,function(e,t){throw new i.Error("Missing key '"+t+"'")})}},p=function(e,r){var n=this;n.args=t.clone(e),n.args.reverse(),n.description=r};t.extend(p.prototype,{checking:function(e){var r=this;r._checkingOneValue(e)||(t.isArray(e)||t.isArguments(e))&&t.each(e,t.bind(r._checkingOneValue,r))},_checkingOneValue:function(e){for(var t=this,r=0;r<t.args.length;++r)if(e===t.args[r])return t.args.splice(r,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!t.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var g=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],w=function(e,r){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||t.contains(g,e))&&(e=JSON.stringify([e])),r&&"["!==r[0]?e+"."+r:e+r}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:n,Match:i}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,t;(function(){if(e.isServer)var n=Npm.require("crypto");var r=function(){function e(){var e=4022871197,n=function(n){n=n.toString();for(var t=0;t<n.length;t++){e+=n.charCodeAt(t);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return n.version="Mash 0.9",n}return function(n){var t=0,r=0,o=0,i=1;0==n.length&&(n=[+new Date]);var a=e();t=a(" "),r=a(" "),o=a(" ");for(var u=0;u<n.length;u++)t-=a(n[u]),0>t&&(t+=1),r-=a(n[u]),0>r&&(r+=1),o-=a(n[u]),0>o&&(o+=1);a=null;var d=function(){var e=2091639*t+2.3283064365386963e-10*i;return t=r,r=o,o=e-(i=0|e)};return d.uint32=function(){return 4294967296*d()},d.fract53=function(){return d()+1.1102230246251565e-16*(2097152*d()|0)},d.version="Alea 0.9",d.args=n,d}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",a=function(e){var n=this;void 0!==e&&(n.alea=r.apply(null,e))};a.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("No random generator available")},a.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var r=Math.ceil(e/2),o;try{o=n.randomBytes(r)}catch(i){o=n.pseudoRandomBytes(r)}var a=o.toString("hex");return a.substring(0,e)}for(var u=[],d=0;e>d;++d)u.push(t.choice("0123456789abcdef"));return u.join("")},a.prototype._randomString=function(e,n){for(var t=this,r=[],o=0;e>o;o++)r[o]=t.choice(n);return r.join("")},a.prototype.id=function(e){var n=this;return void 0===e&&(e=17),n._randomString(e,o)},a.prototype.secret=function(e){var n=this;return void 0===e&&(e=43),n._randomString(e,i)},a.prototype.choice=function(e){var n=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(n,1):e[n]};var u="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,d="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,c="undefined"!=typeof navigator&&navigator.userAgent||"";t=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new a:new a([new Date,u,d,c,Math.random()]),t.createWithSeeds=function(){if(0===arguments.length)throw new Error("No seeds were provided");return new a(arguments)}}).call(this),function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],r=0;36>r;r++)n[r]=t.choice(e);n[14]="4",n[19]=e.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var o=n.join("");return o}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:t}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,r=Package.underscore._,i=Package.check.check,o=Package.check.Match,a=Package.random.Random,s,u,l,c,f,p,d;(function(){!function(){"use strict";function e(e){this.s=null!==e&&void 0!==e?"string"==typeof e?e:e.toString():e,this.orig=e,null!==e&&void 0!==e?this.__defineGetter__?this.__defineGetter__("length",function(){return this.s.length}):this.length=e.length:this.length=-1}function t(){for(var e in c)!function(e){var t=c[e];l.hasOwnProperty(e)||(f.push(e),l[e]=function(){return String.prototype.s=this,t.apply(this,arguments)})}(e)}function n(){for(var e=0;e<f.length;++e)delete String.prototype[f[e]];f.length=0}function r(){for(var e=i(),t={},n=0;n<e.length;++n){var r=e[n],o=l[r];try{var a=typeof o.apply("teststring",[]);t[r]=a}catch(s){}}return t}function i(){var e=[];if(Object.getOwnPropertyNames)return e=Object.getOwnPropertyNames(l),e.splice(e.indexOf("valueOf"),1),e.splice(e.indexOf("toString"),1),e;var t={},n=[];for(var r in String.prototype)t[r]=r;for(var r in Object.prototype)delete t[r];for(var r in t)e.push(r);return e}function o(t){return new e(t)}function a(e,t){var n=[],r;for(r=0;r<e.length;r++)n.push(e[r]),t&&t.call(e,e[r],r);return n}var s="1.5.0",u={},l=String.prototype,c=e.prototype={between:function(t,n){var r=this.s,i=r.indexOf(t),o=r.indexOf(n),a=i+t.length;return new e(o>i?r.slice(a,o):"")},camelize:function(){var t=this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(e,t,n){return n?n.toUpperCase():""});return new e(t)},capitalize:function(){return new e(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(e){return this.s.charAt(e)},chompLeft:function(t){var n=this.s;return 0===n.indexOf(t)?(n=n.slice(t.length),new e(n)):this},chompRight:function(t){if(this.endsWith(t)){var n=this.s;return n=n.slice(0,n.length-t.length),new e(n)}return this},collapseWhitespace:function(){var t=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new e(t)},contains:function(e){return this.s.indexOf(e)>=0},count:function(e){for(var t=0,n=this.s.indexOf(e);n>=0;)t+=1,n=this.s.indexOf(e,n+1);return t},dasherize:function(){var t=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new e(t)},decodeHtmlEntities:function(){var t=this.s;return t=t.replace(/&#(\d+);?/g,function(e,t){return String.fromCharCode(t)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(e,t){return String.fromCharCode(parseInt(t,16))}).replace(/&([^;\W]+;?)/g,function(e,t){var n=t.replace(/;$/,""),r=u[t]||t.match(/;$/)&&u[n];return"number"==typeof r?String.fromCharCode(r):"string"==typeof r?r:e}),new e(t)},endsWith:function(e){var t=this.s.length-e.length;return t>=0&&this.s.indexOf(e,t)===t},escapeHTML:function(){return new e(this.s.replace(/[&<>"']/g,function(e){return"&"+m[e]+";"}))},ensureLeft:function(t){var n=this.s;return 0===n.indexOf(t)?this:new e(t+n)},ensureRight:function(t){var n=this.s;return this.endsWith(t)?this:new e(n+t)},humanize:function(){if(null===this.s||void 0===this.s)return new e("");var t=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new e(t)},isAlpha:function(){return!/[^a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return null===this.s||void 0===this.s?!0:/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(t){if(t>=0){var n=this.s.substr(0,t);return new e(n)}return this.right(-t)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(t,n){if(n=n||" ",this.s.length>=t)return new e(this.s);t-=this.s.length;var r=Array(Math.ceil(t/2)+1).join(n),i=Array(Math.floor(t/2)+1).join(n);return new e(r+this.s+i)},padLeft:function(t,n){return n=n||" ",new e(this.s.length>=t?this.s:Array(t-this.s.length+1).join(n)+this.s)},padRight:function(t,n){return n=n||" ",new e(this.s.length>=t?this.s:this.s+Array(t-this.s.length+1).join(n))},parseCSV:function(e,t,n,r){e=e||",",n=n||"\\","undefined"==typeof t&&(t='"');var i=0,o=[],a=[],s=this.s.length,u=!1,l=this,c=function(e){return l.s.charAt(e)};if("undefined"!=typeof r)var f=[];for(t||(u=!0);s>i;){var p=c(i);switch(p){case n:if(u&&(n!==t||c(i+1)===t)){i+=1,o.push(c(i));break}if(n!==t)break;case t:u=!u;break;case e:u&&t?o.push(p):(a.push(o.join("")),o.length=0);break;case r:u?o.push(p):f&&(a.push(o.join("")),f.push(a),a=[],o.length=0);break;default:u&&o.push(p)}i+=1}return a.push(o.join("")),f?(f.push(a),f):a},replaceAll:function(t,n){var r=this.s.split(t).join(n);return new e(r)},right:function(t){if(t>=0){var n=this.s.substr(this.s.length-t,t);return new e(n)}return this.left(-t)},slugify:function(){var t=new e(this.s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;return"-"===t.charAt(0)&&(t=t.substr(1)),new e(t)},startsWith:function(e){return 0===this.s.lastIndexOf(e,0)},stripPunctuation:function(){return new e(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var t=this.s,n=arguments.length>0?arguments:[""];return a(n,function(e){t=t.replace(RegExp("</?"+e+"[^<>]*>","gi"),"")}),new e(t)},template:function(t,n,r){var i=this.s,n=n||o.TMPL_OPEN,r=r||o.TMPL_CLOSE,a=new RegExp(n+"(.+?)"+r,"g"),s=i.match(a)||[];return s.forEach(function(e){var o=e.substring(n.length,e.length-r.length);t[o]&&(i=i.replace(e,t[o]))}),new e(i)},times:function(t){return new e(new Array(t+1).join(this.s))},toBoolean:function(){if("string"==typeof this.orig){var e=this.s.toLowerCase();return"true"===e||"yes"===e||"on"===e}return this.orig===!0||1===this.orig},toFloat:function(e){var t=parseFloat(this.s);return e?parseFloat(t.toFixed(e)):t},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var t;return t="undefined"==typeof l.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim(),new e(t)},trimLeft:function(){var t;return t=l.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,""),new e(t)},trimRight:function(){var t;return t=l.trimRight?this.s.trimRight():this.s.replace(/\s+$/,""),new e(t)},truncate:function(t,n){var r=this.s;if(t=~~t,n=n||"...",r.length<=t)return new e(r);var i=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},o=r.slice(0,t+1).replace(/.(?=\W*\w*$)/g,i);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):new e(o.slice(0,o.length-1)).trimRight().s,new e((o+n).length>r.length?r:r.slice(0,o.length)+n)},toCSV:function(){function t(e){return null!==e&&""!==e}var n=",",r='"',i="\\",o=!0,a=!1,s=[];if("object"==typeof arguments[0]?(n=arguments[0].delimiter||n,n=arguments[0].separator||n,r=arguments[0].qualifier||r,o=!!arguments[0].encloseNumbers,i=arguments[0].escape||i,a=!!arguments[0].keys):"string"==typeof arguments[0]&&(n=arguments[0]),"string"==typeof arguments[1]&&(r=arguments[1]),null===arguments[1]&&(r=null),this.orig instanceof Array)s=this.orig;else for(var u in this.orig)this.orig.hasOwnProperty(u)&&s.push(a?u:this.orig[u]);for(var l=i+r,c=[],f=0;f<s.length;++f){var p=t(r);if("number"==typeof s[f]&&(p&=o),p&&c.push(r),null!==s[f]&&void 0!==s[f]){var d=new e(s[f]).replaceAll(r,l).s;c.push(d)}else c.push("");p&&c.push(r),n&&c.push(n)}return c.length=c.length-1,new e(c.join(""))},toString:function(){return this.s},underscore:function(){var t=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new e(this.s.charAt(0)).isUpper()&&(t="_"+t),new e(t)},unescapeHTML:function(){return new e(this.s.replace(/\&([^;]+);/g,function(e,t){var n;return t in h?h[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):e}))},valueOf:function(){return this.s.valueOf()}},f=[],p=r();for(var d in p)!function(t){var n=l[t];"function"==typeof n&&(c[t]||(c[t]="string"===p[t]?function(){return new e(n.apply(this,arguments))}:n))}(d);c.repeat=c.times,c.include=c.contains,c.toInteger=c.toInt,c.toBool=c.toBoolean,c.decodeHTMLEntities=c.decodeHtmlEntities,o.extendPrototype=t,o.restorePrototype=n,o.VERSION=s,o.TMPL_OPEN="{{",o.TMPL_CLOSE="}}",o.ENTITIES=u,"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=o:"function"==typeof define&&define.amd?define([],function(){return o}):window.S=o;var h={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},m={};for(var g in h)m[h[g]]=g;u={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}}.call(this)}).call(this),function(){u=function(e,t){function s(e,a,u,l,f,p){!l&&u&&"$"===u.substring(0,1)&&(l=u,u=null);var d=!1,h,m=!1;u&&(f||("$push"===l||"$addToSet"===l||"$pop"===l?(n(e)&&"$each"in e?(e=e.$each,a+="[$each]"):u+=".0",f=!0):"$pull"===l&&(u+=".0",n(e)&&(m=!0),f=!0)),h=i(u),d=r.contains(t,h),a&&(c._affectedKeys[a]=u,c._genericAffectedKeys[a]=h,p&&c._positionsInsideArrays.push(a))),m||(r.isArray(e)&&!r.isEmpty(e)?(a&&c._parentPositions.push(a),r.each(e,function(e,t){s(e,a?a+"["+t+"]":t,u+"."+t,l,f,!0)})):(n(e)&&!d||!a)&&(a&&!r.isEmpty(e)&&(c._parentPositions.push(a),c._objectPositions.push(a)),r.each(e,function(t,n){void 0===t?delete e[n]:"$slice"!==n&&s(t,a?a+"["+n+"]":n,o(u,n),l,f,p)})))}function l(){c._affectedKeys={},c._genericAffectedKeys={},c._parentPositions=[],c._positionsInsideArrays=[],c._objectPositions=[],s(c._obj)}var c=this;c._obj=e,c._affectedKeys={},c._genericAffectedKeys={},c._parentPositions=[],c._positionsInsideArrays=[],c._objectPositions=[],s(c._obj),c.forEachNode=function(e,t){if("function"!=typeof e)throw new Error("filter requires a loop function");t=r.extend({endPointsOnly:!0},t);var n={};r.each(c._affectedKeys,function(i,o){t.endPointsOnly&&r.contains(c._parentPositions,o)||e.call({value:c.getValueForPosition(o),operator:a(o),position:o,key:i,genericKey:c._genericAffectedKeys[o],updateValue:function(e){n[o]=e},remove:function(){n[o]=void 0}})}),r.each(n,function(e,t){c.setValueForPosition(t,e)})},c.getValueForPosition=function(e){for(var t,i=e.split("["),o=c._obj,a=0,s=i.length;s>a;a++)if(t=i[a],"]"===t.slice(-1)&&(t=t.slice(0,-1)),o=o[t],!r.isArray(o)&&!n(o)&&s-1>a)return;return o},c.setValueForPosition=function(e,t){for(var i,o,a=e.split("["),s=c._obj,u=0,f=a.length;f>u;u++)if(o=a[u],"]"===o.slice(-1)&&(o=o.slice(0,-1)),u===f-1)s[o]=t,void 0===t&&delete s[o];else if(void 0===s[o]&&void 0!==t&&(i=a[u+1],i=parseInt(i,10),s[o]=isNaN(i)?{}:[]),s=s[o],!r.isArray(s)&&!n(s)&&f-1>u)return;l()},c.removeValueForPosition=function(e){c.setValueForPosition(e,void 0)},c.getKeyForPosition=function(e){return c._affectedKeys[e]},c.getGenericKeyForPosition=function(e){return c._genericAffectedKeys[e]},c.getInfoForKey=function(e){var t=c.getPositionForKey(e);if(t)return{value:c.getValueForPosition(t),operator:a(t)};for(var n=c.getPositionsForGenericKey(e+".$"),r,i,o=0,s=n.length;s>o;o++)if(r=n[o],i=c.getValueForPosition(r)||c.getValueForPosition(r.slice(0,r.lastIndexOf("["))))return{value:i,operator:a(r)}},c.getPositionForKey=function(e){for(var t in c._affectedKeys)if(c._affectedKeys.hasOwnProperty(t)&&c._affectedKeys[t]===e)return t},c.getPositionsForGenericKey=function(e){var t=[];for(var n in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(n)&&c._genericAffectedKeys[n]===e&&t.push(n);return t},c.getValueForKey=function(e){var t=c.getPositionForKey(e);return t?c.getValueForPosition(t):void 0},c.addKey=function(e,t,n){var r=n?n+"["+e+"]":u._keyToPosition(e);c.setValueForPosition(r,t)},c.removeGenericKeys=function(e){for(var t in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(t)&&r.contains(e,c._genericAffectedKeys[t])&&c.removeValueForPosition(t)},c.removeGenericKey=function(e){for(var t in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(t)&&c._genericAffectedKeys[t]===e&&c.removeValueForPosition(t)},c.removeKey=function(e){for(var t in c._affectedKeys)c._affectedKeys.hasOwnProperty(t)&&c._affectedKeys[t]===e&&c.removeValueForPosition(t)},c.removeKeys=function(e){for(var t=0,n=e.length;n>t;t++)c.removeKey(e[t])},c.filterGenericKeys=function(e){var t,n=[],i=[];for(var o in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(o)&&(t=c._genericAffectedKeys[o],r.contains(n,t)||(n.push(t),t&&!e(t)&&i.push(t)));r.each(i,function(e){c.removeGenericKey(e)})},c.setValueForKey=function(e,t){for(var n in c._affectedKeys)c._affectedKeys.hasOwnProperty(n)&&c._affectedKeys[n]===e&&c.setValueForPosition(n,t)},c.setValueForGenericKey=function(e,t){for(var n in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(n)&&c._genericAffectedKeys[n]===e&&c.setValueForPosition(n,t)},c.getObject=function(){return c._obj},c.getFlatObject=function(e){e=e||{};var t={};return r.each(c._affectedKeys,function(n,i){("string"==typeof n&&e.keepArrays===!0&&!r.contains(c._positionsInsideArrays,i)&&!r.contains(c._objectPositions,i)||!e.keepArrays&&!r.contains(c._parentPositions,i))&&(t[n]=c.getValueForPosition(i))}),t},c.affectsKey=function(e){return!!c.getPositionForKey(e)},c.affectsGenericKey=function(e){for(var t in c._genericAffectedKeys)if(c._genericAffectedKeys.hasOwnProperty(t)&&c._genericAffectedKeys[t]===e)return!0;return!1},c.affectsGenericKeyImplicit=function(e){for(var t in c._genericAffectedKeys)if(c._genericAffectedKeys.hasOwnProperty(t)){var n=c._genericAffectedKeys[t];if(n===e)return!0;if(n.substring(0,e.length+1)===e+".")return!0;var r=e.slice(-2);if(".$"===r&&e.slice(0,-2)===n)return!0}return!1}},u.expandKey=function(e,t,n){for(var r,i,o=t.split("["),a=n,s=0,u=o.length;u>s;s++)i=o[s],"]"===i.slice(-1)&&(i=i.slice(0,-1)),s===u-1?(a[i]=e,void 0===e&&delete a[i]):(r=o[s+1],r=parseInt(r,10),a[i]||(a[i]=isNaN(r)?{}:[])),a=a[i]},u._keyToPosition=function s(e,t){var n="";return r.each(e.split("."),function(e,r){n+=0!==r||t?"["+e+"]":e}),n},u._positionToKey=function l(e){var t=new u({});t.setValueForPosition(e,1);var n=t.getKeyForPosition(e);return t=null,n};var e=r.isArray,t=function(e){return e===Object(e)};"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var n=function(e){return t(e)&&Object.getPrototypeOf(e)===Object.prototype},i=function c(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+\./g,".$.").replace(/\.[0-9]+/g,".$")},o=function f(e,t){return"$each"===t?e:e?e+"."+t:t},a=function p(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null}}.call(this),function(){l={appendAffectedKey:function e(t,n){return"$each"===n?t:t?t+"."+n:n},shouldCheck:function t(e){if("$pushAll"===e)throw new Error("$pushAll is not supported; use $push + $each");return!r.contains(["$pull","$pullAll","$pop","$slice"],e)},errorObject:function n(e,t,r,i,o){return{name:t,type:e,value:r}},isBasicObject:function i(e){return r.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype},safariBugFix:function o(e){return"undefined"!=typeof Uint8Array&&e===Uint8Array||"undefined"!=typeof Uint16Array&&e===Uint16Array||"undefined"!=typeof Uint32Array&&e===Uint32Array||"undefined"!=typeof Uint8ClampedArray&&e===Uint8ClampedArray},isNotNullOrUndefined:function a(e){return void 0!==e&&null!==e},extractOp:function s(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null},deleteIfPresent:function u(e,t){t in e&&delete e[t]},looksLikeModifier:function c(e){for(var t in e)if(e.hasOwnProperty(t)&&"$"===t.substring(0,1))return!0;return!1},dateToDateString:function f(e){var t=e.getUTCMonth()+1;10>t&&(t="0"+t);var n=e.getUTCDate();return 10>n&&(n="0"+n),e.getUTCFullYear()+"-"+t+"-"+n}}}.call(this),function(){function t(t,r){e.startup(function(){n.autorun(function(){t.isValid()||console.log('SimpleSchema invalid keys for "'+r+'" context:',t.invalidKeys())})})}function i(t,n,i){function o(e){var o=this.key;if(!r.contains(s,o)){var a=o.lastIndexOf("."),u=-1===a?"":o.slice(0,a+1),l=!1,c=e.call(r.extend({isSet:void 0!==this.value,unset:function(){l=!0},value:this.value,operator:this.operator,field:function(e){var n=t.getInfoForKey(e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}},siblingField:function(e){var n=t.getInfoForKey(u+e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}}},i||{}),t.getObject());if(s.push(o),void 0===c)return void(l&&t.removeValueForPosition(this.position));var f,p;if(r.isObject(c))for(var d in c)if(c.hasOwnProperty(d)&&"$"===d.substring(0,1)){f=d,p=c[d];break}!f&&n&&"$"!==this.position.slice(0,1)&&(f="$set",p=c),f?(t.removeValueForPosition(this.position),t.setValueForPosition(f+"["+o+"]",p)):t.setValueForPosition(this.position,c)}}var a=this,s=[];e.isClient&&void 0===i.userId&&(i.userId=e.userId&&e.userId()||null),r.each(a._autoValues,function(e,i){var a,s,c,f;if(-1!==i.indexOf("$")){var p=i.slice(0,i.lastIndexOf("$")+1);c=i.slice(p.length+1),a=u._keyToPosition(c,!0),c="."+c,f=t.getPositionsForGenericKey(p)}else f=t.getPositionsForGenericKey(i),f.length?(s=i,c="",a=""):(s=i,c="",a="",f=n?["$set["+i+"]"]:[u._keyToPosition(i)]);r.each(f,function(n){o.call({key:(s||u._positionToKey(n))+c,value:t.getValueForPosition(n+a),operator:l.extractOp(n),position:n+a},e)})})}e.isServer&&(c=Npm.require("string")),e.isClient&&(c=window.S);var a={type:o.Any,label:o.Optional(o.OneOf(String,Function)),optional:o.Optional(o.OneOf(Boolean,Function)),min:o.Optional(o.OneOf(Number,Date,Function)),max:o.Optional(o.OneOf(Number,Date,Function)),minCount:o.Optional(o.OneOf(Number,Function)),maxCount:o.Optional(o.OneOf(Number,Function)),allowedValues:o.Optional(o.OneOf([o.Any],Function)),decimal:o.Optional(Boolean),regEx:o.Optional(o.OneOf(RegExp,[RegExp])),custom:o.Optional(Function),blackbox:o.Optional(Boolean),autoValue:o.Optional(Function),defaultValue:o.Optional(o.Any),trim:o.Optional(Boolean)};s=function(e,t){var i=this,s=[],u;t=t||{},e=e||{},r.isArray(e)||(e=[e]),i._schema=v(e),i._schemaKeys=[],i._autoValues={},i._blackboxKeys=[],i._validators=[],i._messages={},i._depsMessages=new n.Dependency,i._depsLabels={},r.each(i._schema,function(e,t){if(!o.test(e,a))throw new Error("Invalid definition for "+t+" field.");if(u=t.split(".")[0],i._schemaKeys.push(t),"defaultValue"in e)if("autoValue"in e)console.warn('SimpleSchema: Found both autoValue and defaultValue options for "'+t+'". Ignoring defaultValue.');else{if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have defaultValue.');i._autoValues[t]=function l(e){return function(){return null!==this.operator||this.isSet?void 0:e}}(e.defaultValue)}if("autoValue"in e){if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have autoValue.');i._autoValues[t]=e.autoValue}i._depsLabels[t]=new n.Dependency,e.blackbox===!0&&i._blackboxKeys.push(t),r.contains(s,u)||s.push(u)}),i._firstLevelSchemaKeys=s,i._objectKeys=O(i._schema,i._schemaKeys),i._validationContexts={}},s.extendOptions=function(e){r.extend(a,e)};var f="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z](?:[a-z-]*[a-z])?",p="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\\.|$))+",h="(?:(?:[0-1]?\\d{1,2}|2[0-4]\\d|25[0-5])(?:\\.|$)){4}",m="(?:(?:[\\dA-Fa-f]{1,4}(?::|$)){8}|(?=(?:[^:\\s]|:[^:\\s])*::(?:[^:\\s]|:[^:\\s])*$)[\\dA-Fa-f]{0,4}(?:::?(?:[\\dA-Fa-f]{1,4}|$)){1,6})",g="(?:"+[p,h,m].join("|")+")";s.RegEx={Email:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Domain:new RegExp("^"+f+"$"),WeakDomain:new RegExp("^"+g+"$"),IP:new RegExp("^(?:"+h+"|"+m+")$"),IPv4:new RegExp("^"+h+"$"),IPv6:new RegExp("^"+m+"$"),Url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,Id:/^[23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz]{17}$/},s._makeGeneric=function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+\./g,".$.").replace(/\.[0-9]+/g,".$")},s._depsGlobalMessages=new n.Dependency,s.prototype=new o.Where,s.prototype.condition=function(e){var t=this,n,i;if(r.each(e,function(e,t){"$"===t.substring(0,1)?n=!0:i=!0}),n&&i)throw new o.Error("Object cannot contain modifier operators alongside other keys");if(!t.newContext().validate(e,{modifier:n,filter:!1,autoConvert:!1}))throw new o.Error("One or more properties do not match the schema.");return!0},s.prototype.namedContext=function(r){var i=this;return"string"!=typeof r&&(r="default"),i._validationContexts[r]||(i._validationContexts[r]=new d(i),s.debug&&e.isClient&&n.nonreactive(function(){t(i._validationContexts[r],r)})),i._validationContexts[r]},s._validators=[],s.addValidator=function(e){s._validators.push(e)},s.prototype.addValidator=s.prototype.validator=function(e){this._validators.push(e)},s.prototype.pick=function(){var e=this,t=r.toArray(arguments);t.unshift(e._schema);var n=r.pick.apply(null,t);return new s(n)},s.prototype.clean=function(e,t){var n=this;if(t=r.extend({filter:!0,autoConvert:!0,removeEmptyStrings:!0,trimStrings:!0,getAutoValues:!0,isModifier:!1,extendAutoValueContext:{}},t||{}),"$pushAll"in e){console.warn("SimpleSchema.clean: $pushAll is deprecated; converting to $push with $each"),e.$push=e.$push||{};for(var o in e.$pushAll){e.$push[o]=e.$push[o]||{},e.$push[o].$each=e.$push[o].$each||[];for(var a=0,l=e.$pushAll[o].length;l>a;a++)e.$push[o].$each.push(e.$pushAll[o][a]);delete e.$pushAll}}var f=new u(e,n._blackboxKeys);return(t.filter||t.autoConvert||t.removeEmptyStrings||t.trimStrings)&&f.forEachNode(function(){var e=this.genericKey;if(e){var r=n._schema[e],i=this.value;if(t.filter&&"$unset"!==this.operator&&!n.allowsKey(e))return"[$each]"===this.position.slice(-7)?f.removeValueForPosition(this.position.slice(0,-7)):this.remove(),void(s.debug&&console.info('SimpleSchema.clean: filtered out value that would have affected key "'+e+'", which is not allowed by the schema'));if(void 0!==i){var o=!1;if(t.autoConvert&&r){var a=y(i,r.type);if(void 0!==a&&a!==i){if(!t.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof a||a.length)t.trimStrings&&"string"==typeof a&&(a=c(a).trim().s);else if(a=void 0,"$set"===this.operator){var u=this.position.replace("$set","$unset");f.setValueForPosition(u,"")}s.debug&&console.info("SimpleSchema.clean: autoconverted value "+i+" from "+typeof i+" to "+typeof a+" for "+e),this.updateValue(a),o=!0}}if(!o)if(!t.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof i||i.length)t.trimStrings&&"string"==typeof i&&(!r||r&&r.trim!==!1)&&this.updateValue(c(i).trim().s);else if(this.remove(),"$set"===this.operator){var u=this.position.replace("$set","$unset");f.setValueForPosition(u,"")}}}},{endPointsOnly:!1}),t.getAutoValues&&i.call(n,f,t.isModifier,t.extendAutoValueContext),e},s.prototype.schema=function(e){var t=this;return null!=e?t._schema[s._makeGeneric(e)]:t._schema},s.prototype.getDefinition=function(e,t,n){var i=this,o=i.schema(e);return o?(o=r.isArray(t)?r.pick(o,t):r.clone(o),r.each(["min","max","minCount","maxCount","allowedValues","optional","label"],function(e){r.isFunction(o[e])&&(o[e]=o[e].call(n||{}))}),o.label=o.label||w(e),o):void 0},s.prototype.keyIsInBlackBox=function(e){var t=this,n=s._makeGeneric(e),r,i;do r=n.lastIndexOf("."),-1!==r&&(n=n.slice(0,r),i=t.getDefinition(n));while(-1!==r&&!i);return!(!i||!i.blackbox)},s.prototype.labels=function(e){var t=this;r.each(e,function(e,n){(r.isString(e)||r.isFunction(e))&&n in t._schema&&(t._schema[n].label=e,t._depsLabels[n]&&t._depsLabels[n].changed())})},s.prototype.label=function(e){var t=this;if(null==e){var n={};return r.each(t.schema(),function(e,r){n[r]=t.label(r)}),n}var i=t.getDefinition(e);if(i){var o=s._makeGeneric(e);return t._depsLabels[o]&&t._depsLabels[o].depend(),i.label}return null},s._globalMessages={required:"[label] is required",minString:"[label] must be at least [min] characters",maxString:"[label] cannot exceed [max] characters",minNumber:"[label] must be at least [min]",maxNumber:"[label] cannot exceed [max]",minDate:"[label] must be on or after [min]",maxDate:"[label] cannot be after [max]",minCount:"You must specify at least [minCount] values",maxCount:"You cannot specify more than [maxCount] values",noDecimal:"[label] must be an integer",notAllowed:"[value] is not an allowed value",expectedString:"[label] must be a string",expectedNumber:"[label] must be a number",expectedBoolean:"[label] must be a boolean",expectedArray:"[label] must be an array",expectedObject:"[label] must be an object",expectedConstructor:"[label] must be a [type]",regEx:[{msg:"[label] failed regular expression validation"},{exp:s.RegEx.Email,msg:"[label] must be a valid e-mail address"},{exp:s.RegEx.WeakEmail,msg:"[label] must be a valid e-mail address"},{exp:s.RegEx.Domain,msg:"[label] must be a valid domain"},{exp:s.RegEx.WeakDomain,msg:"[label] must be a valid domain"},{exp:s.RegEx.IP,msg:"[label] must be a valid IPv4 or IPv6 address"},{exp:s.RegEx.IPv4,msg:"[label] must be a valid IPv4 address"},{exp:s.RegEx.IPv6,msg:"[label] must be a valid IPv6 address"},{exp:s.RegEx.Url,msg:"[label] must be a valid URL"},{exp:s.RegEx.Id,msg:"[label] must be a valid alphanumeric ID"}],keyNotInSchema:"[label] is not allowed by the schema"},s.messages=function(e){r.extend(s._globalMessages,e),s._depsGlobalMessages.changed()},s.prototype.messages=function(e){var t=this;r.extend(t._messages,e),t._depsMessages.changed()},s.prototype.messageForError=function(e,t,n,i){function o(t){if("regEx"!==e||!r.isArray(t))return t;var n;return f&&(n=r.find(t,function(e){return e.exp&&e.exp.toString()===f})),n||(n=r.findWhere(t,{exp:null}),n||(n=r.findWhere(t,{exp:void 0}))),n?n.msg:null}var a=this;n=n||a.getDefinition(t,["regEx","label","minCount","maxCount","min","max","type"])||{};var u=e.indexOf("."),c=null;-1!==u&&(c=e.substring(u+1),c=parseInt(c,10),e=e.substring(0,u));var f;"regEx"===e&&(f=null==c||isNaN(c)?n.regEx:n.regEx[c],f&&(f=f.toString()));var p=e+" "+t,d=s._makeGeneric(t),h=e+" "+d;s._depsGlobalMessages.depend(),a._depsMessages.depend(),a._depsLabels[t]&&a._depsLabels[t].depend();var m=a._messages[p]||a._messages[h]||a._messages[e];if(m=o(m),m||(m=s._globalMessages[p]||s._globalMessages[h]||s._globalMessages[e],m=o(m)),!m)return"Unknown validation error";a._depsLabels[t]&&a._depsLabels[t].depend(),m=m.replace("[label]",n.label),"undefined"!=typeof n.minCount&&(m=m.replace("[minCount]",n.minCount)),"undefined"!=typeof n.maxCount&&(m=m.replace("[maxCount]",n.maxCount)),m=void 0!==i&&null!==i?m.replace("[value]",i.toString()):m.replace("[value]","null");var g=n.min,y=n.max;return n.type===Date||n.type===[Date]?("undefined"!=typeof g&&(m=m.replace("[min]",l.dateToDateString(g))),"undefined"!=typeof y&&(m=m.replace("[max]",l.dateToDateString(y)))):("undefined"!=typeof g&&(m=m.replace("[min]",g)),"undefined"!=typeof y&&(m=m.replace("[max]",y))),n.type instanceof Function&&(m=m.replace("[type]",n.type.name)),m},s.prototype.allowsKey=function(e){var t=this;return r.any(t._schemaKeys,function(n){if(n===e)return!0;if(t.schema(n).blackbox===!0){var r=n.length,i=e.slice(0,r+2),o=i.slice(0,-1);if(i===n+".$")return!1;if(o===n+".")return!0}return!1})},s.prototype.newContext=function(){return new d(this)},s.prototype.objectKeys=function(e){var t=this;return e?t._objectKeys[e+"."]||[]:t._firstLevelSchemaKeys};var y=function(e,t){if(r.isArray(e)||r.isObject(e)&&!(e instanceof Date))return e;if(t===String)return"undefined"!=typeof e&&null!==e&&"string"!=typeof e?e.toString():e;if(t===Number){if("string"==typeof e&&!c(e).isEmpty()){var n=Number(e);return isNaN(n)?e:n}return e}return e},v=function(e){var t={};return r.each(e,function(e){e=o.test(e,s)?e._schema:_(b(e)),r.each(e,function(e,n){t[n]=t[n]||{},r.extend(t[n],e)})}),e.length&&x(t),t},b=function(e){return r.each(e,function(t,n){var i,a;if(t){if(o.test(t.type,s))i=".",a=t.type,t.type=Object;else{if(!o.test(t.type,[s]))return;i=".$.",a=t.type[0],t.type=[Object]}r.each(a._schema,function(t,r){var o=n+i+r;o in e||(e[o]=t)})}}),e},x=function(e){r.each(e,function(t,n){if(r.isArray(t.type)||t.type===Array){var i=n+".$";i in e||(e[i]={}),r.isArray(t.type)&&(e[i].type=t.type[0]),t.label&&(e[i].label=t.label),e[i].optional=!0,"undefined"!=typeof t.min&&(e[i].min=t.min),"undefined"!=typeof t.max&&(e[i].max=t.max),"undefined"!=typeof t.allowedValues&&(e[i].allowedValues=t.allowedValues),"undefined"!=typeof t.decimal&&(e[i].decimal=t.decimal),"undefined"!=typeof t.regEx&&(e[i].regEx=t.regEx),"undefined"!=typeof t.blackbox&&(e[i].blackbox=t.blackbox),t.type=Array,r.each(["min","max","allowedValues","decimal","regEx","blackbox"],function(e){l.deleteIfPresent(t,e)
})}})},_=function(e){var t=[],n=[],i,o;r.each(e,function(e,r){for(var o=r.indexOf(".");-1!==o;)i=r.substring(0,o),".$"===i.substring(i.length-2)?o=-1:".$."===r.substring(o,o+3)?(t.push(i),o=r.indexOf(".",o+3)):(n.push(i),o=r.indexOf(".",o+1))});for(var a=0,s=t.length;s>a;a++)o=t[a],o in e||(e[o]={type:[Object],optional:!0});for(var a=0,s=n.length;s>a;a++)o=n[a],o in e||(e[o]={type:Object,optional:!0});return x(e),e},O=function(e,t){var n,i,o={},a;return r.each(e,function(e,s){e.type===Object&&(n=s+".",a=[],r.each(t,function(e){c(e).startsWith(n)&&(i=e.substring(n.length),-1===i.indexOf(".")&&a.push(i))}),o[n]=a)}),o},w=function(e){var t=e,n=t.lastIndexOf(".");if(-1!==n&&(t=t.substring(n+1),"$"===t)){var r=e.split(".");t=r[r.length-2]}return"_id"===t?"ID":c(t).humanize().s}}.call(this),function(){function e(e,t,n){var i=e.type;if(i===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(r.isArray(e.regEx)){var o;if(r.every(e.regEx,function(e,n){return e.test(t)?!0:(o="regEx."+n,!1)}),o)return o}}else if(i===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==n&&null!==e.max&&e.max<t)return"maxNumber";if("$inc"!==n&&null!==e.min&&e.min>t)return"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(i===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(i===Object){if(!l.isBasicObject(t))return"expectedObject"}else if(i===Array){if(!r.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(i instanceof Function||l.safariBugFix(i)){if(!(t instanceof i))return"expectedConstructor";if(i===Date){if(r.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(r.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}f=function t(n,i,o,a,c,f){function p(t,i,o,a,p,d,h,y){if(!a)return void m.push(l.errorObject("keyNotInSchema",i,t,a,c));if(!d&&!a.optional&&(null===t||"$unset"===p||"$rename"===p||void 0===t&&(h||y||!p||"$set"===p)))return void m.push(l.errorObject("required",i,null,a,c));if("$rename"===p&&"string"==typeof t&&!c.allowsKey(t))return void m.push(l.errorObject("keyNotInSchema",t,null,null,c));if("$unset"!==p&&"$rename"!==p&&l.isNotNullOrUndefined(t)){var v=e(a,t,p);if(v)return void m.push(l.errorObject(v,i,t,a,c));if(a.allowedValues&&!r.contains(a.allowedValues,t))return void m.push(l.errorObject("notAllowed",i,t,a,c))}var b=i.lastIndexOf("."),x=-1===b?"":i.slice(0,b+1),_=a.custom?[a.custom]:[];_=_.concat(c._validators).concat(s._validators),r.every(_,function(e){var s=e.call(r.extend({key:i,genericKey:o,definition:a,isSet:void 0!==t,value:t,operator:p,field:function(e){g=g||new u(n,c._blackboxKeys);var t=g.getInfoForKey(e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}},siblingField:function(e){g=g||new u(n,c._blackboxKeys);var t=g.getInfoForKey(x+e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}}},f||{}));return"string"==typeof s?(m.push(l.errorObject(s,i,t,a,c)),!1):!0})}function d(e,t,n,i,o,u){var f,h;if(t){if(c.keyIsInBlackBox(t))return;if(f=s._makeGeneric(t),h=c.getDefinition(t),!a||a===t||a===f){var m=r.some(i,function(e){return e.slice(0,t.length+1)===t+"."});p(e,t,f,h,n,m,o,u)}}if(void 0!==e&&null!==e||h&&(h.type!==Object||h.optional)||(e={}),r.isArray(e))r.each(e,function(e,r){d(e,t+"."+r,n,i)});else if(l.isBasicObject(e)&&(!h||!h.blackbox)){var g=r.keys(e),y=r.union(g,c.objectKeys(f)),o=f&&".$"===f.slice(-2);r.each(y,function(r){d(e[r],l.appendAffectedKey(t,r),n,i,o,!0)})}}function h(e){if(r.isEmpty(e))throw new Error("When the modifier option is true, validation object must have at least one operator");var t=r.keys(e.$set||{}).concat(r.keys(e.$setOnInsert||{}));"$setOnInsert"in e&&(o&&(e.$set=e.$set||{},e.$set=r.extend(e.$set,e.$setOnInsert)),delete e.$setOnInsert),r.each(e,function(e,n){if("$"!==n.slice(0,1))throw new Error("When the modifier option is true, all validation object keys must be operators. Did you forget `$set`?");if(l.shouldCheck(n)){if(o&&"$set"===n){var i=r.keys(e);r.each(c.objectKeys(),function(e){r.contains(i,e)||d(void 0,e,n,t)})}r.each(e,function(e,r){("$push"===n||"$addToSet"===n)&&(l.isBasicObject(e)&&"$each"in e?e=e.$each:r+=".0"),d(e,r,n,t)})}})}if(!r.isObject(n))throw new Error("The first argument of validate() or validateOne() must be an object");if(!i&&l.looksLikeModifier(n))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var m=[],g;i?h(n):d(n);var y=[];return m=r.filter(m,function(e){return r.contains(y,e.name)?!1:(y.push(e.name),!0)})}}.call(this),function(){function t(t,n,i){var o=new e.Collection(null),s;if(i)s=a.id(),o.upsert({_id:s},t);else{var l=new u(t),c=new u({});r.each(n,function(e,t){var n;if(e.type===Array&&l.affectsGenericKey(t)?n=[]:e.optional||(n=e.type===Boolean?!0:e.type===Number?e.min||0:e.type===Date?e.min||new Date:e.type===Array?[]:e.type===Object?{}:"0"),void 0!==n){var r=t.replace(/\.\$/g,".0"),i=u._keyToPosition(r,!1);c.setValueForPosition(i,n)}}),c=c.getObject(),s=o.insert(c),o.update(s,t)}var f=o.findOne(s);return o.remove(s),n._id||delete f._id,f}function n(e,t,n){var i=e.type;if(i===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(r.isArray(e.regEx)){var o;if(r.every(e.regEx,function(e,n){return e.test(t)?!0:(o="regEx."+n,!1)}),o)return o}}else if(i===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==n&&null!==e.max&&e.max<t)return"maxNumber";if("$inc"!==n&&null!==e.min&&e.min>t)return"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(i===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(i===Object){if(!l.isBasicObject(t))return"expectedObject"}else if(i===Array){if(!r.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(i instanceof Function||l.safariBugFix(i)){if(!(t instanceof i))return"expectedConstructor";if(i===Date){if(r.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(r.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}p=function i(e,o,a,c,f,p){function d(t,i,o,a,c,d,h){if(!a)return void g.push(l.errorObject("keyNotInSchema",i,t,a,f));if(!(d||a.optional||null!==t&&void 0!==t))return void g.push(l.errorObject("required",i,null,a,f));if(l.isNotNullOrUndefined(t)){var m=n(a,t,c);if(m)return void g.push(l.errorObject(m,i,t,a,f));if(a.allowedValues&&!r.contains(a.allowedValues,t))return void g.push(l.errorObject("notAllowed",i,t,a,f))}var v=i.lastIndexOf("."),b=-1===v?"":i.slice(0,v+1),x=a.custom?[a.custom]:[];x=x.concat(f._validators).concat(s._validators),r.every(x,function(n){var s=n.call(r.extend({key:i,genericKey:o,definition:a,isSet:void 0!==t,value:t,operator:c,field:function(t){y=y||new u(e,f._blackboxKeys);var n=y.getInfoForKey(t)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}},siblingField:function(t){y=y||new u(e,f._blackboxKeys);var n=y.getInfoForKey(b+t)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}}},p||{}));return"string"==typeof s?(g.push(l.errorObject(s,i,t,a,f)),!1):!0})}function h(e,t,n,i){var o,a;if(t){if(f.keyIsInBlackBox(t))return;o=s._makeGeneric(t),a=f.getDefinition(t),c&&c!==t&&c!==o||d(e,t,o,a,null,n,i)}if(void 0!==e&&null!==e||a&&(a.type!==Object||a.optional)||(e={}),r.isArray(e))r.each(e,function(e,n){h(e,t+"."+n)});else if(l.isBasicObject(e)&&(!a||!a.blackbox)){var u=r.keys(e),p=r.union(u,f._schemaKeys),i=o&&".$"===o.slice(-2);r.each(p,function(r){l.shouldCheck(r)&&h(e[r],l.appendAffectedKey(t,r),n,i)})}}if(!r.isObject(e))throw new Error("The first argument of validate() or validateOne() must be an object");if(o){if(r.isEmpty(e))throw new Error("When the modifier option is true, validation object must have at least one operator");var m=r.every(e,function(e,t){return"$"===t.substring(0,1)});if(!m)throw new Error("When the modifier option is true, all validation object keys must be operators");e=t(e,f.schema(),a)}else if(l.looksLikeModifier(e))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var g=[],y;h(e);var v=[];return g=r.filter(g,function(e){return r.contains(v,e.name)?!1:(v.push(e.name),!0)})}}.call(this),function(){function t(e,t,n,r,i,o){var a=!0,s=a?f:p;return s(e,t,n,r,i,o)}d=function i(e){var t=this;t._simpleSchema=e,t._schema=e.schema(),t._schemaKeys=r.keys(t._schema),t._invalidKeys=[],t._deps={},t._depsAny=new n.Dependency,r.each(t._schemaKeys,function(e){t._deps[e]=new n.Dependency})},d.prototype.validate=function o(n,i){var o=this;i=r.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},i||{}),e.isClient&&void 0===i.extendedCustomContext.userId&&(i.extendedCustomContext.userId=e.userId&&e.userId()||null);var a=t(n,i.modifier,i.upsert,null,o._simpleSchema,i.extendedCustomContext),s=r.pluck(o._invalidKeys,"name");o._invalidKeys=a;var u=r.pluck(o._invalidKeys,"name"),l=r.union(u,s);return o._markKeysChanged(l),0===o._invalidKeys.length},d.prototype.validateOne=function a(n,i,o){var a=this;o=r.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},o||{}),e.isClient&&void 0===o.extendedCustomContext.userId&&(o.extendedCustomContext.userId=e.userId&&e.userId()||null);for(var s=t(n,o.modifier,o.upsert,i,a._simpleSchema,o.extendedCustomContext),u=[],l=0,c=a._invalidKeys.length,f;c>l;l++)f=a._invalidKeys[l],f.name!==i&&u.push(f);a._invalidKeys=u;for(var l=0,c=s.length,f;c>l;l++)f=s[l],a._invalidKeys.push(f);return a._markKeysChanged([i]),!a._keyIsInvalid(i)},d.prototype.resetValidation=function u(){var e=this,t=r.pluck(e._invalidKeys,"name");e._invalidKeys=[],e._markKeysChanged(t)},d.prototype.isValid=function l(){var e=this;return e._depsAny.depend(),!e._invalidKeys.length},d.prototype.invalidKeys=function c(){var e=this;return e._depsAny.depend(),e._invalidKeys},d.prototype.addInvalidKeys=function h(e){var t=this;if(e&&e.length){var n=[];r.each(e,function(e){n.push(e.name),t._invalidKeys.push(e)}),t._markKeysChanged(n)}},d.prototype._markKeysChanged=function m(e){var t=this;e&&e.length&&(r.each(e,function(e){var n=s._makeGeneric(e);n in t._deps&&t._deps[n].changed()}),t._depsAny.changed())},d.prototype._getInvalidKeyObject=function g(e,t){var n=this;t=t||s._makeGeneric(e);var i=r.findWhere(n._invalidKeys,{name:e});return i||(i=r.findWhere(n._invalidKeys,{name:t})),i},d.prototype._keyIsInvalid=function y(e,t){return!!this._getInvalidKeyObject(e,t)},d.prototype.keyIsInvalid=function v(e){var t=this,n=s._makeGeneric(e);return t._deps[n]&&t._deps[n].depend(),t._keyIsInvalid(e,n)},d.prototype.keyErrorMessage=function b(e){var t=this,n=s._makeGeneric(e);t._deps[n]&&t._deps[n].depend();var r=t._getInvalidKeyObject(e,n);return r?t._simpleSchema.messageForError(r.type,r.name,null,r.value):""},d.prototype.getErrorObject=function x(t){var n=this,i,o=this._invalidKeys;o.length?(i=n.keyErrorMessage(o[0].name),o=r.map(o,function(e){return r.extend({message:n.keyErrorMessage(e.name)},e)})):i="Failed validation";var a=new Error(i);return a.invalidKeys=o,e.isServer&&(a.sanitizedError=new e.Error(400,i)),a}}.call(this),"undefined"==typeof Package&&(Package={}),Package["aldeed:simple-schema"]={SimpleSchema:s,MongoObject:u}}();

!function(){var e=Package.meteor.Meteor,t,n;(function(){!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ot.type(e);return"function"===n||ot.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ot.isFunction(t))return ot.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ot.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(pt.test(t))return ot.filter(t,e,n);t=ot.filter(t,e)}return ot.grep(e,function(e){return ot.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=wt[e]={};return ot.each(e.match(xt)||[],function(e,n){t[n]=!0}),t}function a(){mt.addEventListener?(mt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(mt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(mt.addEventListener||"load"===event.type||"complete"===mt.readyState)&&(a(),ot.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(kt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Et.test(n)?ot.parseJSON(n):n}catch(i){}ot.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!ot.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ot.acceptData(e)){var i,o,a=ot.expando,s=e.nodeType,l=s?ot.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(r||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=J.pop()||ot.guid++:a),l[u]||(l[u]=s?{}:{toJSON:ot.noop}),("object"==typeof t||"function"==typeof t)&&(r?l[u]=ot.extend(l[u],t):l[u].data=ot.extend(l[u].data,t)),o=l[u],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ot.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ot.camelCase(t)])):i=o,i}}function d(e,t,n){if(ot.acceptData(e)){var r,i,o=e.nodeType,a=o?ot.cache:e,s=o?e[ot.expando]:ot.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ot.isArray(t)?t=t.concat(ot.map(t,ot.camelCase)):t in r?t=[t]:(t=ot.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!u(r):!ot.isEmptyObject(r))return}(n||(delete a[s].data,u(a[s])))&&(o?ot.cleanData([e],!0):rt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return mt.activeElement}catch(e){}}function m(e){var t=Ot.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ot.nodeName(r,t)?o.push(r):ot.merge(o,g(r,t));return void 0===t||t&&ot.nodeName(e,t)?ot.merge([e],o):o}function v(e){Lt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ot.nodeName(e,"table")&&ot.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ot.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Jt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ot._data(n,"globalEval",!t||ot._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ot.hasData(e)){var n,r,i,o=ot._data(e),a=ot._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ot.event.add(t,n,s[n][r])}a.data&&(a.data=ot.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!rt.noCloneEvent&&t[ot.expando]){i=ot._data(t);for(r in i.events)ot.removeEvent(t,r,i.handle);t.removeAttribute(ot.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),rt.html5Clone&&e.innerHTML&&!ot.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Lt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r=ot(n.createElement(t)).appendTo(n.body),i=e.getDefaultComputedStyle?e.getDefaultComputedStyle(r[0]).display:ot.css(r[0],"display");return r.detach(),i}function E(e){var t=mt,n=en[e];return n||(n=N(e,t),"none"!==n&&n||(Zt=(Zt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Zt.detach()),en[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=hn.length;i--;)if(t=hn[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ot._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Dt(r)&&(o[a]=ot._data(r,"olddisplay",E(r.nodeName)))):o[a]||(i=Dt(r),(n&&"none"!==n||!i)&&ot._data(r,"olddisplay",i?n:ot.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=cn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ot.css(e,n+At[o],!0,i)),r?("content"===n&&(a-=ot.css(e,"padding"+At[o],!0,i)),"margin"!==n&&(a-=ot.css(e,"border"+At[o]+"Width",!0,i))):(a+=ot.css(e,"padding"+At[o],!0,i),"padding"!==n&&(a+=ot.css(e,"border"+At[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=rn(e),a=rt.boxSizing()&&"border-box"===ot.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=on(e,t,o),(0>i||null==i)&&(i=e.style[t]),nn.test(i))return i;r=a&&(rt.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){mn=void 0}),mn=ot.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=At[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(wn[t]||[]).concat(wn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,l,u,c,d=this,f={},p=e.style,h=e.nodeType&&Dt(e),m=ot._data(e,"fxshow");n.queue||(s=ot._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ot.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=ot.css(e,"display"),c=E(e.nodeName),"none"===u&&(u=c),"inline"===u&&"none"===ot.css(e,"float")&&(rt.inlineBlockNeedsLayout&&"inline"!==c?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",rt.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||ot.style(e,r)}if(!ot.isEmptyObject(f)){m?"hidden"in m&&(h=m.hidden):m=ot._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ot(e).show():d.done(function(){ot(e).hide()}),d.done(function(){var t;ot._removeData(e,"fxshow");for(t in f)ot.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ot.camelCase(n),i=t[r],o=e[n],ot.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ot.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=xn.length,s=ot.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=mn||q(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ot.extend({},t),opts:ot.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:mn||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ot.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);a>o;o++)if(r=xn[o].call(u,e,c,u.opts))return r;return ot.map(c,M,u),ot.isFunction(u.opts.start)&&u.opts.start.call(e,u),ot.fx.timer(ot.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(xt)||[];if(ot.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var l;return o[s]=!0,ot.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===Xn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ot.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ot.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ot.isArray(t))ot.each(t,function(t,i){n||Yn.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ot.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ot.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,Q=J.concat,G=J.push,K=J.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt="".trim,rt={},it="1.11.0",ot=function(e,t){return new ot.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,lt=/-([\da-z])/gi,ut=function(e,t){return t.toUpperCase()};ot.fn=ot.prototype={jquery:it,constructor:ot,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ot.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ot.each(this,e,t)},map:function(e){return this.pushStack(ot.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:J.sort,splice:J.splice},ot.extend=ot.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ot.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(u&&n&&(ot.isPlainObject(n)||(t=ot.isArray(n)))?(t?(t=!1,o=e&&ot.isArray(e)?e:[]):o=e&&ot.isPlainObject(e)?e:{},a[r]=ot.extend(u,o,n)):void 0!==n&&(a[r]=n));return a},ot.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ot.type(e)},isArray:Array.isArray||function(e){return"array"===ot.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ot.type(e)||e.nodeType||ot.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(rt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&ot.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(lt,ut)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:nt&&!nt.call("﻿ ")?function(e){return null==e?"":nt.call(e)}:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ot.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&l.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&l.push(i);return Q.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ot.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ot.guid++,r):void 0},now:function(){return+new Date},support:rt}),ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,n,r){var i,o,a,s,l,u,d,h,m,g;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(_&&!r){if(i=yt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&C.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(C.qsa&&(!M||!M.test(e))){if(h=d=P,m=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=f(e),(d=t.getAttribute("id"))?h=d.replace(xt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+p(u[l]);m=bt.test(e)&&c(t.parentNode)||t,g=u.join(",")}if(g)try{return Z.apply(n,m.querySelectorAll(g)),n}catch(v){}finally{d||t.removeAttribute("id")}}}return w(e.replace(lt,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>N.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)N.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==V&&e}function d(){}function f(e,n){var r,i,o,a,s,l,u,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=N.preFilter;s;){(!r||(i=ut.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(lt," ")}),s=s.slice(r.length));for(a in N.filter)!(i=ht[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,l).slice(0)}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[P]||(t[P]={}),(s=l[r])&&s[0]===W&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,f=[],p=[],h=a.length,m=r||x(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?m:g(m,f,e,s,l),y=n?o||(r?e:h||i)?[]:a:v;if(n&&n(v,y,s,l),i)for(u=g(y,p),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[p[c]]=!(v[p[c]]=d));if(r){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?tt.call(r,d):f[c])>-1&&(r[u]=!(a[u]=d))}}else y=g(y===a?y.splice(h,y.length):y),o?o(null,a,y,l):Z.apply(a,y)})}function y(e){for(var t,n,r,i=e.length,o=N.relative[e[0].type],a=o||N.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return tt.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==A)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];i>s;s++)if(n=N.relative[e[s].type])c=[h(m(c),n)];else{if(n=N.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!N.relative[e[r].type];r++);return v(s>1&&m(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}c.push(n)}return m(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&N.find.TAG("*",u),x=W+=null==y?1:Math.random()||.1,w=b.length;for(u&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){l.push(c);break}u&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=G.call(l));v=g(v)}Z.apply(l,v),u&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(W=x,A=y),m};return i?r(a):a}function x(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function w(e,t,n,r){var i,o,a,s,l,u=f(e);if(!r&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&C.getById&&9===t.nodeType&&_&&N.relative[o[1].type]){if(t=(N.find.ID(a.matches[0].replace(wt,Tt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(a=o[i],!N.relative[s=a.type]);)if((l=N.find[s])&&(r=l(a.matches[0].replace(wt,Tt),bt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return Z.apply(n,r),n;break}}return S(e,u)(r,t,!_,n,bt.test(e)&&c(t.parentNode)||t),n}var T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+-new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V="undefined",J=1<<31,Y={}.hasOwnProperty,Q=[],G=Q.pop,K=Q.push,Z=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),at="\\["+rt+"*("+it+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ot+")|)|)"+rt+"*\\]",st=":("+it+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ut=new RegExp("^"+rt+"*,"+rt+"*"),ct=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),dt=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),ft=new RegExp(st),pt=new RegExp("^"+ot+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,xt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(Q=et.call(R.childNodes),R.childNodes),Q[R.childNodes.length].nodeType}catch(Ct){Z={apply:Q.length?function(e,t){K.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}C=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:R,r=n.defaultView;return n!==H&&9===n.nodeType&&n.documentElement?(H=n,q=n.documentElement,_=!k(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){L()},!1):r.attachEvent&&r.attachEvent("onunload",function(){L()})),C.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=vt.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=i(function(e){return q.appendChild(e).id=P,!n.getElementsByName||!n.getElementsByName(P).length}),C.getById?(N.find.ID=function(e,t){if(typeof t.getElementById!==V&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},N.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete N.find.ID,N.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),N.find.TAG=C.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},N.find.CLASS=C.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==V&&_?t.getElementsByClassName(e):void 0},F=[],M=[],(C.qsa=vt.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&M.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||M.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(C.matchesSelector=vt.test(O=q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){C.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",st)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=vt.test(q.compareDocumentPosition),B=t||vt.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!C.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===R&&B(R,e)?-1:t===n||t.ownerDocument===R&&B(R,t)?1:D?tt.call(D,e)-tt.call(D,t):0:4&r?-1:1)}:function(e,t){if(e===t)return j=!0,0;var r,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:D?tt.call(D,e)-tt.call(D,t):0;if(o===s)return a(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===R?-1:u[i]===R?1:0},n):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(dt,"='$1']"),!(!C.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=N.attrHandle[t.toLowerCase()],r=n&&Y.call(N.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:C.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!C.detectDuplicates,D=!C.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},E=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},N=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&ft.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),u=c[e]||[],p=u[0]===W&&u[1],f=u[0]===W&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(u=(t[P]||(t[P]={}))[e])&&u[0]===W)f=u[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=N.pseudos[e]||N.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],N.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=tt.call(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(lt,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!N.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())
},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},N.pseudos.nth=N.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[T]=s(T);for(T in{submit:!0,reset:!0})N.pseudos[T]=l(T);return d.prototype=N.filters=N.pseudos,N.setFilters=new d,S=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=f(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r))}return o},C.sortStable=P.split("").sort(U).join("")===P,C.detectDuplicates=!!j,L(),C.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var dt=ot.expr.match.needsContext,ft=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^.[^:#\[\.,]*$/;ot.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ot.find.matchesSelector(r,e)?[r]:[]:ot.find.matches(e,ot.grep(t,function(e){return 1===e.nodeType}))},ot.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ot(e).filter(function(){for(t=0;i>t;t++)if(ot.contains(r[t],this))return!0}));for(t=0;i>t;t++)ot.find(e,r[t],n);return n=this.pushStack(i>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&dt.test(e)?ot(e):e||[],!1).length}});var ht,mt=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=ot.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ht).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ot?t[0]:t,ot.merge(this,ot.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:mt,!0)),ft.test(n[1])&&ot.isPlainObject(t))for(n in t)ot.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=mt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return ht.find(e);this.length=1,this[0]=r}return this.context=mt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ot.isFunction(e)?"undefined"!=typeof ht.ready?ht.ready(e):e(ot):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ot.makeArray(e,this))};vt.prototype=ot.fn,ht=ot(mt);var yt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};ot.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ot(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ot.fn.extend({has:function(e){var t,n=ot(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ot.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=dt.test(e)||"string"!=typeof e?ot(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ot.unique(o):o)},index:function(e){return e?"string"==typeof e?ot.inArray(this[0],ot(e)):ot.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ot.unique(ot.merge(this.get(),ot(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ot.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ot.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ot.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ot.dir(e,"nextSibling")},prevAll:function(e){return ot.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ot.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ot.dir(e,"previousSibling",n)},siblings:function(e){return ot.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ot.sibling(e.firstChild)},contents:function(e){return ot.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ot.merge([],e.childNodes)}},function(e,t){ot.fn[e]=function(n,r){var i=ot.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ot.filter(r,i)),this.length>1&&(bt[e]||(i=ot.unique(i)),yt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var xt=/\S+/g,wt={};ot.Callbacks=function(e){e="string"==typeof e?wt[e]||o(e):ot.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=l.length,t=!0;l&&i>a;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var r=l.length;!function o(t){ot.each(t,function(t,n){var r=ot.type(n);"function"===r?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=l.length:n&&(s=r,c(n))}return this},remove:function(){return l&&ot.each(arguments,function(e,n){for(var r;(r=ot.inArray(n,l,r))>-1;)l.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?ot.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||r&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ot.extend({Deferred:function(e){var t=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ot.Deferred(function(n){ot.each(t,function(t,o){var a=ot.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ot.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ot.extend(e,r):r}},i={};return r.pipe=r.then,ot.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=Y.call(arguments),r=n.length,i=1!==r||e&&ot.isFunction(e.promise)?r:0,o=1===i?e:ot.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?Y.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=new Array(r),l=new Array(r),u=new Array(r);r>t;t++)n[t]&&ot.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}});var Tt;ot.fn.ready=function(e){return ot.ready.promise().done(e),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ot.readyWait++:ot.ready(!0)},ready:function(e){if(e===!0?!--ot.readyWait:!ot.isReady){if(!mt.body)return setTimeout(ot.ready);ot.isReady=!0,e!==!0&&--ot.readyWait>0||(Tt.resolveWith(mt,[ot]),ot.fn.trigger&&ot(mt).trigger("ready").off("ready"))}}}),ot.ready.promise=function(t){if(!Tt)if(Tt=ot.Deferred(),"complete"===mt.readyState)setTimeout(ot.ready);else if(mt.addEventListener)mt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{mt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&mt.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ot.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ot.ready()}}()}return Tt.promise(t)};var Ct="undefined",Nt;for(Nt in ot(rt))break;rt.ownLast="0"!==Nt,rt.inlineBlockNeedsLayout=!1,ot(function(){var e,t,n=mt.getElementsByTagName("body")[0];n&&(e=mt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=mt.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(rt.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=mt.createElement("div");if(null==rt.deleteExpando){rt.deleteExpando=!0;try{delete e.test}catch(t){rt.deleteExpando=!1}}e=null}(),ot.acceptData=function(e){var t=ot.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/([A-Z])/g;ot.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ot.cache[e[ot.expando]]:e[ot.expando],!!e&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ot.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ot.data(o),1===o.nodeType&&!ot._data(o,"parsedAttrs"))){for(n=a.length;n--;)r=a[n].name,0===r.indexOf("data-")&&(r=ot.camelCase(r.slice(5)),l(o,r,i[r]));ot._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ot.data(this,e)}):arguments.length>1?this.each(function(){ot.data(this,e,t)}):o?l(o,e,ot.data(o,e)):void 0},removeData:function(e){return this.each(function(){ot.removeData(this,e)})}}),ot.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ot._data(e,t),n&&(!r||ot.isArray(n)?r=ot._data(e,t,ot.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ot.queue(e,t),r=n.length,i=n.shift(),o=ot._queueHooks(e,t),a=function(){ot.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ot._data(e,n)||ot._data(e,n,{empty:ot.Callbacks("once memory").add(function(){ot._removeData(e,t+"queue"),ot._removeData(e,n)})})}}),ot.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ot.queue(this[0],e):void 0===t?this:this.each(function(){var n=ot.queue(this,e,t);ot._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ot.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ot.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ot.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ot._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,At=["Top","Right","Bottom","Left"],Dt=function(e,t){return e=t||e,"none"===ot.css(e,"display")||!ot.contains(e.ownerDocument,e)},jt=ot.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===ot.type(n)){i=!0;for(s in n)ot.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ot.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(ot(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},Lt=/^(?:checkbox|radio)$/i;!function(){var e=mt.createDocumentFragment(),t=mt.createElement("div"),n=mt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",rt.leadingWhitespace=3===t.firstChild.nodeType,rt.tbody=!t.getElementsByTagName("tbody").length,rt.htmlSerialize=!!t.getElementsByTagName("link").length,rt.html5Clone="<:nav></:nav>"!==mt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),rt.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",rt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,rt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){rt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==rt.deleteExpando){rt.deleteExpando=!0;try{delete t.test}catch(r){rt.deleteExpando=!1}}e=t=n=null}(),function(){var t,n,r=mt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(rt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),rt[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Ht=/^(?:input|select|textarea)$/i,qt=/^key/,_t=/^(?:mouse|contextmenu)|click/,Mt=/^(?:focusinfocus|focusoutblur)$/,Ft=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,p,h,m,g=ot._data(e);if(g){for(n.handler&&(l=n,n=l.handler,i=l.selector),n.guid||(n.guid=ot.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ot===Ct||e&&ot.event.triggered===e.type?void 0:ot.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(xt)||[""],s=t.length;s--;)o=Ft.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(u=ot.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,u=ot.event.special[p]||{},d=ot.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ot.expr.match.needsContext.test(i),namespace:h.join(".")},l),(f=a[p])||(f=a[p]=[],f.delegateCount=0,u.setup&&u.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ot.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,p,h,m,g=ot.hasData(e)&&ot._data(e);if(g&&(c=g.events)){for(t=(t||"").match(xt)||[""],u=t.length;u--;)if(s=Ft.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ot.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));l&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ot.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ot.event.remove(e,p+t[u],n,r,!0);ot.isEmptyObject(c)&&(delete g.handle,ot._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,d,f=[r||mt],p=tt.call(t,"type")?t.type:t,h=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||mt,3!==r.nodeType&&8!==r.nodeType&&!Mt.test(p+ot.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ot.expando]?t:new ot.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ot.makeArray(n,[t]),u=ot.event.special[p]||{},i||!u.trigger||u.trigger.apply(r,n)!==!1)){if(!i&&!u.noBubble&&!ot.isWindow(r)){for(l=u.delegateType||p,Mt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||mt)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?l:u.bindType||p,o=(ot._data(s,"events")||{})[t.type]&&ot._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ot.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(f.pop(),n)===!1)&&ot.acceptData(r)&&a&&r[p]&&!ot.isWindow(r)){c=r[a],c&&(r[a]=null),ot.event.triggered=p;try{r[p]()}catch(m){}ot.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ot.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),l=(ot._data(this,"events")||{})[e.type]||[],u=ot.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ot.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ot.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ot(n,this).index(l)>=0:ot.find(n,this,null,[l]).length),i[n]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ot.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=_t.test(i)?this.mouseHooks:qt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ot.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||mt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||mt,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ot.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ot.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ot.extend(new ot.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ot.event.trigger(i,null,t):ot.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ot.removeEvent=mt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Ct&&(e[r]=null),e.detachEvent(r,n))},ot.Event=function(e,t){return this instanceof ot.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?f:p):this.type=e,t&&ot.extend(this,t),this.timeStamp=e&&e.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(e,t)},ot.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f,this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ot.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ot.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),rt.submitBubbles||(ot.event.special.submit={setup:function(){return ot.nodeName(this,"form")?!1:void ot.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ot.nodeName(t,"input")||ot.nodeName(t,"button")?t.form:void 0;n&&!ot._data(n,"submitBubbles")&&(ot.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ot._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ot.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ot.nodeName(this,"form")?!1:void ot.event.remove(this,"._submit")}}),rt.changeBubbles||(ot.event.special.change={setup:function(){return Ht.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ot.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ot.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ot.event.simulate("change",this,e,!0)})),!1):void ot.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ht.test(t.nodeName)&&!ot._data(t,"changeBubbles")&&(ot.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ot.event.simulate("change",this.parentNode,e,!0)}),ot._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ot.event.remove(this,"._change"),!Ht.test(this.nodeName)}}),rt.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ot.event.simulate(t,e.target,ot.event.fix(e),!0)};ot.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ot._data(r,t);i||r.addEventListener(e,n,!0),ot._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ot._data(r,t)-1;i?ot._data(r,t,i):(r.removeEventListener(e,n,!0),ot._removeData(r,t))}}}),ot.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ot().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ot.guid++)),this.each(function(){ot.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ot(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ot.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ot.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ot.event.trigger(e,t,n,!0):void 0}});var Ot="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Bt=/ jQuery\d+="(?:null|\d+)"/g,Pt=new RegExp("<(?:"+Ot+")[\\s/>]","i"),Rt=/^\s+/,Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$t=/<([\w:]+)/,zt=/<tbody/i,It=/<|&#?\w+;/,Xt=/<(?:script|style|link)/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,Jt=/^true\/(.*)/,Yt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:rt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Gt=m(mt),Kt=Gt.appendChild(mt.createElement("div"));Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,ot.extend({clone:function(e,t,n){var r,i,o,a,s,l=ot.contains(e.ownerDocument,e);if(rt.html5Clone||ot.isXMLDoc(e)||!Pt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Kt.innerHTML=e.outerHTML,Kt.removeChild(o=Kt.firstChild)),!(rt.noCloneEvent&&rt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ot.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!l&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ot.type(o))ot.merge(p,o.nodeType?[o]:o);else if(It.test(o)){for(s=s||f.appendChild(t.createElement("div")),l=($t.exec(o)||["",""])[1].toLowerCase(),c=Qt[l]||Qt._default,s.innerHTML=c[1]+o.replace(Wt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!rt.leadingWhitespace&&Rt.test(o)&&p.push(t.createTextNode(Rt.exec(o)[0])),!rt.tbody)for(o="table"!==l||zt.test(o)?"<table>"!==c[1]||zt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ot.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ot.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),rt.appendChecked||ot.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===ot.inArray(o,r))&&(a=ot.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Vt.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ot.expando,l=ot.cache,u=rt.deleteExpando,c=ot.event.special;null!=(n=e[a]);a++)if((t||ot.acceptData(n))&&(i=n[s],o=i&&l[i])){if(o.events)for(r in o.events)c[r]?ot.event.remove(n,r):ot.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[s]:typeof n.removeAttribute!==Ct?n.removeAttribute(s):n[s]=null,J.push(i))}}}),ot.fn.extend({text:function(e){return jt(this,function(e){return void 0===e?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||mt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ot.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ot.cleanData(g(n)),n.parentNode&&(t&&ot.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ot.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ot.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ot.clone(this,e,t)})},html:function(e){return jt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Bt,""):void 0;if(!("string"!=typeof e||Xt.test(e)||!rt.htmlSerialize&&Pt.test(e)||!rt.leadingWhitespace&&Rt.test(e)||Qt[($t.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Wt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ot.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ot.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,d=u-1,f=e[0],p=ot.isFunction(f);if(p||u>1&&"string"==typeof f&&!rt.checkClone&&Ut.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(u&&(s=ot.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ot.map(g(s,"script"),b),i=o.length;u>l;l++)r=s,l!==d&&(r=ot.clone(r,!0,!0),i&&ot.merge(o,g(r,"script"))),t.call(this[l],r,l);if(i)for(a=o[o.length-1].ownerDocument,ot.map(o,x),l=0;i>l;l++)r=o[l],Vt.test(r.type||"")&&!ot._data(r,"globalEval")&&ot.contains(a,r)&&(r.src?ot._evalUrl&&ot._evalUrl(r.src):ot.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Yt,"")));s=n=null}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ot.fn[e]=function(e){for(var n,r=0,i=[],o=ot(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ot(o[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Zt,en={};!function(){var e,t,n=mt.createElement("div"),r="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",rt.opacity=/^0.5/.test(e.style.opacity),rt.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,rt.shrinkWrapBlocks=function(){var e,n,i,o;if(null==t){if(e=mt.getElementsByTagName("body")[0],!e)return;o="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=mt.createElement("div"),i=mt.createElement("div"),e.appendChild(n).appendChild(i),t=!1,typeof i.style.zoom!==Ct&&(i.style.cssText=r+";width:1px;padding:1px;zoom:1",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t=3!==i.offsetWidth),e.removeChild(n),e=n=i=null}return t}}();var tn=/^margin/,nn=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),rn,on,an=/^(top|right|bottom|left)$/;e.getComputedStyle?(rn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},on=function(e,t,n){var r,i,o,a,s=e.style;return n=n||rn(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ot.contains(e.ownerDocument,e)||(a=ot.style(e,t)),nn.test(a)&&tn.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""
}):mt.documentElement.currentStyle&&(rn=function(e){return e.currentStyle},on=function(e,t,n){var r,i,o,a,s=e.style;return n=n||rn(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),nn.test(a)&&!an.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r=mt.getElementsByTagName("body")[0];r&&(t=mt.createElement("div"),n=mt.createElement("div"),t.style.cssText=u,r.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",ot.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){i=4===n.offsetWidth}),o=!0,a=!1,s=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(n,null)||{}).top,o="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width),r.removeChild(t),n=r=null)}var n,r,i,o,a,s,l=mt.createElement("div"),u="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=l.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",rt.opacity=/^0.5/.test(n.style.opacity),rt.cssFloat=!!n.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===l.style.backgroundClip,n=l=null,ot.extend(rt,{reliableHiddenOffsets:function(){if(null!=r)return r;var e,t,n,i=mt.createElement("div"),o=mt.getElementsByTagName("body")[0];if(o)return i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=mt.createElement("div"),e.style.cssText=u,o.appendChild(e).appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=i.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",r=n&&0===t[0].offsetHeight,o.removeChild(e),i=o=null,r},boxSizing:function(){return null==i&&t(),i},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,n,r,i;if(null==s&&e.getComputedStyle){if(t=mt.getElementsByTagName("body")[0],!t)return;n=mt.createElement("div"),r=mt.createElement("div"),n.style.cssText=u,t.appendChild(n).appendChild(r),i=r.appendChild(mt.createElement("div")),i.style.cssText=r.style.cssText=c,i.style.marginRight=i.style.width="0",r.style.width="1px",s=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(n)}return s}})}(),ot.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var sn=/alpha\([^)]*\)/i,ln=/opacity\s*=\s*([^)]*)/,un=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+St+")(.*)$","i"),dn=new RegExp("^([+-])=("+St+")","i"),fn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:0,fontWeight:400},hn=["Webkit","O","Moz","ms"];ot.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=on(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":rt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ot.camelCase(t),l=e.style;if(t=ot.cssProps[s]||(ot.cssProps[s]=S(l,s)),a=ot.cssHooks[t]||ot.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];if(o=typeof n,"string"===o&&(i=dn.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ot.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ot.cssNumber[s]||(n+="px"),rt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{l[t]="",l[t]=n}catch(u){}}},css:function(e,t,n,r){var i,o,a,s=ot.camelCase(t);return t=ot.cssProps[s]||(ot.cssProps[s]=S(e.style,s)),a=ot.cssHooks[t]||ot.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=on(e,t,r)),"normal"===o&&t in pn&&(o=pn[t]),""===n||n?(i=parseFloat(o),n===!0||ot.isNumeric(i)?i||0:o):o}}),ot.each(["height","width"],function(e,t){ot.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&un.test(ot.css(e,"display"))?ot.swap(e,fn,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&rn(e);return D(e,n,r?j(e,t,r,rt.boxSizing()&&"border-box"===ot.css(e,"boxSizing",!1,i),i):0)}}}),rt.opacity||(ot.cssHooks.opacity={get:function(e,t){return ln.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ot.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ot.trim(o.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=sn.test(o)?o.replace(sn,i):o+" "+i)}}),ot.cssHooks.marginRight=k(rt.reliableMarginRight,function(e,t){return t?ot.swap(e,{display:"inline-block"},on,[e,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(e,t){ot.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+At[r]+t]=o[r]||o[r-2]||o[0];return i}},tn.test(e)||(ot.cssHooks[e+t].set=D)}),ot.fn.extend({css:function(e,t){return jt(this,function(e,t,n){var r,i,o={},a=0;if(ot.isArray(t)){for(r=rn(e),i=t.length;i>a;a++)o[t[a]]=ot.css(e,t[a],!1,r);return o}return void 0!==n?ot.style(e,t,n):ot.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Dt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?ot.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ot.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ot.fx.step[e.prop]?ot.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ot.cssProps[e.prop]]||ot.cssHooks[e.prop])?ot.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ot.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ot.fx=H.prototype.init,ot.fx.step={};var mn,gn,vn=/^(?:toggle|show|hide)$/,yn=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),bn=/queueHooks$/,xn=[F],wn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=yn.exec(t),o=i&&i[3]||(ot.cssNumber[e]?"":"px"),a=(ot.cssNumber[e]||"px"!==o&&+r)&&yn.exec(ot.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ot.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ot.Animation=ot.extend(B,{tweener:function(e,t){ot.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?xn.unshift(e):xn.push(e)}}),ot.speed=function(e,t,n){var r=e&&"object"==typeof e?ot.extend({},e):{complete:n||!n&&t||ot.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ot.isFunction(t)&&t};return r.duration=ot.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ot.fx.speeds?ot.fx.speeds[r.duration]:ot.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ot.isFunction(r.old)&&r.old.call(this),r.queue&&ot.dequeue(this,r.queue)},r},ot.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ot.isEmptyObject(e),o=ot.speed(t,n,r),a=function(){var t=B(this,ot.extend({},e),o);(i||ot._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ot.timers,a=ot._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&bn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ot.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ot._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ot.timers,a=r?r.length:0;for(n.finish=!0,ot.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(e,t){var n=ot.fn[t];ot.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ot.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ot.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ot.timers=[],ot.fx.tick=function(){var e,t=ot.timers,n=0;for(mn=ot.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ot.fx.stop(),mn=void 0},ot.fx.timer=function(e){ot.timers.push(e),e()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){gn||(gn=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(gn),gn=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,t){return e=ot.fx?ot.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i=mt.createElement("div");i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=i.getElementsByTagName("a")[0],n=mt.createElement("select"),r=n.appendChild(mt.createElement("option")),t=i.getElementsByTagName("input")[0],e.style.cssText="top:1px",rt.getSetAttribute="t"!==i.className,rt.style=/top/.test(e.getAttribute("style")),rt.hrefNormalized="/a"===e.getAttribute("href"),rt.checkOn=!!t.value,rt.optSelected=r.selected,rt.enctype=!!mt.createElement("form").enctype,n.disabled=!0,rt.optDisabled=!r.disabled,t=mt.createElement("input"),t.setAttribute("value",""),rt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),rt.radioValue="t"===t.value,e=t=n=r=i=null}();var Tn=/\r/g;ot.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ot.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ot(this).val()):e,null==i?i="":"number"==typeof i?i+="":ot.isArray(i)&&(i=ot.map(i,function(e){return null==e?"":e+""})),t=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ot.valHooks[i.type]||ot.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Tn,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(e){var t=ot.find.attr(e,"value");return null!=t?t:ot.text(e)}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(rt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ot.nodeName(n.parentNode,"optgroup"))){if(t=ot(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ot.makeArray(t),a=i.length;a--;)if(r=i[a],ot.inArray(ot.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(e,t){return ot.isArray(t)?e.checked=ot.inArray(ot(e).val(),t)>=0:void 0}},rt.checkOn||(ot.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Cn,Nn,En=ot.expr.attrHandle,kn=/^(?:checked|selected)$/i,Sn=rt.getSetAttribute,An=rt.input;ot.fn.extend({attr:function(e,t){return jt(this,ot.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ot.removeAttr(this,e)})}}),ot.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ct?ot.prop(e,t,n):(1===o&&ot.isXMLDoc(e)||(t=t.toLowerCase(),r=ot.attrHooks[t]||(ot.expr.match.bool.test(t)?Nn:Cn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ot.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ot.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(xt);if(o&&1===e.nodeType)for(;n=o[i++];)r=ot.propFix[n]||n,ot.expr.match.bool.test(n)?An&&Sn||!kn.test(n)?e[r]=!1:e[ot.camelCase("default-"+n)]=e[r]=!1:ot.attr(e,n,""),e.removeAttribute(Sn?n:r)},attrHooks:{type:{set:function(e,t){if(!rt.radioValue&&"radio"===t&&ot.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Nn={set:function(e,t,n){return t===!1?ot.removeAttr(e,n):An&&Sn||!kn.test(n)?e.setAttribute(!Sn&&ot.propFix[n]||n,n):e[ot.camelCase("default-"+n)]=e[n]=!0,n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(e,t){var n=En[t]||ot.find.attr;En[t]=An&&Sn||!kn.test(t)?function(e,t,r){var i,o;return r||(o=En[t],En[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,En[t]=o),i}:function(e,t,n){return n?void 0:e[ot.camelCase("default-"+t)]?t.toLowerCase():null}}),An&&Sn||(ot.attrHooks.value={set:function(e,t,n){return ot.nodeName(e,"input")?void(e.defaultValue=t):Cn&&Cn.set(e,t,n)}}),Sn||(Cn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},En.id=En.name=En.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ot.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Cn.set},ot.attrHooks.contenteditable={set:function(e,t,n){Cn.set(e,""===t?!1:t,n)}},ot.each(["width","height"],function(e,t){ot.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),rt.style||(ot.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Dn=/^(?:input|select|textarea|button|object)$/i,jn=/^(?:a|area)$/i;ot.fn.extend({prop:function(e,t){return jt(this,ot.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ot.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ot.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ot.isXMLDoc(e),o&&(t=ot.propFix[t]||t,i=ot.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ot.find.attr(e,"tabindex");return t?parseInt(t,10):Dn.test(e.nodeName)||jn.test(e.nodeName)&&e.href?0:-1}}}}),rt.hrefNormalized||ot.each(["href","src"],function(e,t){ot.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),rt.optSelected||(ot.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),rt.enctype||(ot.propFix.enctype="encoding");var Ln=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u="string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(xt)||[];l>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ln," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ot.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(xt)||[];l>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ln," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ot.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ot.isFunction(e)?function(n){ot(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ot(this),o=e.match(xt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&ot._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ot._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ln," ").indexOf(t)>=0)return!0;return!1}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ot.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ot.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Hn=ot.now(),qn=/\?/,_n=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ot.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ot.trim(t+"");return i&&!ot.trim(i.replace(_n,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ot.error("Invalid JSON: "+t)},ot.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+t),n};var Mn,Fn,On=/#.*$/,Bn=/([?&])_=[^&]*/,Pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Wn=/^(?:GET|HEAD)$/,$n=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,In={},Xn={},Un="*/".concat("*");try{Fn=location.href}catch(Vn){Fn=mt.createElement("a"),Fn.href="",Fn=Fn.href}Mn=zn.exec(Fn.toLowerCase())||[],ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fn,type:"GET",isLocal:Rn.test(Mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ot.ajaxSettings),t):W(ot.ajaxSettings,e)},ajaxPrefilter:P(In),ajaxTransport:P(Xn),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),u=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ot.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ot.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,l&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),l&&(p.trigger("ajaxComplete",[w,d]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,d=ot.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ot(f):ot.event,h=ot.Deferred(),m=ot.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Pn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Fn)+"").replace(On,"").replace($n,Mn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ot.trim(d.dataType||"*").toLowerCase().match(xt)||[""],null==d.crossDomain&&(r=zn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Mn[1]&&r[2]===Mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Mn[3]||("http:"===Mn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ot.param(d.data,d.traditional)),R(In,d,t,w),2===b)return w;l=d.global,l&&0===ot.active++&&ot.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Wn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(qn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Bn.test(o)?o.replace(Bn,"$1_="+Hn++):o+(qn.test(o)?"&":"?")+"_="+Hn++)),d.ifModified&&(ot.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&w.setRequestHeader("If-None-Match",ot.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Un+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(u=R(Xn,d,t,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,u.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ot.get(e,t,n,"json")},getScript:function(e,t){return ot.get(e,void 0,t,"script")}}),ot.each(["get","post"],function(e,t){ot[t]=function(e,n,r,i){return ot.isFunction(n)&&(i=i||r,r=n,n=void 0),ot.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ot.fn[t]=function(e){return this.on(t,e)}}),ot._evalUrl=function(e){return ot.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(e){if(ot.isFunction(e))return this.each(function(t){ot(this).wrapAll(e.call(this,t))});if(this[0]){var t=ot(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ot.isFunction(e)?function(t){ot(this).wrapInner(e.call(this,t))}:function(){var t=ot(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ot.isFunction(e);return this.each(function(n){ot(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!rt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ot.css(e,"display"))},ot.expr.filters.visible=function(e){return!ot.expr.filters.hidden(e)};var Jn=/%20/g,Yn=/\[\]$/,Qn=/\r?\n/g,Gn=/^(?:submit|button|image|reset|file)$/i,Kn=/^(?:input|select|textarea|keygen)/i;ot.param=function(e,t){var n,r=[],i=function(e,t){t=ot.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(e)||e.jquery&&!ot.isPlainObject(e))ot.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Jn,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ot.prop(this,"elements");return e?ot.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ot(this).is(":disabled")&&Kn.test(this.nodeName)&&!Gn.test(e)&&(this.checked||!Lt.test(e))}).map(function(e,t){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(e){return{name:t.name,value:e.replace(Qn,"\r\n")}}):{name:t.name,value:n.replace(Qn,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Zn=0,er={},tr=ot.ajaxSettings.xhr();e.ActiveXObject&&ot(e).on("unload",function(){for(var e in er)er[e](void 0,!0)}),rt.cors=!!tr&&"withCredentials"in tr,tr=rt.ajax=!!tr,tr&&ot.ajaxTransport(function(e){if(!e.crossDomain||rt.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Zn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,l,u;if(t&&(i||4===o.readyState))if(delete er[a],t=void 0,o.onreadystatechange=ot.noop,i)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(c){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&r(s,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=er[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ot.globalEval(e),e}}}),ot.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ot.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=mt.head||ot("head")[0]||mt.documentElement;return{send:function(r,i){t=mt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var nr=[],rr=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nr.pop()||ot.expando+"_"+Hn++;return this[e]=!0,e}}),ot.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(rr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&rr.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ot.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(rr,"$1"+i):t.jsonp!==!1&&(t.url+=(qn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ot.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,nr.push(i)),a&&ot.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ot.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||mt;var r=ft.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ot.buildFragment([e],t,i),i&&i.length&&ot(i).remove(),ot.merge([],r.childNodes))};var ir=ot.fn.load;ot.fn.load=function(e,t,n){if("string"!=typeof e&&ir)return ir.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=e.slice(s,e.length),e=e.slice(0,s)),ot.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ot.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ot("<div>").append(ot.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ot.expr.filters.animated=function(e){return ot.grep(ot.timers,function(t){return e===t.elem}).length};var or=e.document.documentElement;ot.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=ot.css(e,"position"),d=ot(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ot.css(e,"top"),l=ot.css(e,"left"),u=("absolute"===c||"fixed"===c)&&ot.inArray("auto",[o,l])>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),ot.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ot.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ot.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ot.contains(t,i)?(typeof i.getBoundingClientRect!==Ct&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ot.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ot.nodeName(e[0],"html")||(n=e.offset()),n.top+=ot.css(e[0],"borderTopWidth",!0),n.left+=ot.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ot.css(r,"marginTop",!0),left:t.left-n.left-ot.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||or;e&&!ot.nodeName(e,"html")&&"static"===ot.css(e,"position");)e=e.offsetParent;return e||or})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ot.fn[e]=function(r){return jt(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ot(o).scrollLeft():i,n?i:ot(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ot.each(["top","left"],function(e,t){ot.cssHooks[t]=k(rt.pixelPosition,function(e,n){return n?(n=on(e,t),nn.test(n)?ot(e).position()[t]+"px":n):void 0
})}),ot.each({Height:"height",Width:"width"},function(e,t){ot.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ot.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return jt(this,function(t,n,r){var i;return ot.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ot.css(t,n,a):ot.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var ar=e.jQuery,sr=e.$;return ot.noConflict=function(t){return e.$===ot&&(e.$=sr),t&&e.jQuery===ot&&(e.jQuery=ar),ot},typeof t===Ct&&(e.jQuery=e.$=ot),ot})}).call(this),function(){t=n=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:t,jQuery:n}}();

!function(){var t=Package.meteor.Meteor,e=Package.tracker.Tracker,r=Package.tracker.Deps,i,n,a;(function(){i={},n=function(t){return t},a=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,r){for(var i in r)t.call(r,i)&&(e[i]=r[i]);return e};i.Visitor=function(t){e(this,t)},i.Visitor.def=function(t){e(this.prototype,t)},i.Visitor.extend=function(t){var r=this,n=function a(){i.Visitor.apply(this,arguments)};return n.prototype=new r,n.extend=r.extend,n.def=r.def,t&&e(n.prototype,t),n},i.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case i.Tag.htmljsType:return this.visitTag.apply(this,arguments);case i.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case i.Comment.htmljsType:return this.visitComment.apply(this,arguments);case i.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return i.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),i.TransformingVisitor=i.Visitor.extend(),i.TransformingVisitor.def({visitNull:n,visitPrimitive:n,visitArray:function(t){for(var e=a.call(arguments),r=t,i=0;i<t.length;i++){var n=t[i];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(r===t&&(r=t.slice()),r[i]=o)}return r},visitComment:n,visitCharRef:n,visitRaw:n,visitObject:n,visitFunction:n,visitTag:function(t){var e=t.children,r=a.call(arguments);r[0]=e;var n=this.visitChildren.apply(this,r),o=t.attrs;r[0]=o;var s=this.visitAttributes.apply(this,r);if(s===o&&n===e)return t;var u=i.getTag(t.tagName).apply(null,n);return u.attrs=s,u},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(i.isArray(t)){for(var r=a.call(arguments),n=t,o=0;o<t.length;o++){var s=t[o];r[0]=s;var u=this.visitAttributes.apply(this,r);u!==s&&(n===t&&(n=t.slice()),n[o]=u)}return n}if(t&&i.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var l=t,f=l;if(l){var c=[null,null];c.push.apply(c,arguments);for(var h in l){var p=l[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===l&&(f=e({},l)),f[h]=m)}}return f},visitAttribute:function(t,e,r){var i=a.call(arguments,2);return i[0]=e,this.visit.apply(this,i)}}),i.ToTextVisitor=i.Visitor.extend(),i.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===i.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===i.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===i.TEXTMODE.RCDATA||this.textMode===i.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return i.toHTML(t)}}),i.ToHTMLVisitor=i.Visitor.extend(),i.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){return"<!--"+t.sanitizedValue+"-->"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],r=t.tagName,n=t.children,a=t.attrs;if(a){a=i.flattenAttributes(a);for(var o in a)if("value"===o&&"textarea"===r)n=[a[o],n];else{var s=this.toText(a[o],i.TEXTMODE.ATTRIBUTE);e.push(" "+o+'="'+s+'"')}}var u="<"+r+e.join("")+">",l=[],f;if("textarea"===r){for(var c=0;c<n.length;c++)l.push(this.toText(n[c],i.TEXTMODE.RCDATA));f=l.join(""),"\n"===f.slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<n.length;c++)l.push(this.visit(n[c]));f=l.join("")}var h=u+f;return(n.length||!i.isVoidElement(r))&&(h+="</"+r+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return i.toText(t,e)}})}.call(this),function(){i.Tag=function(){},i.Tag.prototype.tagName="",i.Tag.prototype.attrs=null,i.Tag.prototype.children=Object.freeze?Object.freeze([]):[],i.Tag.prototype.htmljsType=i.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof i.Tag?this:new e,r=0,n=arguments.length&&arguments[0];if(n&&"object"==typeof n)if(i.isConstructedObject(n)){if(n instanceof i.Attrs){var o=n.value;1===o.length?t.attrs=o[0]:o.length>1&&(t.attrs=o),r++}}else t.attrs=n,r++;return r<arguments.length&&(t.children=a.call(arguments,r)),t};return e.prototype=new i.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=i.Attrs=function(){var t=this instanceof e?this:new e;return t.value=a.call(arguments),t};i.getTag=function(e){var r=i.getSymbolName(e);if(r===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return i[r]||(i[r]=t(e)),i[r]},i.ensureTag=function(t){i.getTag(t)},i.isTagEnsured=function(t){return i.isKnownElement(t)},i.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},i.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),i.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),i.knownElementNames=i.knownElementNames.concat(i.knownSVGElementNames),i.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var r={yes:!0},n=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=r;return e},o=n(i.voidElementNames),s=n(i.knownElementNames),u=n(i.knownSVGElementNames);i.isKnownElement=function(t){return s[t]===r},i.isKnownSVGElement=function(t){return u[t]===r},i.isVoidElement=function(t){return o[t]===r};for(var l=0;l<i.knownElementNames.length;l++)i.ensureTag(i.knownElementNames[l]);var f=i.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=i.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=i.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],i.isArray=function(t){return t instanceof Array},i.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&!Object.prototype.hasOwnProperty.call(t,"constructor")},i.isNully=function(t){if(null==t)return!0;if(i.isArray(t)){for(var e=0;e<t.length;e++)if(!i.isNully(t[e]))return!1;return!0}return!1},i.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},i.flattenAttributes=function(t){if(!t)return t;var e=i.isArray(t);if(e&&0===t.length)return null;for(var r={},n=0,a=e?t.length:1;a>n;n++){var o=e?t[n]:t;if("object"!=typeof o||i.isConstructedObject(o))throw new Error("Expected plain JS object as attrs, found: "+o);for(var s in o){if(!i.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var u=o[s];i.isNully(u)||(r[s]=u)}}return r},i.toHTML=function(t){return(new i.ToHTMLVisitor).visit(t)},i.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},i.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==i.TEXTMODE.STRING&&e!==i.TEXTMODE.RCDATA&&e!==i.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var r=new i.ToTextVisitor({textMode:e});return r.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.htmljs={HTML:i}}();

!function(){var i=Package.meteor.Meteor,t=Package.underscore._,a=Package.json.JSON,n=Package.ejson.EJSON,e;(function(){e=function(i,t){var n=this;n._map={},n._idStringify=i||a.stringify,n._idParse=t||a.parse},t.extend(e.prototype,{get:function(i){var t=this,a=t._idStringify(i);return t._map[a]},set:function(i,t){var a=this,n=a._idStringify(i);a._map[n]=t},remove:function(i){var t=this,a=t._idStringify(i);delete t._map[a]},has:function(i){var a=this,n=a._idStringify(i);return t.has(a._map,n)},empty:function(){var i=this;return t.isEmpty(i._map)},clear:function(){var i=this;i._map={}},forEach:function(i){for(var a=this,n=t.keys(a._map),e=0;e<n.length;e++){var r=i.call(null,a._map[n[e]],a._idParse(n[e]));if(r===!1)return}},size:function(){var i=this;return t.size(i._map)},setDefault:function(i,a){var n=this,e=n._idStringify(i);return t.has(n._map,e)?n._map[e]:(n._map[e]=a,a)},clone:function(){var i=this,t=new e(i._idStringify,i._idParse);return i.forEach(function(i,a){t.set(a,n.clone(i))}),t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["id-map"]={IdMap:e}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,r;(function(){var t=function(t,e,r,n){return{key:t,value:e,next:r,prev:n}};r=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var r=e.toArray(arguments);t._stringify=function(t){return t},"function"==typeof r[0]&&(t._stringify=r.shift()),e.each(r,function(e){t.putBefore(e[0],e[1],null)})},e.extend(r.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){var t=this;return!t._first},size:function(){var t=this;return t._size},_linkEltIn:function(t){var e=this;t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=e._last,e._last&&(e._last.next=t),e._last=t),(null===e._first||e._first===t.next)&&(e._first=t)},_linkEltOut:function(t){var e=this;t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===e._last&&(e._last=t.prev),t===e._first&&(e._first=t.next)},putBefore:function(e,r,n){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=n?t(e,r,i._dict[i._k(n)]):t(e,r,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(t,e){var r=this;r.putBefore(t,e,null)},remove:function(t){var e=this,r=e._dict[e._k(t)];if(void 0===r)throw new Error("Item "+t+" not present in OrderedDict");return e._linkEltOut(r),e._size--,delete e._dict[e._k(t)],r.value},get:function(t){var e=this;return e.has(t)?e._dict[e._k(t)].value:void 0},has:function(t){var r=this;return e.has(r._dict,r._k(t))},forEach:function(t){for(var e=this,n=0,i=e._first;null!==i;){var o=t(i.value,i.key,n);if(o===r.BREAK)return;i=i.next,n++}},first:function(){var t=this;return t.empty()?void 0:t._first.key},firstValue:function(){var t=this;return t.empty()?void 0:t._first.value},last:function(){var t=this;return t.empty()?void 0:t._last.key},lastValue:function(){var t=this;return t.empty()?void 0:t._last.value},prev:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.prev)return r.prev.key}return null},next:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.next)return r.next.key}return null},moveBefore:function(t,e){var r=this,n=r._dict[r._k(t)],i=e?r._dict[r._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==n.next&&(r._linkEltOut(n),n.next=i,r._linkEltIn(n))},indexOf:function(t){var e=this,n=null;return e.forEach(function(i,o,u){return e._k(o)===e._k(t)?(n=u,r.BREAK):void 0}),n},_checkRep:function(){var t=this;e.each(t._dict,function(t,e){if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}),r.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:r}}();

!function(){var t=Package.meteor.Meteor,n,o;(function(){o={exports:{}}}).call(this),function(){!function(){function t(t){for(var n=[],o=[],a=0;a<t[0].length;a++)n.push(t[0][a][1]),o.push(t[0][a][0]);return n=n.sort(function(t,n){return t-n}),o=o.sort(function(t,n){return t-n}),[[n[0],o[0]],[n[n.length-1],o[o.length-1]]]}function n(t,n,o){for(var a=[[0,0]],r=0;r<o.length;r++){for(var e=0;e<o[r].length;e++)a.push(o[r][e]);a.push([0,0])}for(var i=!1,r=0,e=a.length-1;r<a.length;e=r++)a[r][0]>n!=a[e][0]>n&&t<(a[e][1]-a[r][1])*(n-a[r][0])/(a[e][0]-a[r][0])+a[r][1]&&(i=!i);return i}var a={};"undefined"!=typeof o&&o.exports&&(o.exports=a),a.lineStringsIntersect=function(t,n){for(var o=[],a=0;a<=t.coordinates.length-2;++a)for(var r=0;r<=n.coordinates.length-2;++r){var e={x:t.coordinates[a][1],y:t.coordinates[a][0]},i={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},s={x:n.coordinates[r][1],y:n.coordinates[r][0]},c={x:n.coordinates[r+1][1],y:n.coordinates[r+1][0]},u=(c.x-s.x)*(e.y-s.y)-(c.y-s.y)*(e.x-s.x),h=(i.x-e.x)*(e.y-s.y)-(i.y-e.y)*(e.x-s.x),d=(c.y-s.y)*(i.x-e.x)-(c.x-s.x)*(i.y-e.y);if(0!=d){var l=u/d,y=h/d;l>=0&&1>=l&&y>=0&&1>=y&&o.push({type:"Point",coordinates:[e.x+l*(i.x-e.x),e.y+l*(i.y-e.y)]})}}return 0==o.length&&(o=!1),o},a.pointInBoundingBox=function(t,n){return!(t.coordinates[1]<n[0][0]||t.coordinates[1]>n[1][0]||t.coordinates[0]<n[0][1]||t.coordinates[0]>n[1][1])},a.pointInPolygon=function(o,r){for(var e="Polygon"==r.type?[r.coordinates]:r.coordinates,i=!1,s=0;s<e.length;s++)a.pointInBoundingBox(o,t(e[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<e.length;s++)n(o.coordinates[1],o.coordinates[0],e[s])&&(c=!0);return c},a.numberToRadius=function(t){return t*Math.PI/180},a.numberToDegree=function(t){return 180*t/Math.PI},a.drawCircle=function(t,n,o){for(var r=[n.coordinates[1],n.coordinates[0]],e=t/1e3/6371,i=[a.numberToRadius(r[0]),a.numberToRadius(r[1])],o=o||15,s=[[r[0],r[1]]],c=0;o>c;c++){var u=2*Math.PI*c/o,h=Math.asin(Math.sin(i[0])*Math.cos(e)+Math.cos(i[0])*Math.sin(e)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(e)*Math.cos(i[0]),Math.cos(e)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=a.numberToDegree(h),s[c][0]=a.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},a.rectangleCentroid=function(t){var n=t.coordinates[0],o=n[0][0],a=n[0][1],r=n[2][0],e=n[2][1],i=r-o,s=e-a;return{type:"Point",coordinates:[o+i/2,a+s/2]}},a.pointDistance=function(t,n){var o=t.coordinates[0],r=t.coordinates[1],e=n.coordinates[0],i=n.coordinates[1],s=a.numberToRadius(i-r),c=a.numberToRadius(e-o),u=Math.pow(Math.sin(s/2),2)+Math.cos(a.numberToRadius(r))*Math.cos(a.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*h*1e3},a.geometryWithinRadius=function(t,n,o){if("Point"==t.type)return a.pointDistance(t,n)<=o;if("LineString"==t.type||"Polygon"==t.type){var r={},e;e="Polygon"==t.type?t.coordinates[0]:t.coordinates;for(var i in e)if(r.coordinates=e[i],a.pointDistance(r,n)>o)return!1}return!0},a.area=function(t){for(var n=0,o=t.coordinates[0],a=o.length-1,r,e,i=0;i<o.length;a=i++){var r={x:o[i][1],y:o[i][0]},e={x:o[a][1],y:o[a][0]};n+=r.x*e.y,n-=r.y*e.x}return n/=2},a.centroid=function(t){for(var n,o=0,r=0,e=t.coordinates[0],i=e.length-1,s,c,u=0;u<e.length;i=u++){var s={x:e[u][1],y:e[u][0]},c={x:e[i][1],y:e[i][0]};n=s.x*c.y-c.x*s.y,o+=(s.x+c.x)*n,r+=(s.y+c.y)*n}return n=6*a.area(t),{type:"Point",coordinates:[r/n,o/n]}},a.simplify=function(t,n){n=n||20,t=t.map(function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}});var o,a,r,e,i,s,c,u,h,d,l,y,M,f,g,x,p,v,P,b=Math.PI/180*.5,m=new Array,T=new Array,I=new Array;if(t.length<3)return t;for(o=t.length,d=360*n/(2*Math.PI*6378137),d*=d,r=0,T[0]=0,I[0]=o-1,a=1;a>0;)if(e=T[a-1],i=I[a-1],a--,i-e>1){for(l=t[i].lng()-t[e].lng(),y=t[i].lat()-t[e].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),l*=Math.cos(b*(t[i].lat()+t[e].lat())),M=l*l+y*y,s=e+1,c=e,h=-1;i>s;s++)f=t[s].lng()-t[e].lng(),g=t[s].lat()-t[e].lat(),Math.abs(f)>180&&(f=360-Math.abs(f)),f*=Math.cos(b*(t[s].lat()+t[e].lat())),x=f*f+g*g,p=t[s].lng()-t[i].lng(),v=t[s].lat()-t[i].lat(),Math.abs(p)>180&&(p=360-Math.abs(p)),p*=Math.cos(b*(t[s].lat()+t[i].lat())),P=p*p+v*v,u=x>=M+P?P:P>=M+x?x:(f*y-g*l)*(f*y-g*l)/M,u>h&&(c=s,h=u);d>h?(m[r]=e,r++):(a++,T[a-1]=c,I[a-1]=i,a++,T[a-1]=e,I[a-1]=c)}else m[r]=e,r++;m[r]=o-1,r++;for(var R=new Array,s=0;r>s;s++)R.push(t[m[s]]);return R.map(function(t){return{type:"Point",coordinates:[t.lng,t.lat]}})},a.destinationPoint=function(t,n,o){o/=6371,n=a.numberToRadius(n);var r=a.numberToRadius(t.coordinates[0]),e=a.numberToRadius(t.coordinates[1]),i=Math.asin(Math.sin(r)*Math.cos(o)+Math.cos(r)*Math.sin(o)*Math.cos(n)),s=e+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(r),Math.cos(o)-Math.sin(r)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[a.numberToDegree(i),a.numberToDegree(s)]}}}()}.call(this),function(){n=o.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:n}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,t=Package.json.JSON,n=Package.ejson.EJSON,o=Package["id-map"].IdMap,i=Package["ordered-dict"].OrderedDict,a=Package.tracker.Tracker,s=Package.tracker.Deps,c=Package.random.Random,u=Package["geojson-utils"].GeoJSON,d,f,l,h,p,v,_,m,y,g,w,b,$,I,E,O;(function(){d=function(r){var t=this;t.name=r,t._docs=new d._IdMap,t._observeQueue=new e._SynchronousQueue,t.next_qid=1,t.queries={},t._savedOriginals=null,t.paused=!1},f={},l={},d._applyChanges=function(e,t){r.each(t,function(r,t){void 0===r?delete e[t]:e[t]=r})},h=function(e){var r=new Error(e);return r.name="MinimongoError",r},d.prototype.find=function(e,r){return 0===arguments.length&&(e={}),new d.Cursor(this,e,r)},d.Cursor=function(e,r,t){var n=this;t||(t={}),n.collection=e,n.sorter=null,d._selectorIsId(r)?(n._selectorId=r,n.matcher=new f.Matcher(r,n)):(n._selectorId=void 0,n.matcher=new f.Matcher(r,n),(n.matcher.hasGeoQuery()||t.sort)&&(n.sorter=new f.Sorter(t.sort||[],{matcher:n.matcher}))),n.skip=t.skip,n.limit=t.limit,n.fields=t.fields,n.fields&&(n.projectionFn=d._compileProjection(n.fields)),n._transform=d.wrapTransform(t.transform),"undefined"!=typeof a&&(n.reactive=void 0===t.reactive?!0:t.reactive)},d.Cursor.prototype.rewind=function(){},d.prototype.findOne=function(e,r){return 0===arguments.length&&(e={}),r=r||{},r.limit=1,this.find(e,r).fetch()[0]},d.Cursor.prototype.forEach=function(e,t){var o=this,i=o._getRawObjects({ordered:!0});o.reactive&&o._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),r.each(i,function(r,i){r=o.projectionFn?o.projectionFn(r):n.clone(r),o._transform&&(r=o._transform(r)),e.call(t,r,i,o)})},d.Cursor.prototype.getTransform=function(){return this._transform},d.Cursor.prototype.map=function(e,r){var t=this,n=[];return t.forEach(function(o,i){n.push(e.call(r,o,i,t))}),n},d.Cursor.prototype.fetch=function(){var e=this,r=[];return e.forEach(function(e){r.push(e)}),r},d.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},d.Cursor.prototype._publishCursor=function(e){var r=this;if(!r.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var t=r.collection.name;return Mongo.Collection._publishCursor(r,e,t)},d.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},d._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},d._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},d.ObserveHandle=function(){},r.extend(d.Cursor.prototype,{observe:function(e){var r=this;return d._observeFromObserveChanges(r,e)},observeChanges:function(e){var t=this,o=d._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!o&&(t.skip||t.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(t.fields&&(0===t.fields._id||t.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var i={matcher:t.matcher,sorter:o&&t.sorter,distances:t.matcher.hasGeoQuery()&&o&&new d._IdMap,resultsSnapshot:null,ordered:o,cursor:t,projectionFn:t.projectionFn},s;t.reactive&&(s=t.collection.next_qid++,t.collection.queries[s]=i),i.results=t._getRawObjects({ordered:o,distances:i.distances}),t.collection.paused&&(i.resultsSnapshot=o?[]:new d._IdMap);var c=function(e,n,o){return e?function(){var i=this,a=arguments;t.collection.paused||void 0!==n&&t.projectionFn&&(a[n]=t.projectionFn(a[n]),o&&r.isEmpty(a[n]))||t.collection._observeQueue.queueTask(function(){e.apply(i,a)})}:function(){}};if(i.added=c(e.added,1),i.changed=c(e.changed,1,!0),i.removed=c(e.removed),o&&(i.addedBefore=c(e.addedBefore,1),i.movedBefore=c(e.movedBefore)),!e._suppress_initial&&!t.collection.paused){var u=o?r.bind(r.each,null,i.results):r.bind(i.results.forEach,i.results);u(function(e){var r=n.clone(e);delete r._id,o&&i.addedBefore(e._id,r,null),i.added(e._id,r)})}var f=new d.ObserveHandle;return r.extend(f,{collection:t.collection,stop:function(){t.reactive&&delete t.collection.queries[s]}}),t.reactive&&a.active&&a.onInvalidate(function(){f.stop()}),t.collection._observeQueue.drain(),f}}),d.Cursor.prototype._getRawObjects=function(e){var r=this;e=e||{};var t=e.ordered?[]:new d._IdMap;if(void 0!==r._selectorId){if(r.skip)return t;var n=r.collection._docs.get(r._selectorId);return n&&(e.ordered?t.push(n):t.set(r._selectorId,n)),t}var o;if(r.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances,o.clear()):o=new d._IdMap),r.collection._docs.forEach(function(n,i){var a=r.matcher.documentMatches(n);return a.result&&(e.ordered?(t.push(n),o&&void 0!==a.distance&&o.set(i,a.distance)):t.set(i,n)),!r.limit||r.skip||r.sorter||t.length!==r.limit?!0:!1}),!e.ordered)return t;if(r.sorter){var i=r.sorter.getComparator({distances:o});t.sort(i)}var a=r.skip||0,s=r.limit?r.limit+a:t.length;return t.slice(a,s)},d.Cursor.prototype._depend=function(e,t){var n=this;if(a.active){var o=new a.Dependency;o.depend();var i=r.bind(o.changed,o),s={_suppress_initial:!0,_allow_unordered:t};r.each(["added","changed","removed","addedBefore","movedBefore"],function(r){e[r]&&(s[r]=i)}),n.observeChanges(s)}},d.prototype.insert=function(t,o){var i=this;t=n.clone(t),r.has(t,"_id")||(t._id=d._useOID?new d._ObjectID:c.id());var a=t._id;if(i._docs.has(a))throw h("Duplicate _id '"+a+"'");i._saveOriginal(a,void 0),i._docs.set(a,t);var s=[];for(var u in i.queries){var f=i.queries[u],l=f.matcher.documentMatches(t);l.result&&(f.distances&&void 0!==l.distance&&f.distances.set(a,l.distance),f.cursor.skip||f.cursor.limit?s.push(u):d._insertInResults(f,t))}return r.each(s,function(e){i.queries[e]&&d._recomputeResults(i.queries[e])}),i._observeQueue.drain(),o&&e.defer(function(){o(null,a)}),a},d.prototype._eachPossiblyMatchingDoc=function(e,r){var t=this,n=d._idsMatchedBySelector(e);if(n)for(var o=0;o<n.length;++o){var i=n[o],a=t._docs.get(i);if(a){var s=r(a,i);if(s===!1)break}}else t._docs.forEach(r)},d.prototype.remove=function(t,o){var i=this;if(i.paused&&!i._savedOriginals&&n.equals(t,{})){var a=i._docs.size();return i._docs.clear(),r.each(i.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),o&&e.defer(function(){o(null,a)}),a}var s=new f.Matcher(t,i),c=[];i._eachPossiblyMatchingDoc(t,function(e,r){s.documentMatches(e).result&&c.push(r)});for(var u=[],l=[],h=0;h<c.length;h++){var p=c[h],v=i._docs.get(p);r.each(i.queries,function(e,r){e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?u.push(r):l.push({qid:r,doc:v}))}),i._saveOriginal(p,v),i._docs.remove(p)}return r.each(l,function(e){var r=i.queries[e.qid];r&&(r.distances&&r.distances.remove(e.doc._id),d._removeFromResults(r,e.doc))}),r.each(u,function(e){var r=i.queries[e];r&&d._recomputeResults(r)}),i._observeQueue.drain(),a=c.length,o&&e.defer(function(){o(null,a)}),a},d.prototype.update=function(t,o,i,a){var s=this;!a&&i instanceof Function&&(a=i,i=null),i||(i={});var c=new f.Matcher(t,s),u={};r.each(s.queries,function(e,r){!e.cursor.skip&&!e.cursor.limit||e.paused||(u[r]=n.clone(e.results))});var l={},h=0;s._eachPossiblyMatchingDoc(t,function(e,r){var t=c.documentMatches(e);return t.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,o,l,t.arrayIndices),++h,!i.multi)?!1:!0}),r.each(l,function(e,r){var t=s.queries[r];t&&d._recomputeResults(t,u[r])}),s._observeQueue.drain();var p;if(0===h&&i.upsert){var v=d._removeDollarOperators(t);d._modify(v,o,{isInsert:!0}),!v._id&&i.insertedId&&(v._id=i.insertedId),p=s.insert(v),h=1}var _;return i._returnObject?(_={numberAffected:h},void 0!==p&&(_.insertedId=p)):_=h,a&&e.defer(function(){a(null,_)}),_},d.prototype.upsert=function(e,t,n,o){var i=this;return o||"function"!=typeof n||(o=n,n={}),i.update(e,t,r.extend({},n,{upsert:!0,_returnObject:!0}),o)},d.prototype._modifyAndNotify=function(e,r,t,o){var i=this,a={};for(var s in i.queries){var c=i.queries[s];a[s]=c.ordered?c.matcher.documentMatches(e).result:c.results.has(e._id)}var u=n.clone(e);d._modify(e,r,{arrayIndices:o});for(s in i.queries){c=i.queries[s];var f=a[s],l=c.matcher.documentMatches(e),h=l.result;h&&c.distances&&void 0!==l.distance&&c.distances.set(e._id,l.distance),c.cursor.skip||c.cursor.limit?(f||h)&&(t[s]=!0):f&&!h?d._removeFromResults(c,e):!f&&h?d._insertInResults(c,e):f&&h&&d._updateInResults(c,e,u)}},d._insertInResults=function(e,r){var t=n.clone(r);if(delete t._id,e.ordered){if(e.sorter){var o=d._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),i=e.results[o+1];i=i?i._id:null,e.addedBefore(r._id,t,i)}else e.addedBefore(r._id,t,null),e.results.push(r);e.added(r._id,t)}else e.added(r._id,t),e.results.set(r._id,r)},d._removeFromResults=function(e,r){if(e.ordered){var t=d._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},d._updateInResults=function(e,t,o){if(!n.equals(t._id,o._id))throw new Error("Can't change a doc's _id while updating");var i=d._makeChangedFields(t,o);if(!e.ordered)return void(r.isEmpty(i)||(e.changed(t._id,i),e.results.set(t._id,t)));var a=d._findInOrderedResults(e,t);if(r.isEmpty(i)||e.changed(t._id,i),e.sorter){e.results.splice(a,1);var s=d._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,t);if(a!==s){var c=e.results[s+1];c=c?c._id:null,e.movedBefore&&e.movedBefore(t._id,c)}}},d._recomputeResults=function(e,r){r||(r=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),e.paused||d._diffQueryChanges(e.ordered,r,e.results,e)},d._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},d._binarySearch=function(e,r,t){for(var n=0,o=r.length;o>0;){var i=Math.floor(o/2);e(t,r[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},d._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=d._binarySearch(e,r,t);return r.splice(n,0,t),n},d.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new d._IdMap},d.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var r=e._savedOriginals;return e._savedOriginals=null,r},d.prototype._saveOriginal=function(e,r){var t=this;t._savedOriginals&&(t._savedOriginals.has(e)||t._savedOriginals.set(e,n.clone(r)))},d.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var r=this.queries[e];r.resultsSnapshot=n.clone(r.results)}}},d.prototype.resumeObservers=function(){var e=this;if(this.paused){this.paused=!1;for(var r in this.queries){var t=e.queries[r];d._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t),t.resultsSnapshot=null}e._observeQueue.drain()}},d._idStringify=function(e){if(e instanceof d._ObjectID)return e.valueOf();if("string"==typeof e)return""===e?e:"-"===e.substr(0,1)||"~"===e.substr(0,1)||d._looksLikeObjectID(e)||"{"===e.substr(0,1)?"-"+e:e;if(void 0===e)return"-";if("object"==typeof e&&null!==e)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+t.stringify(e)},d._idParse=function(e){return""===e?e:"-"===e?void 0:"-"===e.substr(0,1)?e.substr(1):"~"===e.substr(0,1)?t.parse(e.substr(1)):d._looksLikeObjectID(e)?new d._ObjectID(e):e},d._makeChangedFields=function(e,r){var t={};return d._diffObjects(r,e,{leftOnly:function(e,r){t[e]=void 0},rightOnly:function(e,r){t[e]=r},both:function(e,r,o){n.equals(r,o)||(t[e]=o)}}),t}}).call(this),function(){d.wrapTransform=function(e){return e?function(t){if(!r.has(t,"_id"))throw new Error("can only transform documents with _id");var o=t._id,i=a.nonreactive(function(){return e(t)});if(!v(i))throw new Error("transform must return object");if(r.has(i,"_id")){if(!n.equals(i._id,o))throw new Error("transformed document can't have different _id")}else i._id=o;return i}:null}}.call(this),function(){p=function(e){return r.isArray(e)&&!n.isBinary(e)},v=d._isPlainObject=function(e){return e&&3===d._f._type(e)},_=function(e){return p(e)||v(e)},m=function(e,n){if(!v(e))return!1;var o=void 0;return r.each(e,function(r,i){var a="$"===i.substr(0,1);if(void 0===o)o=a;else if(o!==a){if(!n)throw new Error("Inconsistent operator: "+t.stringify(e));o=!1}}),!!o},y=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){f.Matcher=function(e){var r=this;r._paths={},r._hasGeoQuery=!1,r._hasWhere=!1,r._isSimple=!0,r._matchingDocument=void 0,r._selector=null,r._docMatcher=r._compileSelector(e)},r.extend(f.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(r){var t=this;if(r instanceof Function)return t._isSimple=!1,t._selector=r,t._recordPathUsed(""),function(e){return{result:!!r.call(e)}};if(d._selectorIsId(r))return t._selector={_id:r},t._recordPathUsed("_id"),function(e){return{result:n.equals(e._id,r)}};if(!r||"_id"in r&&!r._id)return t._isSimple=!1,k;if("boolean"==typeof r||p(r)||n.isBinary(r))throw new Error("Invalid selector: "+r);return t._selector=n.clone(r),e(r,t,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return r.keys(this._paths)}});var e=function(e,n,o){o=o||{};var i=[];return r.each(e,function(e,a){if("$"===a.substr(0,1)){if(!r.has(s,a))throw new Error("Unrecognized logical operator: "+a);n._isSimple=!1,i.push(s[a](e,n,o.inElemMatch))}else{o.inElemMatch||n._recordPathUsed(a);var c=$(a),u=t(e,n,o.isRoot);i.push(function(e){var r=c(e);return u(r)})}}),A(i)},t=function(e,r,t){return e instanceof RegExp?(r._isSimple=!1,o(g(e))):m(e)?i(e,r,t):o(w(e))},o=function(e,t){return t=t||{},function(n){var o=n;t.dontExpandLeafArrays||(o=I(n,t.dontIncludeLeafArrays));var i={};return i.result=r.any(o,function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t}),i}};g=function(e){return function(t){return t instanceof RegExp?r.isEqual(t,e):"string"!=typeof t?!1:(e.lastIndex=0,e.test(t))}},w=function(e){if(m(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return d._f._equal(e,r)}};var i=function(e,t,n){var i=[];return r.each(e,function(a,s){var c=r.contains(["$lt","$lte","$gt","$gte"],s)&&r.isNumber(a),u="$ne"===s&&!r.isObject(a),d=r.contains(["$in","$nin"],s)&&r.isArray(a)&&!r.any(a,r.isObject);if("$eq"===s||c||d||u||(t._isSimple=!1),r.has(h,s))i.push(h[s](a,e,t,n));else{if(!r.has(b,s))throw new Error("Unrecognized operator: "+s);var f=b[s];i.push(o(f.compileElementSelector(a,e,t),f))}}),M(i)},a=function(t,n,o){if(!p(t)||r.isEmpty(t))throw Error("$and/$or/$nor must be nonempty array");return r.map(t,function(r){if(!v(r))throw Error("$or/$and/$nor entries need to be full objects");return e(r,n,{inElemMatch:o})})},s={$and:function(e,r,t){var n=a(e,r,t);return A(n)},$or:function(e,t,n){var o=a(e,t,n);return 1===o.length?o[0]:function(e){var t=r.any(o,function(r){return r(e).result});return{result:t}}},$nor:function(e,t,n){var o=a(e,t,n);return function(e){var t=r.all(o,function(r){return!r(e).result});return{result:t}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},c=function(e){return function(r){var t=e(r);return{result:!t.result}}},h={$not:function(e,r,n){return c(t(e,n))},$ne:function(e){return c(o(w(e)))},$nin:function(e){return c(o(b.$in.compileElementSelector(e)))},$exists:function(e){var r=o(function(e){return void 0!==e});return e?r:c(r)},$options:function(e,t){if(!r.has(t,"$regex"))throw Error("$options needs a $regex");return j},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return j},$all:function(e,n,o){if(!p(e))throw Error("$all requires array");if(r.isEmpty(e))return k;var i=[];return r.each(e,function(e){if(m(e))throw Error("no $ expressions in $all");i.push(t(e,o))}),M(i)},$near:function(e,t,n,o){if(!o)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var i,a,s;if(v(e)&&r.has(e,"$geometry"))i=e.$maxDistance,a=e.$geometry,s=function(e){return e&&e.type?"Point"===e.type?u.pointDistance(a,e):u.geometryWithinRadius(e,a,i)?0:i+1:null};else{if(i=t.$maxDistance,!p(e)&&!v(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=O(e),s=function(e){return p(e)||v(e)?E(a,e):null}}return function(e){e=I(e);var t={result:!1};return r.each(e,function(e){var r=s(e.value);null===r||r>i||void 0!==t.distance&&t.distance<=r||(t.result=!0,t.distance=r,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices)}),t}}},E=function(e,t){e=O(e),t=O(t);var n=e[0]-t[0],o=e[1]-t[1];return r.isNaN(n)||r.isNaN(o)?null:Math.sqrt(n*n+o*o)},O=function(e){return r.map(e,r.identity)},C=function(e){return{compileElementSelector:function(r){if(p(r))return function(){return!1};void 0===r&&(r=null);var t=d._f._type(r);return function(n){return void 0===n&&(n=null),d._f._type(n)!==t?!1:e(d._f._cmp(n,r))}}}};b={$lt:C(function(e){return 0>e}),$gt:C(function(e){return e>0}),$lte:C(function(e){return 0>=e}),$gte:C(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!p(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!p(e))throw Error("$in needs an array");var t=[];return r.each(e,function(e){if(e instanceof RegExp)t.push(g(e));else{if(m(e))throw Error("cannot nest $ under $in");t.push(w(e))}}),function(e){return void 0===e&&(e=null),r.any(t,function(r){return r(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return p(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("number"!=typeof e)throw Error("$type needs a number");return function(r){return void 0!==r&&d._f._type(r)===e}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return g(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(r,n,o){if(!v(r))throw Error("$elemMatch need an object");var i,a;return m(r,!0)?(i=t(r,o),a=!1):(i=e(r,o,{inElemMatch:!0}),a=!0),function(e){if(!p(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],n;if(a){if(!v(t)&&!p(t))return!1;n=t}else n=[{value:t,dontIterate:!0}];if(i(n).result)return r}return!1}}}},$=function(e,t){t=t||{};var n=e.split("."),o=n.length?n[0]:"",i=y(o),a=n.length>=2&&y(n[1]),s;n.length>1&&(s=$(n.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,n){if(n||(n=[]),p(e)){if(!(i&&o<e.length))return[];n=n.concat(+o,"x")}var u=e[o];if(!s)return[c({value:u,dontIterate:p(e)&&p(u),arrayIndices:n})];if(!_(u))return p(e)?[]:[c({value:void 0,arrayIndices:n})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(s(u,n)),!p(u)||a&&t.forSort||r.each(u,function(e,r){v(e)&&f(s(e,n.concat(r)))}),d}},l.makeLookupFunction=$,I=function(e,t){var n=[];return r.each(e,function(e){var o=p(e.value);t&&o&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),o&&!e.dontIterate&&r.each(e.value,function(r,t){n.push({value:r,arrayIndices:(e.arrayIndices||[]).concat(t)})})}),n};var k=function(e){return{result:!1}},j=function(e){return{result:!0}},S=function(e){return 0===e.length?j:1===e.length?e[0]:function(t){var n={};return n.result=r.all(e,function(e){var r=e(t);return r.result&&void 0!==r.distance&&void 0===n.distance&&(n.distance=r.distance),r.result&&r.arrayIndices&&(n.arrayIndices=r.arrayIndices),r.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},A=S,M=S;d._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:p(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:n.isBinary(e)?5:e instanceof d._ObjectID?7:3},_equal:function(e,r){return n.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=d._f._type(e),n=d._f._type(r),o=d._f._typeorder(t),i=d._f._typeorder(n);if(o!==i)return i>o?-1:1;if(t!==n)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=n=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=n=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===n)return r>e?-1:e===r?0:1;if(3===t){var a=function(e){var r=[];for(var t in e)r.push(t),r.push(e[t]);return r};return d._f._cmp(a(e),a(r))}if(4===t)for(var s=0;;s++){if(s===e.length)return s===r.length?0:-1;if(s===r.length)return 1;var c=d._f._cmp(e[s],r[s]);if(0!==c)return c}if(5===t){if(e.length!==r.length)return e.length-r.length;for(s=0;s<e.length;s++){if(e[s]<r[s])return-1;if(e[s]>r[s])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},d._removeDollarOperators=function(e){var r={};for(var t in e)"$"!==t.substr(0,1)&&(r[t]=e[t]);return r}}.call(this),function(){f.Sorter=function(n,o){var i=this;o=o||{},i._sortSpecParts=[];var a=function(e,r){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);i._sortSpecParts.push({path:e,lookup:$(e,{forSort:!0}),ascending:r})};if(n instanceof Array)for(var s=0;s<n.length;s++)"string"==typeof n[s]?a(n[s],!0):a(n[s][0],"desc"!==n[s][1]);else{if("object"!=typeof n)throw Error("Bad sort specification: "+t.stringify(n));r.each(n,function(e,r){a(r,e>=0)})}if(i.affectedByModifier){var c={};r.each(i._sortSpecParts,function(e){c[e.path]=1}),i._selectorForAffectedByModifier=new f.Matcher(c)}i._keyComparator=e(r.map(i._sortSpecParts,function(e,r){return i._keyFieldComparator(r)})),i._keyFilter=null,o.matcher&&i._useWithMatcher(o.matcher)},r.extend(f.Sorter.prototype,{getComparator:function(r){var t=this;if(!r||!r.distances)return t._getBaseComparator();var n=r.distances;return e([t._getBaseComparator(),function(e,r){if(!n.has(e._id))throw Error("Missing distance for "+e._id);if(!n.has(r._id))throw Error("Missing distance for "+r._id);return n.get(e._id)-n.get(r._id)}])},_getPaths:function(){var e=this;return r.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var r=this,t=null;if(r._generateKeysFromDoc(e,function(e){return r._keyCompatibleWithSelector(e)?null===t?void(t=e):void(r._compareKeys(e,t)<0&&(t=e)):void 0}),null===t)throw Error("sort selector found no keys in doc?");return t},_keyCompatibleWithSelector:function(e){var r=this;return!r._keyFilter||r._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(0===n._sortSpecParts.length)throw new Error("can't generate keys without a spec");var o=[],i=function(e){return e.join(",")+","},a=null;if(r.each(n._sortSpecParts,function(t,n){var s=I(t.lookup(e),!0);s.length||(s=[{value:null}]);var c=!1;if(o[n]={},r.each(s,function(e){if(!e.arrayIndices){if(s.length>1)throw Error("multiple branches but no array used?");return void(o[n][""]=e.value)}c=!0;var t=i(e.arrayIndices);if(r.has(o[n],t))throw Error("duplicate path: "+t);if(o[n][t]=e.value,a&&!r.has(a,t))throw Error("cannot index parallel arrays")}),a){if(!r.has(o[n],"")&&r.size(a)!==r.size(o[n]))throw Error("cannot index parallel arrays!")}else c&&(a={},r.each(o[n],function(e,r){a[r]=!0}))}),!a){var s=r.map(o,function(e){if(!r.has(e,""))throw Error("no value in sole key case?");return e[""]});return void t(s)}r.each(a,function(e,n){var i=r.map(o,function(e){if(r.has(e,""))return e[""];if(!r.has(e,n))throw Error("missing path?");return e[n]});t(i)})},_compareKeys:function(e,r){var t=this;if(e.length!==t._sortSpecParts.length||r.length!==t._sortSpecParts.length)throw Error("Key has wrong length");return t._keyComparator(e,r)},_keyFieldComparator:function(e){var r=this,t=!r._sortSpecParts[e].ascending;return function(r,n){var o=d._f._cmp(r[e],n[e]);return t&&(o=-o),o}},_getBaseComparator:function(){var e=this;return e._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),o=e._getMinKeyFromDoc(t);return e._compareKeys(n,o)}:function(e,r){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(!r.isEmpty(t._sortSpecParts)){var n=e._selector;if(!(n instanceof Function)){var o={};r.each(t._sortSpecParts,function(e,r){o[e.path]=[]}),r.each(n,function(e,t){var n=o[t];if(n){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void n.push(g(e))}return m(e)?void r.each(e,function(t,o){r.contains(["$lt","$lte","$gt","$gte"],o)&&n.push(b[o].compileElementSelector(t)),"$regex"!==o||e.$options||n.push(b.$regex.compileElementSelector(t,e))}):void n.push(w(e))}}),r.isEmpty(o[t._sortSpecParts[0].path])||(t._keyFilter=function(e){return r.all(t._sortSpecParts,function(t,n){return r.all(o[t.path],function(r){return r(e[n])})})})}}}});var e=function(e){return function(r,t){for(var n=0;n<e.length;++n){var o=e[n](r,t);if(0!==o)return o}return 0}}}.call(this),function(){d._compileProjection=function(e){d._checkSupportedProjection(e);var t=r.isUndefined(e._id)?!0:e._id,o=E(e),i=function(e,t){if(r.isArray(e))return r.map(e,function(e){return i(e,t)});var a=o.including?{}:n.clone(e);return r.each(t,function(t,s){r.has(e,s)&&(r.isObject(t)?r.isObject(e[s])&&(a[s]=i(e[s],t)):o.including?a[s]=n.clone(e[s]):delete a[s])}),a};return function(e){var n=i(e,o.tree);return t&&r.has(e,"_id")&&(n._id=e._id),!t&&r.has(n,"_id")&&delete n._id,n}},E=function(e){var t=r.keys(e).sort();t.length>0&&(1!==t.length||"_id"!==t[0])&&(t=r.reject(t,function(e){return"_id"===e}));var n=null;r.each(t,function(r){var t=!!e[r];if(null===n&&(n=t),n!==t)throw h("You cannot currently mix including and excluding fields.")});var o=O(t,function(e){return n},function(e,r,t){var n=t,o=r;throw h("both "+n+" and "+o+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},O=function(e,t,n,o){return o=o||{},r.each(e,function(e){var i=o,a=e.split("."),s=r.all(a.slice(0,-1),function(t,o){if(r.has(i,t)){if(!r.isObject(i[t])&&(i[t]=n(i[t],a.slice(0,o+1).join("."),e),!r.isObject(i[t])))return!1}else i[t]={};return i=i[t],!0});if(s){var c=r.last(a);i[c]=r.has(i,c)?n(i[c],e,e):t(e)}}),o},d._checkSupportedProjection=function(e){if(!r.isObject(e)||r.isArray(e))throw h("fields option must be an object");r.each(e,function(e,t){if(r.contains(t.split("."),"$"))throw h("Minimongo doesn't support $ operator in projections yet.");if(-1===r.indexOf([1,0,!0,!1],e))throw h("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){d._modify=function(t,a,s){if(s=s||{},!v(a))throw h("Modifier must be an object");var c=m(a),u;if(c)u=n.clone(t),r.each(a,function(t,n){var a=i[n];if(s.isInsert&&"$setOnInsert"===n&&(a=i.$set),!a)throw h("Invalid modifier specified "+n);r.each(t,function(t,i){if(i.length&&"."===i[i.length-1])throw h("Invalid mod field name, may not end in a period");if("_id"===i)throw h("Mod on _id not allowed");var c=i.split("."),d=r.has(o,n),f="$rename"===n,l=e(u,c,{noCreate:o[n],forbidArray:"$rename"===n,arrayIndices:s.arrayIndices}),p=c.pop();a(l,p,t,i,u)})});else{if(a._id&&!n.equals(t._id,a._id))throw h("Cannot change the _id of a document");for(var d in a)if(/\./.test(d))throw h("When replacing document, field name may not contain '.'");u=a}r.each(r.keys(t),function(e){("_id"!==e||s.isInsert)&&delete t[e]}),r.each(u,function(e,r){t[r]=e})};var e=function(e,r,n){n=n||{};for(var o=!1,i=0;i<r.length;i++){var a=i===r.length-1,s=r[i],c=_(e);if(!c){if(n.noCreate)return void 0;var u=h("cannot use the part '"+s+"' to traverse "+e);throw u.setPropertyError=!0,u}if(e instanceof Array){if(n.forbidArray)return null;if("$"===s){if(o)throw h("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw h("The positional operator did not find the match needed from the query");s=n.arrayIndices[0],o=!0}else{if(!y(s)){if(n.noCreate)return void 0;throw h("can't append to array using string field name ["+s+"]")}s=parseInt(s)}if(a&&(r[i]=s),n.noCreate&&s>=e.length)return void 0;for(;e.length<s;)e.push(null);if(!a)if(e.length===s)e.push({});else if("object"!=typeof e[s])throw h("can't modify field '"+r[i+1]+"' of list value "+t.stringify(e[s]))}else{if(s.length&&"$"===s.substr(0,1))throw h("can't set field named "+s);if(!(s in e)){if(n.noCreate)return void 0;a||(e[s]={})}}if(a)return e;e=e[s]}},o={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},i={$inc:function(e,r,t){if("number"!=typeof t)throw h("Modifier $inc allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw h("Cannot apply $inc modifier to non-number");e[r]+=t}else e[r]=t},$set:function(e,t,o){if(!r.isObject(e)){var i=h("Cannot set property on non-object field");throw i.setPropertyError=!0,i}if(null===e){var i=h("Cannot set property on null");throw i.setPropertyError=!0,i}e[t]=n.clone(o)},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw h("Cannot apply $push modifier to non-array");if(!t||!t.$each)return void e[r].push(n.clone(t));var o=t.$each;if(!(o instanceof Array))throw h("$each must be an array");var i=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw h("$slice must be a numeric value");if(t.$slice>0)throw h("$slice in $push must be zero or negative");i=t.$slice}var a=void 0;if(t.$sort){if(void 0===i)throw h("$sort requires $slice to be present");a=new f.Sorter(t.$sort).getComparator();for(var s=0;s<o.length;s++)if(3!==d._f._type(o[s]))throw h("$push like modifiers using $sort require all elements to be objects")}for(var c=0;c<o.length;c++)e[r].push(n.clone(o[c]));a&&e[r].sort(a),void 0!==i&&(e[r]=0===i?[]:e[r].slice(i))},$pushAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw h("Modifier $pushAll/pullAll allowed for arrays only");var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw h("Cannot apply $pushAll modifier to non-array");for(var o=0;o<t.length;o++)n.push(t[o])}},$addToSet:function(e,t,o){var i=!1;if("object"==typeof o)for(var a in o){"$each"===a&&(i=!0);break}var s=i?o.$each:[o],c=e[t];if(void 0===c)e[t]=s;else{if(!(c instanceof Array))throw h("Cannot apply $addToSet modifier to non-array");r.each(s,function(e){for(var r=0;r<c.length;r++)if(d._f._equal(e,c[r]))return;
c.push(n.clone(e))})}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pop modifier to non-array");"number"==typeof t&&0>t?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pull/pullAll modifier to non-array");var o=[];if("object"!=typeof t||t instanceof Array)for(var i=0;i<n.length;i++)d._f._equal(n[i],t)||o.push(n[i]);else for(var a=new f.Matcher(t),i=0;i<n.length;i++)a.documentMatches(n[i]).result||o.push(n[i]);e[r]=o}}},$pullAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw h("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<t.length;s++)if(d._f._equal(n[i],t[s])){a=!0;break}a||o.push(n[i])}e[r]=o}}},$rename:function(r,t,n,o,i){if(o===n)throw h("$rename source must differ from target");if(null===r)throw h("$rename source field invalid");if("string"!=typeof n)throw h("$rename target must be a string");if(void 0!==r){var a=r[t];delete r[t];var s=n.split("."),c=e(i,s,{forbidArray:!0});if(null===c)throw h("$rename target field invalid");var u=s.pop();c[u]=a}},$bit:function(e,r,t){throw h("$bit is not supported")}}}.call(this),function(){d._diffQueryChanges=function(e,r,t,n){e?d._diffQueryOrderedChanges(r,t,n):d._diffQueryUnorderedChanges(r,t,n)},d._diffQueryUnorderedChanges=function(e,r,t){if(t.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");r.forEach(function(r,o){var i=e.get(o);if(i)t.changed&&!n.equals(i,r)&&t.changed(o,d._makeChangedFields(r,i));else if(t.added){var a=n.clone(r);delete a._id,t.added(r._id,a)}}),t.removed&&e.forEach(function(e,n){r.has(n)||t.removed(n)})},d._diffQueryOrderedChanges=function(t,o,i){var a={};r.each(o,function(r){a[r._id]&&e._debug("Duplicate _id in new_results"),a[r._id]=!0});var s={};r.each(t,function(r,t){r._id in s&&e._debug("Duplicate _id in old_results"),s[r._id]=t});for(var c=[],u=0,f=o.length,l=new Array(f),h=new Array(f),p=function(e){return s[o[e]._id]},v=0;f>v;v++)if(void 0!==s[o[v]._id]){for(var _=u;_>0&&!(p(l[_-1])<p(v));)_--;h[v]=0===_?-1:l[_-1],l[_]=v,_+1>u&&(u=_+1)}for(var m=0===u?-1:l[u-1];m>=0;)c.push(m),m=h[m];c.reverse(),c.push(o.length),r.each(t,function(e){a[e._id]||i.removed&&i.removed(e._id)});var y=0;r.each(c,function(e){for(var a=o[e]?o[e]._id:null,c,u,f,l=y;e>l;l++)u=o[l],r.has(s,u._id)?(c=t[s[u._id]],f=d._makeChangedFields(u,c),r.isEmpty(f)||i.changed&&i.changed(u._id,f),i.movedBefore&&i.movedBefore(u._id,a)):(f=n.clone(u),delete f._id,i.addedBefore&&i.addedBefore(u._id,f,a),i.added&&i.added(u._id,f));a&&(u=o[e],c=t[s[u._id]],f=d._makeChangedFields(u,c),r.isEmpty(f)||i.changed&&i.changed(u._id,f)),y=e+1})},d._diffObjects=function(e,t,n){r.each(e,function(e,o){r.has(t,o)?n.both&&n.both(o,e,t[o]):n.leftOnly&&n.leftOnly(o,e)}),n.rightOnly&&r.each(t,function(t,o){r.has(e,o)||n.rightOnly(o,t)})}}.call(this),function(){d._IdMap=function(){var e=this;o.call(e,d._idStringify,d._idParse)},e._inherits(d._IdMap,o)}.call(this),function(){d._CachingChangeObserver=function(e){var t=this;e=e||{};var o=e.callbacks&&d._observeChangesCallbacksAreOrdered(e.callbacks);if(r.has(e,"ordered")){if(t.ordered=e.ordered,e.callbacks&&e.ordered!==o)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");t.ordered=o}var a=e.callbacks||{};t.ordered?(t.docs=new i(d._idStringify),t.applyChange={addedBefore:function(e,r,o){var i=n.clone(r);i._id=e,a.addedBefore&&a.addedBefore.call(t,e,r,o),a.added&&a.added.call(t,e,r),t.docs.putBefore(e,i,o||null)},movedBefore:function(e,r){var n=t.docs.get(e);a.movedBefore&&a.movedBefore.call(t,e,r),t.docs.moveBefore(e,r||null)}}):(t.docs=new d._IdMap,t.applyChange={added:function(e,r){var o=n.clone(r);a.added&&a.added.call(t,e,r),o._id=e,t.docs.set(e,o)}}),t.applyChange.changed=function(e,r){var o=t.docs.get(e);if(!o)throw new Error("Unknown id for changed: "+e);a.changed&&a.changed.call(t,e,n.clone(r)),d._applyChanges(o,r)},t.applyChange.removed=function(e){a.removed&&a.removed.call(t,e),t.docs.remove(e)}},d._observeFromObserveChanges=function(e,t){var o=e.getTransform()||function(e){return e},i=!!t._suppress_initial,a;if(d._observeCallbacksAreOrdered(t)){var s=!t._no_indices;a={addedBefore:function(e,n,a){var c=this;if(!i&&(t.addedAt||t.added)){var u=o(r.extend(n,{_id:e}));if(t.addedAt){var d=s?a?c.docs.indexOf(a):c.docs.size():-1;t.addedAt(u,d,a)}else t.added(u)}},changed:function(e,r){var i=this;if(t.changedAt||t.changed){var a=n.clone(i.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=o(n.clone(a));if(d._applyChanges(a,r),a=o(a),t.changedAt){var u=s?i.docs.indexOf(e):-1;t.changedAt(a,c,u)}else t.changed(a,c)}},movedBefore:function(e,r){var i=this;if(t.movedTo){var a=s?i.docs.indexOf(e):-1,c=s?r?i.docs.indexOf(r):i.docs.size():-1;c>a&&--c,t.movedTo(o(n.clone(i.docs.get(e))),a,c,r||null)}},removed:function(e){var r=this;if(t.removedAt||t.removed){var n=o(r.docs.get(e));if(t.removedAt){var i=s?r.docs.indexOf(e):-1;t.removedAt(n,i)}else t.removed(n)}}}}else a={added:function(e,n){if(!i&&t.added){var a=r.extend(n,{_id:e});t.added(o(a))}},changed:function(e,r){var i=this;if(t.changed){var a=i.docs.get(e),s=n.clone(a);d._applyChanges(s,r),t.changed(o(s),o(n.clone(a)))}},removed:function(e){var r=this;t.removed&&t.removed(o(r.docs.get(e)))}};var c=new d._CachingChangeObserver({callbacks:a}),u=e.observeChanges(c.applyChange);return i=!1,u}}.call(this),function(){d._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},d._ObjectID=function(e){var r=this;if(e){if(e=e.toLowerCase(),!d._looksLikeObjectID(e))throw new Error("Invalid hexadecimal string for creating an ObjectID");r._str=e}else r._str=c.hexString(24)},d._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},d._ObjectID.prototype.equals=function(e){var r=this;return e instanceof d._ObjectID&&r.valueOf()===e.valueOf()},d._ObjectID.prototype.clone=function(){var e=this;return new d._ObjectID(e._str)},d._ObjectID.prototype.typeName=function(){return"oid"},d._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},d._ObjectID.prototype.valueOf=d._ObjectID.prototype.toJSONValue=d._ObjectID.prototype.toHexString=function(){return this._str},d._selectorIsId=function(e){return"string"==typeof e||"number"==typeof e||e instanceof d._ObjectID},d._selectorIsIdPerhapsAsObject=function(e){return d._selectorIsId(e)||e&&"object"==typeof e&&e._id&&d._selectorIsId(e._id)&&1===r.size(e)},d._idsMatchedBySelector=function(e){if(d._selectorIsId(e))return[e];if(!e)return null;if(r.has(e,"_id"))return d._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&r.isArray(e._id.$in)&&!r.isEmpty(e._id.$in)&&r.all(e._id.$in,d._selectorIsId)?e._id.$in:null;if(e.$and&&r.isArray(e.$and))for(var t=0;t<e.$and.length;++t){var n=d._idsMatchedBySelector(e.$and[t]);if(n)return n}return null},n.addType("oid",function(e){return new d._ObjectID(e)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:d,Minimongo:f,MinimongoTest:l}}();

!function(){var e=Package.meteor.Meteor,n=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.minimongo.LocalCollection,t=Package.minimongo.Minimongo,i=Package.underscore._,a=Package.random.Random,c,u,f,d;(function(){var e=function(){c._suppressWarnings?c._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),c._loggedWarnings++)},o=r._idStringify,t=r._idParse;c={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,o){var r=null,t=null,a=[],c=n.autorun(function(){var c=e();n.nonreactive(function(){var e;if(t&&(a=i.map(r.fetch(),function(e){return{_id:e._id,item:e}}),t.stop(),t=null),c)if(c instanceof Array)e=f(a,c,o);else{if(!l(c))throw s();var n=d(a,c,o);e=n[0],t=n[1]}else e=u(a,o);v(a,e,o),r=c,a=e})});return{stop:function(){c.stop(),t&&t.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(l(e))return e.fetch();throw s()}return[]}};var s=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},l=function(e){return e&&i.isObject(e)&&i.isFunction(e.observe)&&i.isFunction(e.fetch)},v=function(e,n,r){var a=Package.minimongo.LocalCollection._diffQueryOrderedChanges,c=[],u=[],f={},d={},s={},l=e.length;i.each(n,function(e,n){u.push({_id:e._id}),d[o(e._id)]=n}),i.each(e,function(e,n){c.push({_id:e._id}),f[o(e._id)]=n,s[o(e._id)]=n}),a(c,u,{addedBefore:function(e,t,a){var c=a?s[o(a)]:l;i.each(s,function(e,n){e>=c&&s[n]++}),l++,s[o(e)]=c,r.addedAt(e,n[d[o(e)]].item,c,a)},movedBefore:function(e,t){var a=s[o(e)],c=t?s[o(t)]:l-1;i.each(s,function(e,n){e>=a&&c>=e?s[n]--:a>=e&&e>=c&&s[n]++}),s[o(e)]=c,r.movedTo(e,n[d[o(e)]].item,a,c,t)},removed:function(n){var t=s[o(n)];i.each(s,function(e,n){e>=t&&s[n]--}),delete s[o(n)],l--,r.removedAt(n,e[f[o(n)]].item,t)}}),i.each(d,function(o,a){var c=t(a);if(i.has(f,a)){var u=n[o].item,d=e[f[a]].item;("object"==typeof u||u!==d)&&r.changedAt(c,u,d,o)}})};u=function(e,n){return[]},f=function(n,r,t){var c={},u=i.map(r,function(n,t){var i;if("string"==typeof n)i="-"+n;else if("number"==typeof n||"boolean"==typeof n||void 0===n)i=n;else{if("object"!=typeof n)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof n);i=n&&n._id||t}var u=o(i);return c[u]?("object"==typeof n&&"_id"in n&&e("duplicate id "+i+" in",r),i=a.id()):c[u]=!0,{_id:i,item:n}});return u},d=function(e,n,o){var r=!0,t=[],i=n.observe({addedAt:function(e,n,i){if(r){if(null!==i)throw new Error("Expected initial data from observe in order");t.push({_id:e._id,item:e})}else o.addedAt(e._id,e,n,i)},changedAt:function(e,n,r){o.changedAt(e._id,e,n,r)},removedAt:function(e,n){o.removedAt(e._id,e,n)},movedTo:function(e,n,r,t){o.movedTo(e._id,e,n,r,t)}});return r=!1,[t,i]}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,r;(function(){r=function(e,n){return this instanceof r?(this.curValue=e,this.equalsFunc=n,void(this.dep=new t.Dependency)):new r(e,n)},r._isEqual=function(e,t){var n=e,r=t;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},r.prototype.get=function(){return t.active&&this.dep.depend(),this.curValue},r.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||r._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},r.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},r.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-var"]={ReactiveVar:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,n=Package.jquery.jQuery,r=Package.tracker.Tracker,i=Package.tracker.Deps,a=Package.underscore._,o=Package.htmljs.HTML,s=Package["observe-sequence"].ObserveSequence,u=Package["reactive-var"].ReactiveVar,l,c,d,f,p,h;(function(){l={},l._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),l._warn=function(e){e="Warning: "+e,"undefined"!=typeof Log&&Log&&Log.warn?Log.warn(e):"undefined"!=typeof console&&console.log&&console.log(e)}}).call(this),function(){var e={};l._DOMBackend=e;var t="undefined"!=typeof n?n:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,i){t(e).on(n,r,i)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,i,a){var o=t(n),s=function(e){e=t.event.fix(e),e.currentTarget=e.target;var r=t(e.currentTarget);r.is(o.find(i))&&a.call(n,e)};a._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var r=function(){},i=function(e){this.next=this,this.prev=this,this.func=e};i.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},i.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},i.prototype.go=function(){var e=this.func;e&&e()},i.prototype.stop=i.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(n,a){var o=new i(a),s=e.Teardown._CB_PROP;return n[s]||(n[s]=new i,t(n).on(e.Teardown._JQUERY_EVENT_NAME,r)),o.linkBefore(n[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),i=0;i<r.length;i++)n.push(r[i]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=t[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),t[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}}.call(this),function(){var e=Object.freeze?Object.freeze([]):[];l._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var i=0;i<r.length;i++)this._memberIn(r[i]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=l._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),t._insert=function(e,n,r,i){var a=e;a instanceof t?a.attach(n,r,i):i?t._moveNodeWithHooks(a,n,r):t._insertNodeWithHooks(a,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,i){if((r||i)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var a=this.members;if(a.length){this.emptyRangePlaceholder=null;for(var o=0;o<a.length;o++)t._insert(a[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!i)for(var o=0;o<this.attachedCallbacks.length;o++){var u=this.attachedCallbacks[o];u.attached&&u.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var i=this.lastNode().nextSibling,a=this.parentElement;this.detach(!0),this.members=t,this.attach(a,i,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var i=0;i<r.length;i++)t._remove(r[i]);else{var a=this.emptyRangePlaceholder;this.parentElement.removeChild(a),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var i=0;i<this.attachedCallbacks.length;i++){var o=this.attachedCallbacks[i];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var i=this.members;if(!(n>=0&&n<=i.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===i.length)this.setMembers([e]);else{var a;if(n===i.length)a=this.lastNode().nextSibling;else{var o=i[n];a=o instanceof t?o.firstNode():o}i.splice(n,0,e),t._insert(e,this.parentElement,a,r)}else i.splice(n,0,e)},t.prototype.removeMember=function(n,r){var i=this.members;if(!(n>=0&&n<i.length))throw new Error("Bad index in range.removeMember: "+n);if(r)i.splice(n,1);else{var a=i[n];this._memberOut(a),1===i.length?this.setMembers(e):(i.splice(n,1),this.attached&&t._remove(a))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&l._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(l._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!l._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=l._DOMBackend.findBySelector(e,n),i=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(i);else{for(var a=[],o=0;o<r.length;o++){var s=r[o];i(s)&&a.push(s)}r=a}return r},l._elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)}}.call(this),function(){var e=l._EventSupport={},t=l._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},i=1,o=function(e,o,s,u,l){this.elem=e,this.type=o,this.selector=s,this.handler=u,this.recipient=l,this.id=i++,this.mode=r.TBD,this.delegatedHandler=function(e){return function(t){return e.selector||t.currentTarget===t.target?e.handler.apply(e.recipient,arguments):void 0}}(this);var c=e.addEventListener&&!a.has(n,t.Events.parseEventType(o));c?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=o,o.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},o.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,i,a){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,function(e){s.push(e)});for(var u=[],l=0,c=s.length;c>l;l++){var d=s[l],f=e.$blaze_events;f||(f=e.$blaze_events={});var p=f[d];p||(p=f[d]={},p.handlers=[]);var h=p.handlers,m=new o(e,d,n,r,i);if(u.push(m),m.bind(),h.push(m),a)for(var w=a(i);w;w=a(w))for(var v=0,_=h.length;_>v;v++){var g=h[v];g.recipient===w&&(g.unbind(),g.bind(),h.splice(v,1),h.push(g),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<u.length;n++){var r=u[n],i=t[r.type];if(i)for(var a=i.handlers,o=a.length-1;o>=0;o--)a[o]===r&&(r.unbind(),a.splice(o,1))}u.length=0}}}}}.call(this),function(){var n=!1;l._allowJavascriptUrls=function(){n=!0},l._javascriptUrlsAllowed=function(){return n},f=function(e,t){this.name=e,this.value=t},l._AttributeHandler=f,f.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},f.extend=function(e){var t=this,n=function r(){f.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&a.extend(n.prototype,e),n};var r=f.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},i=n?this.parseValue(n):{},o=this.getCurrentValue(e),s=o?this.parseValue(o):{};a.each(a.keys(r),function(e){e in i||delete s[e]}),a.each(a.keys(i),function(e){s[e]=i[e]}),this.setValue(e,a.values(s).join(" "))}}),i=r.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return a.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),o=i.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),s=r.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var n={},r=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,i=r.exec(e);i;)n[" "+i[1]]=i[0].trim?i[0].trim():t.trim(i[0]),i=r.exec(e);return n}}),u=f.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),c=f.extend({update:function(e,t,n){n!==e.value&&(e.value=n)}}),d=f.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),m=function(e){return"ownerSVGElement"in e},w=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return a.contains(r,t)};if(e.isClient)var v=document.createElement("A");var _=function(t){if(e.isClient)return v.href=t,(v.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},g=f.prototype.update,E=f.extend({update:function(e,t,n){var r=this,i=arguments;if(l._javascriptUrlsAllowed())g.apply(r,i);else{var a="javascript:"===_(n);a?(l._warn("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),g.apply(r,[e,t,null])):g.apply(r,i)}}});p=function(e,t,n){return"class"===t?m(e)?new o(t,n):new i(t,n):"style"===t?new s(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new u(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new d(t.substring(6),n):w(e.tagName,t)?new E(t,n):new f(t,n):new c(t,n)},h=function(e){this.elem=e,this.handlers={}},h.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!a.has(e,r)){var i=n[r],o=i.value;i.value=null,i.update(t,o,null),delete n[r]}for(var r in e){var i=null,o,s=e[r];a.has(n,r)?(i=n[r],o=i.value):null!==s&&(i=p(t,r,s),n[r]=i,o=null),o!==s&&(i.value=s,i.update(t,o,s),null===s&&delete n[r])}}}.call(this),function(){l._DOMMaterializer=o.Visitor.extend(),l._DOMMaterializer.def({visitNull:function(e,t){return t},visitPrimitive:function(e,t){var n=String(e);return t.push(document.createTextNode(n)),t},visitCharRef:function(e,t){return this.visitPrimitive(e.str,t)},visitArray:function(e,t){for(var n=0;n<e.length;n++)this.visit(e[n],t);return t},visitComment:function(e,t){return t.push(document.createComment(e.sanitizedValue)),t},visitRaw:function(e,t){for(var n=l._DOMBackend.parseHTML(e.value),r=0;r<n.length;r++)t.push(n[r]);return t},visitTag:function(t,n){var i=this,s=t.tagName,u;u=(o.isKnownSVGElement(s)||e(t))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s);var c=t.attrs,d=t.children;if("textarea"===s&&t.children.length&&!(c&&"value"in c)){if("function"==typeof c||o.isArray(c))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");c=a.extend({},c||null),c.value=l._expand(d,i.parentView),d=[]}if(c){var f=new h(u),p=function(){var e=i.parentView,t=l._expandAttributes(c,e),n=o.flattenAttributes(t),r={};for(var a in n)r[a]=l._toText(n[a],e,o.TEXTMODE.STRING);f.update(r)},m;m=i.parentView?i.parentView.autorun(p):r.nonreactive(function(){return r.autorun(function(){r._withCurrentView(i.parentView,p)})}),l._DOMBackend.Teardown.onElementTeardown(u,function g(){m.stop()})}for(var w=i.visit(d,[]),v=0;v<w.length;v++){var _=w[v];_ instanceof l._DOMRange?_.attach(u):u.appendChild(_)}return n.push(u),n},visitObject:function(e,t){return e instanceof l.Template&&(e=e.constructView()),e instanceof l.View?(t.push(l._materializeView(e,this.parentView)),t):o.Visitor.prototype.visitObject.call(this,e)}});var e=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;l._throwNextException=!1,l._reportException=function(n,r){if(l._throwNextException)throw l._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message)},l._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(n){l._reportException(n,"Exception in "+t+":")}}}}.call(this),function(){l.View=function(e,t){return this instanceof l.View?("function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,void(this.renderCount=0)):new l.View(e,t)},l.View.prototype._render=function(){return null},l.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},l.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},l.View.prototype.onViewReady=function(e){var t=this,n=function(){r.afterFlush(function(){t.isDestroyed||l._withCurrentView(t,function(){e.call(t)})})};t._onViewRendered(function i(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))})},l.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},l.View.prototype.autorun=function(e,t){var n=this;if(!n.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(r.active)throw new Error("Can't call View#autorun from a Tracker Computation; try calling it from the created or rendered callback");var i=r.autorun(function a(r){return l._withCurrentView(t||n,function(){return e.call(n,r)})});return n.onViewDestroyed(function(){i.stop()}),i},l.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},l.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},l._fireCallbacks=function(e,t){l._withCurrentView(e,function(){r.nonreactive(function n(){for(var n=e._callbacks[t],r=0,i=n&&n.length;i>r;r++)n[r].call(e)})})},l._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),l._fireCallbacks(e,"created")},l._materializeView=function(e,t){l._createView(e,t);var n,i;return r.nonreactive(function(){e.autorun(function a(t){e.renderCount++,e._isInRender=!0;var a=e._render();e._isInRender=!1,r.nonreactive(function o(){var r=new l._DOMMaterializer({parentView:e}),o=r.visit(a,[]);(t.firstRun||!l._isContentEqual(i,a))&&(t.firstRun?(n=new l._DOMRange(o),e._domrange=n,n.view=e,e.isRendered=!0):n.setMembers(o),l._fireCallbacks(e,"rendered"))}),i=a,r.onInvalidate(function(){n.destroyMembers()})});var t=null;n.onAttached(function o(n,r){e._isAttached=!0,t=l._DOMBackend.Teardown.onElementTeardown(r,function i(){l._destroyView(e,!0)})}),e.onViewDestroyed(function(){t&&t.stop(),t=null})}),n},l._expandView=function(e,t){l._createView(e,t,!0),e._isInRender=!0;var n=l._withCurrentView(e,function(){return e._render()});e._isInRender=!1;var i=l._expand(n,e);return r.active?r.onInvalidate(function(){l._destroyView(e)}):l._destroyView(e),i},l._HTMLJSExpander=o.TransformingVisitor.extend(),l._HTMLJSExpander.def({visitObject:function(e){return e instanceof l.Template&&(e=e.constructView()),e instanceof l.View?l._expandView(e,this.parentView):o.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=l._withCurrentView(this.parentView,e)),o.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=l._withCurrentView(this.parentView,t)),o.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var e=function(){var e=l.currentView;return e&&e._isInRender?e:null};l._expand=function(t,n){return n=n||e(),new l._HTMLJSExpander({parentView:n}).visit(t)},l._expandAttributes=function(t,n){return n=n||e(),new l._HTMLJSExpander({parentView:n}).visitAttributes(t)},l._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,l._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},l._destroyNode=function(e){1===e.nodeType&&l._DOMBackend.Teardown.tearDownElement(e)},l._isContentEqual=function(e,t){return e instanceof o.Raw?t instanceof o.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},l.currentView=null,l._withCurrentView=function(e,t){var n=l.currentView;try{return l.currentView=e,t()}finally{l.currentView=n}};var t=function(e){if(null===e)throw new Error("Can't render null");if("undefined"==typeof e)throw new Error("Can't render undefined");if(!(e instanceof l.View||e instanceof l.Template||"function"==typeof e))try{(new o.Visitor).visit(e)}catch(t){throw new Error("Expected Template or View")}},n=function(e){if(t(e),e instanceof l.Template)return e.constructView();if(e instanceof l.View)return e;var n=e;return"function"!=typeof n&&(n=function(){return e}),l.View("render",n)},i=function(e){return t(e),"function"!=typeof e?function(){return e}:e};l.render=function(t,r,i,a){if(r||l._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),i instanceof l.View&&(a=i,i=null),r&&"number"!=typeof r.nodeType)throw new Error("'parentElement' must be a DOM node");if(i&&"number"!=typeof i.nodeType)throw new Error("'nextNode' must be a DOM node");a=a||e();var o=n(t);return l._materializeView(o,a),r&&o._domrange.attach(r,i),o},l.insert=function(e,t,n){if(l._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof l._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},l.renderWithData=function(e,t,n,r,a){return l.render(l._TemplateWith(t,i(e)),n,r,a)},l.remove=function(e){if(!(e&&e._domrange instanceof l._DOMRange))throw new Error("Expected template rendered with Blaze.render");if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}},l.toHTML=function(t,r){return r=r||e(),o.toHTML(l._expandView(n(t),r))},l.toHTMLWithData=function(t,n,r){return r=r||e(),o.toHTML(l._expandView(l._TemplateWith(n,i(t)),r))},l._toText=function(t,n,r){if("function"==typeof t)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==n||n instanceof l.View||(r=n,n=null),n=n||e(),!r)throw new Error("textMode required");if(r!==o.TEXTMODE.STRING&&r!==o.TEXTMODE.RCDATA&&r!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return o.toText(l._expand(t,n),r)},l.getData=function(e){var t;if(e)if(e instanceof l.View){var n=e;t="with"===n.name?n:l.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=l.getView(e,"with")}else t=l.getView("with");return t?t.dataVar.get():null},l.getElementData=function(e){if(l._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return l.getData(e)},l.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof l.View)return l._getParentView(e,n);if("number"==typeof e.nodeType)return l._getElementView(e,n);throw new Error("Expected DOM element or View")}return l._getCurrentView(n)},l._getCurrentView=function(e){var t=l.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},l._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},l._getElementView=function(e,t){for(var n=l._DOMRange.forElement(e),r=null;n&&!r;)r=n.view||null,r||(n=n.parentRange?n.parentRange:l._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},l._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function i(o,s){a.each(t,function(t,i){var u=i.split(/,\s+/);a.each(u,function(i){var a=i.split(/\s+/);if(0!==a.length){var u=a.shift(),c=a.join(" ");r.push(l._EventSupport.listen(s,u,c,function(r){if(!o.containsElement(r.currentTarget))return null;var i=n||this,a=arguments;return l._withCurrentView(e,function(){return t.apply(i,a)})},o,function(e){return e.parentRange}))}})})}),e.onViewDestroyed(function(){a.each(r,function(e){e.stop()}),r.length=0})}}.call(this),function(){l._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},l.With=function(e,t){var n=l.View("with",t);return n.dataVar=new u,n.onViewCreated(function(){"function"==typeof e?n.autorun(function(){n.dataVar.set(e())},n.parentView):n.dataVar.set(e)}),n},l.If=function(e,t,n,r){var i=new u,a=l.View(r?"unless":"if",function(){return i.get()?t():n?n():null});return a.__conditionVar=i,a.onViewCreated(function(){this.autorun(function(){var t=l._calculateCondition(e());i.set(r?!t:t)},this.parentView)}),a},l.Unless=function(e,t,n){return l.If(e,t,n,!0)},l.Each=function(e,t,n){var i=l.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new r.Dependency,this.expandedValueDep.depend()),e});return i.initialSubviews=[],i.numItems=0,i.inElseMode=!1,i.stopHandle=null,i.contentFunc=t,i.elseFunc=n,i.argVar=new u,i.onViewCreated(function(){i.autorun(function(){i.argVar.set(e())},i.parentView),i.stopHandle=s.observe(function(){return i.argVar.get()},{addedAt:function(e,t,n){r.nonreactive(function(){var e=l.With(t,i.contentFunc);if(i.numItems++,i.expandedValueDep)i.expandedValueDep.changed();else if(i._domrange){i.inElseMode&&(i._domrange.removeMember(0),i.inElseMode=!1);var r=l._materializeView(e,i);i._domrange.addMember(r,n)}else i.initialSubviews.splice(n,0,e)})},removedAt:function(e,t,n){r.nonreactive(function(){i.numItems--,i.expandedValueDep?i.expandedValueDep.changed():i._domrange?(i._domrange.removeMember(n),i.elseFunc&&0===i.numItems&&(i.inElseMode=!0,i._domrange.addMember(l._materializeView(l.View("each_else",i.elseFunc),i),0))):i.initialSubviews.splice(n,1)})},changedAt:function(e,t,n,a){r.nonreactive(function(){var e;i.expandedValueDep?i.expandedValueDep.changed():e=i._domrange?i._domrange.getMember(a).view:i.initialSubviews[a],e.dataVar.set(t)})},movedTo:function(e,t,n,a){r.nonreactive(function(){if(i.expandedValueDep)i.expandedValueDep.changed();else if(i._domrange)i._domrange.moveMember(n,a);else{var e=i.initialSubviews,t=e[n];e.splice(n,1),e.splice(a,0,t)}})}}),i.elseFunc&&0===i.numItems&&(i.inElseMode=!0,i.initialSubviews[0]=l.View("each_else",i.elseFunc))}),i.onViewDestroyed(function(){i.stopHandle&&i.stopHandle.stop()}),i},l._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var i=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?l._withCurrentView(e,r):r()};return n=l.With(i,t),n.__isTemplateWith=!0,n},l._InOuterTemplateScope=function(e,t){var n=l.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=r}),n},l.InOuterTemplateScope=l._InOuterTemplateScope}.call(this),function(){l._globalHelpers={},l.registerHelper=function(e,t){l._globalHelpers[e]=t};var e=function(e,t){return"function"!=typeof e?e:function(){return e.apply(t,arguments)}},t=function(e){return"function"==typeof e?function(){var t=l.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};l._OLDSTYLE_HELPER={};var n=l._getTemplateHelper=function(e,t){var n=!1;if(e.__helpers.has(t)){var r=e.__helpers.get(t);if(r!==l._OLDSTYLE_HELPER)return r;n=!0}return t in e?(n||(e.__helpers.set(t,l._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||l._warn("Assigning helper with `"+e.viewName+"."+t+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),e[t]):null},r=function(e){return l._wrapCatchingExceptions(e,"template helper")};l.View.prototype.lookup=function(e,i){var a=this.template,o=i&&i.template,s;if(/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return l._parentData(e.length-1,!0)}return a&&null!=(s=n(a,e))?r(t(s)):o&&e in l.Template&&l.Template[e]instanceof l.Template?l.Template[e]:null!=l._globalHelpers[e]?r(t(l._globalHelpers[e])):function(){var t=arguments.length>0,n=l.getData();if(o&&(!n||!n[e]))throw new Error("No such template: "+e);if(t&&(!n||!n[e]))throw new Error("No such function: "+e);if(!n)return null;var r=n[e];if("function"!=typeof r){if(t)throw new Error("Can't call non-function: "+r);return r}return r.apply(n,arguments)};return null},l._parentData=function(e,t){for(var n=l.getView("with"),r=0;e>r&&n;r++)n=l.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},l.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){l.Template=function(e,n){if(!(this instanceof l.Template))return new l.Template(e,n);if("function"==typeof e&&(n=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=n,this.__helpers=new t,this.__eventMaps=[]};var e=l.Template,t=function(){};t.prototype.get=function(e){return this[" "+e]},t.prototype.set=function(e,t){this[" "+e]=t},t.prototype.has=function(e){return" "+e in this},l.isTemplate=function(e){return e instanceof l.Template},e.prototype.constructView=function(t,n){var r=this,i=l.View(r.viewName,r.renderFunction);return i.template=r,i.templateContentBlock=t?new e("(contentBlock)",t):null,i.templateElseBlock=n?new e("(elseBlock)",n):null,(r.__eventMaps||"object"==typeof r.events)&&i._onViewRendered(function(){1===i.renderCount&&(r.__eventMaps.length||"object"!=typeof r.events||e.prototype.events.call(r,r.events),a.each(r.__eventMaps,function(e){l._addEventMap(i,e,i)}))}),i._templateInstance=new l.TemplateInstance(i),i.templateInstance=function(){var e=i._templateInstance;return e.data=l.getData(i),i._domrange&&!i.isDestroyed?(e.firstNode=i._domrange.firstNode(),e.lastNode=i._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e},r.created&&i.onViewCreated(function(){r.created.call(i.templateInstance())}),r.rendered&&i.onViewReady(function(){r.rendered.call(i.templateInstance())}),r.destroyed&&i.onViewDestroyed(function(){r.destroyed.call(i.templateInstance())}),i},l.TemplateInstance=function(e){if(!(this instanceof l.TemplateInstance))return new l.TemplateInstance(e);if(!(e instanceof l.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null},l.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},l.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},l.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},l.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},e.prototype.helpers=function(e){for(var t in e)this.__helpers.set(t,e[t])},e.prototype.events=function(e){var t=this,n={};for(var r in e)n[r]=function(e,t){return function(e){var n=this,r=l.getData(e.currentTarget);
null==r&&(r={});var i=Array.prototype.slice.call(arguments),a=n.templateInstance();return i.splice(1,0,a),t.apply(r,i)}}(r,e[r]);t.__eventMaps.push(n)},e.instance=function(){for(var e=l.currentView;e&&!e.template;)e=e.parentView;return e?e.templateInstance():null},e.currentData=l.getData,e.parentData=l._parentData,e.registerHelper=l.registerHelper}.call(this),function(){c=l,l.ReactiveVar=u,c._templateInstance=l.Template.instance,d={},d.registerHelper=l.registerHelper,d._escape=l._escape,d.SafeString=function(e){this.string=e},d.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.blaze={Blaze:l,UI:c,Handlebars:d}}();

!function(){var a=Package.meteor.Meteor,e=Package.blaze.Blaze,c=Package.blaze.UI,g=Package.blaze.Handlebars,k=Package.htmljs.HTML,e,c,g;"undefined"==typeof Package&&(Package={}),Package.ui={Blaze:e,UI:c,Handlebars:g}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,t=Package.blaze.Blaze,o=Package.blaze.UI,a=Package.blaze.Handlebars,d=Package.htmljs.HTML,c;(function(){c=t.Template;var e="__proto__ name".split(" ");c.__checkName=function(t){if(t in c||n.contains(e,t)){if(c[t]instanceof c&&"body"!==t)throw new Error("There are multiple templates named '"+t+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+t)}},c.__define__=function(e,n){c.__checkName(e),c[e]=new c("Template."+e,n),c[e]._NOWARN_OLDSTYLE_HELPERS=!0},c.body=new c("body",function(){for(var e=c.body.contentViews,n=0;n<e.length;n++)e[n].template=c.body;return e}),c.body.contentViews=[],c.body.view=null,c.body.addContent=function(e){var n="body_content_"+c.body.contentViews.length;c.body.contentViews.push(t.View(n,e))},c.body.renderToDocument=function(){if(!c.body.view){var e=t.render(c.body,document.body);c.body.view=e}},o.body=c.body,c.__body__=c.body,c.__body__.__contentParts=c.body.contentViews,c.__body__.__instantiate=c.body.renderToDocument}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=Package.ejson.EJSON,r;(function(){if(Package["cmather:iron-core"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){r={},r.utils={},r.utils.assert=function(e,t){if(!e)throw new Error(t)},r.utils.warn=function(e,t){e||console&&console.warn&&console.warn(t)},r.utils.defaultValue=function(e,t,n){return"undefined"==typeof e[t]?(e[t]=n,n):e[t]},r.utils.inherits=function(e,o,i){r.utils.assert("undefined"!=typeof e,"Child is undefined in inherits function"),r.utils.assert("undefined"!=typeof o,"Parent is undefined in inherits function");for(var a in o)t.has(o,a)&&(e[a]=n.clone(o[a]));var s=function(){this.constructor=e};return s.prototype=o.prototype,e.prototype=new s,e.__super__=o.prototype,t.isObject(i)&&t.extend(e.prototype,i),e},r.utils.extend=function(e,n){n=n||{};var o=function(){var e;e=t.has(n,"constructor")?n.constructor:o.__super__.constructor,e.apply(this,arguments)};return r.utils.inherits(o,e,n)},r.utils.global=function(){return e.isClient?window:global}(),r.utils.namespace=function(e,t){var n=r.utils.global,o,i,a,s;r.utils.assert("string"==typeof e,"namespace must be a string"),o=e.split("."),a=o.pop(),s=n;for(var u=0;u<o.length;u++)i=o[u],s=s[i]=s[i]||{};return 2===arguments.length?(s[a]=t,t):s[a]},r.utils.resolve=function(e){var t=r.utils.global,n,o;if("string"==typeof e){n=e.split("."),o=t;for(var i=0;i<n.length;i++)if(o=o[n[i]],!o)return void 0}else o=e;return o},r.utils.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},r.utils.classCase=function(e){var n=/_|-|\.|\//;return e?t.map(e.split(n),function(e){return r.utils.capitalize(e)}).join(""):""},r.utils.camelCase=function(e){var t=r.utils.classCase(e);return t=t.charAt(0).toLowerCase()+t.slice(1,t.length)},r.utils.notifyDeprecated=function(e){var n,r,o,i,a="[:where] ':name' is deprecated. Please use ':instead' instead.";t.isObject(e)?(n=e.name,r=e.instead,o=e.message||a,i=e.where||"IronRouter"):(o=e,n="",r="",i=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+o.replace(":name",n).replace(":instead",r).replace(":where",i)+" "+(new Error).stack)},r.utils.withDeprecatedNotice=function(e,t,n){return function(){return Utils.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},Function.prototype.deprecate=function(e){var t=this;return r.utils.withDeprecatedNotice(e,t)},r.utils.debug=function(e){return r.utils.assert("string"==typeof e,"debug requires a package name"),function n(){if(console&&console.log&&r.debug===!0){var n=t.toArray(arguments).join(" ");console.log("%c<"+e+"> %c"+n,"color: #999;","color: #000;")}}},r.utils.get=function(e){for(var t=1;t<arguments.length;t++){if(!(e&&arguments[t]in e))return void 0;e=e[arguments[t]]}return e},r.utils.global.Iron=r}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:core"]={Iron:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.ui.Blaze,n=Package.ui.UI,a=Package.ui.Handlebars,r=Package.underscore._,i=Package.jquery.$,o=Package.jquery.jQuery,s=Package.tracker.Tracker,u=Package.tracker.Deps,c=Package["reactive-var"].ReactiveVar,l=Package.templating.Template,p=Package.random.Random,h=Package["iron:core"].Iron,d=Package.htmljs.HTML,m;(function(){if(Package["cmather:iron-dynamic-template"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){l.__checkName("__DynamicTemplateError__"),l.__DynamicTemplateError__=new l("Template.__DynamicTemplateError__",function(){var e=this;return d.DIV({style:"margin: 0 auto; color: red;"},"\n    ",t.View(function(){return Spacebars.mustache(e.lookup("msg"))}),"\n  ")})}.call(this),function(){var e=h.utils.debug("iron:dynamic-template"),a=h.utils.assert,o=h.utils.get,d=h.utils.camelCase,f=function(e){return Object.prototype.toString.call(e)};m=function(e){this._id=p.id(),this.options=e=e||{},this._template=e.template,this._defaultTemplate=e.defaultTemplate,this._content=e.content,this._data=e.data,this._templateDep=new s.Dependency,this._dataDep=new s.Dependency,this._lookupHostDep=new s.Dependency,this._lookupHostValue=null,this._hooks={},this._eventMap=null,this._eventHandles=null,this._eventThisArg=null,this.name=e.name||this.constructor.prototype.name||"DynamicTemplate",this.isCreated=!1,this.isDestroyed=!1},m.prototype.template=function(e){if(1===arguments.length&&e!==this._template)return this._template=e,void this._templateDep.changed();if(!(arguments.length>0))return this._templateDep.depend(),this._template?"function"==typeof this._template?this._template():this._template:this._defaultTemplate?"function"==typeof this._defaultTemplate?this._defaultTemplate():this._defaultTemplate:void 0},m.prototype.defaultTemplate=function(e){return 1!==arguments.length?this._defaultTemplate:void(this._defaultTemplate=e)},m.prototype.clear=function(){this._template=void 0,this._data=void 0,this._templateDep.changed()},m.prototype.data=function(e){return 1===arguments.length&&e!==this._data?(this._data=e,void this._dataDep.changed()):(this._dataDep.depend(),"function"==typeof this._data?this._data():this._data)},m.prototype.create=function(e){var n=this;if(this.isCreated)throw new Error("DynamicTemplate view is already created");this.isCreated=!0,this.isDestroyed=!1;var a=c(null),i=t.View("DynamicTemplate",function(){var e=this,r=a.get();return t.With(function(){var t=n.data();return"undefined"!=typeof t?t:m.getParentDataContext(e)},function(){return n.renderView(r)})});return i.onViewCreated(function(){this.autorun(function(){a.set(n.template())})}),r.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){i[e](function(){n._runHooks(e,this)})}),i._onViewRendered(function(){n.isInserted=!0,1===i.renderCount&&n._attachEvents()}),i._templateInstance=new t.TemplateInstance(i),i.templateInstance=function(){var e=i._templateInstance;return e.data=t.getData(i),i._domrange&&!i.isDestroyed?(e.firstNode=i._domrange.firstNode(),e.lastNode=i._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e},this.view=i,i.__dynamicTemplate__=this,i.name=this.name,i},m.prototype.renderView=function(e){var n=this,a=null;return"string"==typeof e?(a=l[e],a||(a=l[d(e)]),a||(a=t.With({msg:"Couldn't find a template named "+JSON.stringify(e)+" or "+JSON.stringify(d(e))+". Are you sure you defined it?"},function(){return l.__DynamicTemplateError__}))):"[object Object]"===f(e)?a=e:"undefined"!=typeof n._content&&(a=n._content),a},m.prototype.destroy=function(){this.isCreated&&(t.remove(this.view),this.view=null,this.isDestroyed=!0,this.isCreated=!1)},r.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){m.prototype[e]=function(t){var n=this._hooks[e]=this._hooks[e]||[];return n.push(t),this}}),m.prototype._runHooks=function(e,t){for(var n=this._hooks[e]||[],a,r=0;r<n.length;r++)a=n[r],a.call(t,this)},m.prototype.events=function(e,n){var a=this;this._detachEvents(),this._eventThisArg=n;var r=this._eventMap={};for(var i in e)r[i]=function(e,r){return function(e){var i=t.getData(e.currentTarget);null==i&&(i={});var o=a.view.templateInstance();return r.call(n||this,e,o,i)}}(i,e[i]);this._attachEvents()},m.prototype._attachEvents=function(){var e=this,n=e._eventThisArg,a=e._eventMap,i=e.view,o=e._eventHandles;if(i){var s=i._domrange;if(!s)throw new Error("no domrange");var u=function(n,s){r.each(a,function(a,u){var c=u.split(/,\s+/);r.each(c,function(r){var u=r.split(/\s+/);if(0!==u.length){var c=u.shift(),l=u.join(" ");o.push(t._EventSupport.listen(s,c,l,function(r){if(!n.containsElement(r.currentTarget))return null;var o=e._eventThisArg||this,s=arguments;return t._withCurrentView(i,function(){return a.apply(o,s)})},n,function(e){return e.parentRange}))}})})};s.attached?u(s,s.parentElement):s.onAttached(u)}},m.prototype._detachEvents=function(){r.each(this._eventHandles,function(e){e.stop()}),this._eventHandles=[]};var _=function(e,n,a,i){r.each(a,function(a,o){var s=o.split(/,\s+/);r.each(s,function(r){var o=r.split(/\s+/);if(0!==o.length){var s=o.shift(),u=o.join(" ");handles.push(t._EventSupport.listen(n,s,u,function(n){if(!e.containsElement(n.currentTarget))return null;var r=i||this,o=arguments;return t._withCurrentView(view,function(){return a.apply(r,o)})},e,function(e){return e.parentRange}))}})})};m.prototype.insert=function(e){if(e=e||{},!this.isInserted){this.isInserted=!0;var n=e.el||document.body,a=i(n);if(0===a.length)throw new Error("No element to insert layout into. Is your element defined? Try a Meteor.startup callback.");return this.view||this.create(e),t.render(this.view,a[0],e.nextNode,e.parentView),this}},m.prototype._getLookupHost=function(){return this._lookupHostValue},m.prototype._setLookupHost=function(e){var t=this;return t._lookupHostValue!==e&&(t._lookupHostValue=e,u.afterFlush(function(){t._lookupHostDep.changed()})),this},m.getParentDataContext=function(e){return m.getDataContext(e&&e.parentView)},m.getDataContext=function(e){for(;e;){if("with"===e.name&&!e.__isTemplateWith)return e.dataVar.get();e=e.parentView}return null},m.getInclusionArguments=function(e){var t=e&&e.parentView;return t&&t.__isTemplateWith?t.dataVar.get():null},m.args=function(e){return function(t){var n=m.getInclusionArguments(e);return n?t?n[t]:n:null}},m.extend=function(e){return h.utils.extend(this,e)},m.findFirstLookupHost=function(e){var n,r;for(a(e instanceof t.View,"view must be a Blaze.View");e;)if(e.__dynamicTemplate__){var n=e.__dynamicTemplate__._getLookupHost();if(n)return n}else e=e.parentView;return void 0},m.findLookupHostWithProperty=function(e,n){var r,i;for(a(e instanceof t.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__){var r=e.__dynamicTemplate__._getLookupHost();if(r&&o(r,n))return r}e=e.parentView}return void 0},m.findLookupHostWithHelper=function(e,n){var r,i;for(a(e instanceof t.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__){var r=e.__dynamicTemplate__._getLookupHost();if(r&&o(r,"constructor","_helpers",n))return r}e=e.parentView}return void 0},"undefined"!=typeof l&&n.registerHelper("DynamicTemplate",new l("DynamicTemplateHelper",function(){var e=m.args(this);return new m({data:function(){return e("data")},template:function(){return e("template")},content:this.templateContentBlock}).create()})),h.DynamicTemplate=m}.call(this),function(){var e=h.utils.assert,n=h.utils.get,a=t.View.prototype.lookup;t.View.prototype.lookup=function(e){var r=m.findLookupHostWithHelper(t.getView(),e);return r?function i(){var t=n(r,"constructor","_helpers",e),a=[].slice.call(arguments);return"function"==typeof t?t.apply(r,a):t}:a.apply(this,arguments)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:dynamic-template"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.templating.Template,t=Package.blaze.Blaze,r=Package.blaze.UI,o=Package.blaze.Handlebars,i=Package.underscore._,a=Package["iron:core"].Iron,s=Package.htmljs.HTML,c,u,h;(function(){var e=[];if(Package["cmather:iron-layout"]&&e.push("\n\n    The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  "),Package["cmather:blaze-layout"]&&e.push("The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\n> meteor remove cmather:blaze-layout\n"),e.length>0)throw new Error("Sorry! Looks like there's a few errors related to iron:layout\n\n"+e.join("\n\n"))}).call(this),function(){n.__checkName("__IronDefaultLayout__"),n.__IronDefaultLayout__=new n("Template.__IronDefaultLayout__",function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))})}.call(this),function(){var e=a.DynamicTemplate,o=a.utils.inherits;c=function(e){for(;e;){if("Iron.Layout"===e.name)return e.__dynamicTemplate__;e=e.parentView}return null},u=function(e){var n=this;u.__super__.constructor.apply(this,arguments),e=e||{},this.name="Iron.Layout",this._regions={},this._regionHooks={},this.defaultTemplate("__IronDefaultLayout__"),e.content&&this.render(e.content)},h=u.DEFAULT_REGION="main",o(u,a.DynamicTemplate),u.prototype.region=function(e,n){return this._ensureRegion(e,n)},u.prototype.destroyRegions=function(){i.each(this._regions,function(e){e.destroy()}),this._regions={}},u.prototype.render=function(e,n){n=n||{};var t=n.to||n.region||h,r=this.region(t);return this._trackRenderedRegion(t),r.template(e),r.data(n.data),r},u.prototype.has=function(e){return e=e||u.DEFAULT_REGION,!!this._regions[e]},u.prototype.regionKeys=function(){return i.keys(this._regions)},u.prototype.clear=function(e){return e=e||u.DEFAULT_REGION,this.has(e)&&this.region(e).template(null),this},u.prototype.clearAll=function(){return i.each(this._regions,function(e){e.template(null)}),this},u.prototype.beginRendering=function(e){var n=this;if(this._finishRenderingTransaction&&this._finishRenderingTransaction(),this._finishRenderingTransaction=i.once(function(){var t=n._endRendering({flush:!1});e&&e(t)}),Deps.afterFlush(this._finishRenderingTransaction),this._renderedRegions)throw new Error("You called beginRendering again before calling endRendering");this._renderedRegions={}},u.prototype._trackRenderedRegion=function(e){this._renderedRegions&&(this._renderedRegions[e]=!0)},u.prototype._endRendering=function(e){e=e||{},e.flush!==!1&&Deps.flush();var n=this._renderedRegions||{};return this._renderedRegions=null,i.keys(n)},i.each(["onRegionCreated","onRegionRendered","onRegionDestroyed"],function(e){u.prototype[e]=function(n){var t=this._regionHooks[e]=this._regionHooks[e]||[];return t.push(n),this}}),u.prototype._ensureRegion=function(e,n){return this._regions[e]=this._regions[e]||this._createDynamicTemplate(e,n)},u.prototype._createDynamicTemplate=function(e,n){var t=this,r=new a.DynamicTemplate(n),o=a.utils.capitalize;return r._region=e,i.each(["viewCreated","viewReady","viewDestroyed"],function(e){e=o(e),r["on"+e](function(n){var r=this,o={viewCreated:"regionCreated",viewReady:"regionRendered",viewDestroyed:"regionDestroyed"}[e];t._runRegionHooks("on"+o,r,n)})}),r},u.prototype._runRegionHooks=function(e,n,t){for(var r=this,o=this._regionHooks[e]||[],i,a=0;a<o.length;a++)i=o[a],i.call(n,t.region,t,this)},"undefined"!=typeof n&&(r.registerHelper("yield",new n("yield",function(){var n=c(this);if(!n)throw new Error("No Iron.Layout found so you can't use yield!");var t=e.getInclusionArguments(this),r,o;return i.isString(t)?r=t:i.isObject(t)&&(r=t.region),r=r||h,o=n.region(r),o.isCreated&&o.destroy(),o.create()})),r.registerHelper("contentFor",new n("contentFor",function(){var n=c(this);if(!n)throw new Error("No Iron.Layout found so you can't use contentFor!");var t=e.getInclusionArguments(this)||{},r=this.templateContentBlock,o=t.template,a=t.data,s;if(i.isString(t))s=t;else{if(!i.isObject(t))throw new Error("Which region is this contentFor block supposed to be for?");s=t.region}return n.region(s).template(o||r),n._trackRenderedRegion(s),a&&n.region(s).data(a),null})),r.registerHelper("hasRegion",function(e){var n=c(t.getView());if(!n)throw new Error("No Iron.Layout found so you can't use hasRegion!");if(!i.isString(e))throw new Error("You need to provide an region argument to hasRegion");return!!n.region(e).template()}),r.registerHelper("Layout",new n("layout",function(){var e=a.DynamicTemplate.args(this),n=new u({template:function(){return e("template")},data:function(){return e("data")},content:this.templateContentBlock});return n.create()}))),a.Layout=u}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:layout"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,n=Package["iron:core"].Iron,t,i;(function(){function e(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function r(t,o,a){o&&!Array.isArray(o)&&(a=o,o=null),o=o||[],a=a||{};var s=a.strict,u=a.end!==!1,c=a.sensitive?"":"i",p=0;if(t instanceof RegExp){var h=t.source.match(/\((?!\?)/g)||[];return o.push.apply(o,h.map(function(e,r){return{name:r,delimiter:null,optional:!1,repeat:!1}})),i(t,o)}if(Array.isArray(t))return t=t.map(function(e){return r(e,o,a).source}),i(new RegExp("(?:"+t.join("|")+")",c),o);t=t.replace(n,function(r,n,t,i,a,s,u,c){if(n)return n;if(c)return"\\"+c;var h="+"===u||"*"===u,l="?"===u||"*"===u;return o.push({name:i||p++,delimiter:t||"/",optional:l,repeat:h}),t=t?"\\"+t:"",a=e(a||s||"[^"+(t||"\\/")+"]+?"),h&&(a=a+"(?:"+t+a+")*"),l?"(?:"+t+"("+a+"))?":t+"("+a+")"});var l="/"===t[t.length-1];return s||(t=(l?t.slice(0,-2):t)+"(?:\\/(?=$))?"),u||(t+=s&&l?"":"(?=\\/|$)"),i(new RegExp("^"+t+(u?"$":""),c),o)}var n=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g"),i=function(e,r){return e.keys=r,e};t=r}).call(this),function(){i=function(e,n){n=n||{},this.options=n,this.keys=[],this.regexp=t(e,this.keys,n),this._originalPath=e,r.extend(this,i.parse(e))},i.normalize=function(e){if(e instanceof RegExp)return e;if("string"!=typeof e)return"/";var r=i.parse(e),n=r.pathname;return"/"!==n.charAt(0)&&(n="/"+n),n.length>1&&"/"===n.charAt(n.length-1)&&(n=n.slice(0,n.length-1)),n},i.isSameOrigin=function(e,r){var n=i.parse(e),t=i.parse(r),o=n.origin===t.origin;return o},i.fromQueryString=function(e){if(!e)return{};if("string"!=typeof e)throw new Error("expected string");"?"===e.charAt(0)&&(e=e.slice(1));var n=e.split("&"),t={},i;return r.each(n,function(e){var r=e.split("="),n=r[0],i=decodeURIComponent(r[1]);"[]"===n.slice(-2)?(n=n.slice(0,-2),t[n]=t[n]||[],t[n].push(i)):t[n]=i}),t},i.toQueryString=function(e){var n=[];return"string"==typeof e?"?"!==e.charAt(0)?"?"+e:e:(r.each(e,function(e,t){r.isArray(e)?r.each(e,function(e){n.push(encodeURIComponent(t+"[]")+"="+encodeURIComponent(e))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.length>0?"?"+n.join("&"):"")},i.parse=function(e){if("string"!=typeof e)return{};var r=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,n=e.match(r),t=n[1]?n[1].toLowerCase():void 0,o=n[3],a=!!o,s=n[4]?n[4].toLowerCase():void 0,u=s?s.split("@"):[],c,p;2==u.length?(p=u[0],c=u[1]):1==u.length?(c=u[0],p=void 0):(c=void 0,p=void 0);var h=c&&c.split(":")||[],l=h[0],f=h[1],g=t&&c?t+"//"+c:void 0,d=n[5],m=n[8],y=e,v=n[6],w,x=m&&m.indexOf("?")||-1;~x&&!v?(v=m.slice(x),m=m.substr(0,x),w=v.slice(1)):w=n[7];var R=d+(v||""),U=i.fromQueryString(w),S=[t||"",a?"//":"",s||""].join(""),C=[t||"",a?"//":"",s||"",d||"",v||"",m||""].join("");return{rootUrl:S||"",originalUrl:e||"",href:C||"",protocol:t||"",auth:p||"",host:c||"",hostname:l||"",port:f||"",origin:g||"",path:R||"",pathname:d||"",search:v||"",query:w||"",queryObject:U||"",hash:m||"",slashes:a}},i.prototype.test=function(e){return this.regexp.test(i.normalize(e))},i.prototype.exec=function(e){return this.regexp.exec(i.normalize(e))},i.prototype.params=function(e){if(!e)return[];var r=[],n=this.exec(e),t,o=this.keys,a,s;if(!n)throw new Error('The route named "'+this.name+'" does not match the path "'+e+'"');for(var u=1,c=n.length;c>u;++u)a=o[u-1],s="string"==typeof n[u]?decodeURIComponent(n[u]):n[u],a?r[a.name]=void 0!==r[a.name]?r[a.name]:s:r.push(s);return e=decodeURI(e),t=e.split("?")[1],t&&(t=t.split("#")[0]),r.hash=e.split("#")[1]||null,r.query=i.fromQueryString(t),r},i.prototype.resolve=function(e,n){var t,o,a,s=0,u=this._originalPath,c,p,h=[],l=e;if(n=n||{},e=e||[],p=n.query,c=n.hash&&n.hash.toString(),u instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");if(u=u.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(n,i,a,s,u,c,p){if(i=i||"",t=e[s],o="undefined"!=typeof t,c&&!o)t="";else if(!o)return void h.push(s);t=r.isFunction(t)?t.call(e):t;var l=r.map(String(t).split("/"),function(e){return encodeURIComponent(e)}).join("/");return i+l}).replace(/\*/g,function(n){if("undefined"==typeof e[s])throw new Error("You are trying to access a wild card parameter at index "+s+" but the value of params at that index is undefined");var t=String(e[s++]);return r.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),p=i.toQueryString(p),u+=p,c&&(c=encodeURI(c.replace("#","")),u=p?u+"#"+c:u+"/#"+c),u=u.replace(/\/+/g,"/"),u=u.replace(/^(.+)\/$/g,"$1"),0==h.length)return u;if(n.throwOnMissingParams===!0)throw new Error("Missing required parameters on path "+JSON.stringify(this._originalPath)+". The missing params are: "+JSON.stringify(h)+". The params object passed in was: "+JSON.stringify(l)+".");return null},n.Url=i}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:url"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package["iron:core"].Iron,r,i,n;(function(){var t=n.Url;r=function(n,r,i){e.isFunction(n)&&(i=i||r||{},r=n,n="/",this.middleware=!0,"undefined"==typeof i.mount&&(i.mount=!0)),"object"==typeof r&&(i=r,r=i.action||"action"),i=i||{},this.options=i,this.mount=i.mount,this.method=i.method&&i.method.toLowerCase()||!1,this.where=i.where||"client",this.mount&&(i.end=!1),i.name?this.name=i.name:"string"==typeof n&&"/"!==n.charAt(0)?this.name=n:r&&r.name?this.name=r.name:"string"==typeof n&&"/"!==n&&(this.name=n.split("/").slice(1).join(".")),n=i.path||n,"string"==typeof n&&"/"!==n.charAt(0)&&(n="/"+n),this.path=n,this.compiledUrl=new t(n,i),e.isString(r)?this.handle=function o(){var t=this[r];if("function"!=typeof t)throw new Error("No method named "+JSON.stringify(r)+" found on handler.");return t.apply(this,arguments)}:e.isFunction(r)&&(this.handle=r)},r.prototype.test=function(t,e){return this.method&&e&&e.method?this.method==e.method.toLowerCase()&&this.compiledUrl.test(t):this.compiledUrl.test(t)},r.prototype.params=function(t){return this.compiledUrl.params(t)},r.prototype.resolve=function(t,e){return this.compiledUrl.resolve(t,e)},r.prototype.clone=function(){var t=new r(this.path,this.handle,this.options);return t.name=this.name,t}}).call(this),function(){var o=n.Url,a=n.utils.assert,s=n.utils.defaultValue;i=function(){this._stack=[]},i.prototype._create=function(t,n,i){var o=new r(t,n,i),a=o.name;if(a){if(e.has(this._stack,a))throw new Error("Handler with name '"+a+"' already exists.");this._stack[a]=o}return o},i.prototype.findByName=function(t){return this._stack[t]},i.prototype.push=function(t,e,n){var r=this._create(t,e,n);return this._stack.push(r),r},i.prototype.append=function(){var t=this,n=e.toArray(arguments),r={};return"object"==typeof n[n.length-1]&&(r=n.pop()),n.forEach(function(n){if("undefined"!=typeof n)if("function"==typeof n)t.push(n,r);else{if(!e.isArray(n))throw new Error("Can only append functions or arrays to the MiddlewareStack");t.append.apply(t,n.concat([r]))}}),this},i.prototype.insertAt=function(t,e,n,r){var i=this._create(e,n,r);return this._stack.splice(t,0,i),this},i.prototype.insertBefore=function(t,n,r,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=e.indexOf(this._stack,o),this.insertAt(a,n,r,i),this},i.prototype.insertAfter=function(t,n,r,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=e.indexOf(this._stack,o),this.insertAt(a+1,n,r,i),this},i.prototype.concat=function(){var t=new i,n=Array.prototype.concat,r=EJSON.clone(this._stack),o=e.map(e.toArray(arguments),function(t){return EJSON.clone(t._stack)});return t._stack=n.apply(r,o),t},i.prototype.dispatch=function h(e,n,r){var i=this,h=e;a("string"==typeof e,"Requires url"),a("object"==typeof n,"Requires context object"),e=o.normalize(e||"/"),s(n,"request",{}),s(n,"response",{}),s(n,"originalUrl",e),s(n,"_method",n.method),s(n,"_handlersForEnv",{client:!1,server:!1}),s(n,"_handled",!1),s(n,"isHandled",function(){return n._handled}),s(n,"willBeHandledOnClient",function(){return n._handlersForEnv.client}),s(n,"willBeHandledOnServer",function(){return n._handlersForEnv.server});var l=function(){if(r)try{r.apply(this,arguments)}catch(t){throw t._punt=!0,t}},c=0,u=t.bindEnvironment(function p(r){var a=i._stack[c++];if(n.url=n.request.url=n.originalUrl,!a)return l.call(n,r);if(!a.test(e,{method:n._method}))return u(r);var s=t.isClient?"client":"server";if(a.middleware||(n._handlersForEnv[a.where]=!0),a.where!==s)return u(r);if(n.next=u,a.mount){var h=o.normalize(a.compiledUrl.pathname),p=e.substr(h.length,e.length);p=o.normalize(p),n.url=n.request.url=p}try{var d=a.handle.length,f=n.request,m=n.response;return r&&4===d?a.handle.call(n,r,f,m,u):!r&&4>d?a.handle.call(n,f,m,u):u(r)}catch(r){if(r._punt)throw r;u(r)}finally{n._handled=!0,n.next=null}});return u(),n.next=null,n},Object.defineProperty(i.prototype,"length",{get:function(){return this._stack.length},writeable:!1,configurable:!1,enumerable:!0}),n=n||{},n.MiddlewareStack=i}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:middleware-stack"]={Handler:r}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.tracker.Tracker,a=Package.tracker.Deps,o=Package.jquery.$,r=Package.jquery.jQuery,i=Package["iron:core"].Iron,c,s,h,u,l;(function(){var t=i.Url,n="__hash__";c=function(e){var a=t.parse(e),o=a.hash&&a.hash.replace("#",""),r=a.search,i=a.pathname,c=a.rootUrl;if(o&&"/"!==o.charAt(0)){var s=n+"="+o;r=r?r+"&":"?",r+=s}return o&&"/"===o.charAt(0)?o&&(o="#"+o):o=i?"#"+i:"",[c,o,r].join("")},s=function(a){var o=t.parse(a),r=o.hash&&o.hash.replace("#",""),i=o.search,c=o.rootUrl,s;return e.has(o.queryObject,n)?(s="#"+o.queryObject[n],delete o.queryObject[n]):s="",[c,r,t.toQueryString(o.queryObject),s].join("")},h=function(e){var n=t.parse(e),a=n.queryObject;return n.hash&&(a.hash=n.hash.replace("#","")),[n.pathname,t.toQueryString(a)].join("")}}).call(this),function(){var t=i.Url;u=function(n,a){e.extend(this,t.parse(n),{options:a||{}})},u.prototype.equals=function(t){return t&&t instanceof u&&t.pathname==this.pathname&&t.search==this.search&&t.hash==this.hash&&t.options.historyState===this.options.historyState?!0:!1},u.prototype.isCancelled=function(){return!!this._isCancelled},u.prototype.cancelUrlChange=function(){this._isCancelled=!0}}.call(this),function(){var n=i.Url,r=null,f=new a.Dependency,p={go:[],popState:[]},g=function(){return/MSIE 9/.test(navigator.appVersion)},y=function(){return/MSIE 8/.test(navigator.appVersion)},d=function(){return!!Package.appcache},S=function(){return l.options.useHashPaths||y()||g()||d()},v=function(){return!!l.options.useHashPaths},k=function(t,n){e.each(p[t],function(t){t.call(n)})},w=function(t){if(!(t instanceof u))throw new Error("Expected a State instance");return t.equals(r)?!1:(r=t,f.changed(),!0)},P=function(){var t=location.href,e;e=v()?new u(s(t)):new u(t,{historyState:history.state}),k("popState",e),w(e)},m=function(t){var e=_;e&&e(t)},j=function(t,e){e=e||{};var n=new u(t,e);k("go",n),w(n)&&a.afterFlush(function(){n.isCancelled()||(v()?location.hash=h(t):e.replaceState===!0?history.replaceState(e.historyState,null,t):history.pushState(e.historyState,null,t))})},_=function(t){try{var e=t.currentTarget,a=e.href,o=e.pathname+e.search+e.hash;if(o=o.replace(/(^\/?)/,"/"),t.isDefaultPrevented())return console.log("default prevented!"),void t.preventDefault();if(t.metaKey||t.ctrlKey||t.shiftKey)return;if(e.target)return;if(!n.isSameOrigin(a,location.href))return;t.preventDefault(),j(o)}catch(r){throw t.preventDefault(),r}};l={},l.options={linkSelector:"a[href]",useHashPaths:!1},l.configure=function(t){e.extend(this.options,t||{})},l.get=function(){return f.depend(),r},l.start=function(){if(!this._isStarted){if(S()){var e=n.parse(location.href);if(e.pathname.length>1){var a=c(location.href);window.location=a}this.configure({useHashPaths:!0})}var r=location.href;if(v()){var i=new u(s(r));w(i)}else{var i=new u(r);history.replaceState({initial:!0},null,r),w(i)}o(window).on("popstate.iron-location",P),o(window).on("hashchange.iron-location",P),t.startup(function(){o(document).on("click.iron-location",l.options.linkSelector,m)})}},l.stop=function(){this._isStarted&&(o(window).on("popstate.iron-location"),o(window).on("hashchange.iron-location"),o(document).off("click.iron-location"),this._isStarted=!1)},l.onClick=function(t){_=t},l.go=function(t,e){return j(t,e)},l.onGo=function(t){p.go.push(t)},l.onPopState=function(t){p.popState.push(t)},l.start(),i.Location=l}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:location"]={urlToHashStyle:c,urlFromHashStyle:s}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n;(function(){n=function(){return n.info.apply(this,arguments)};var i=0,o=[],a=0;n._intercept=function(e){i+=e},n._suppress=function(e){a+=e},n._intercepted=function(){var e=o;return o=[],i=0,e},n.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},l="blue",c=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=c.concat(["app","message"]),g=function(t){var r=n.format(t),i=t.level;"undefined"!=typeof console&&console[i]?console[i](r):e._debug(r)};n._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var r=t.split("\n"),n,i=1;i<r.length;++i){if(n=r[i],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/(?:local-test:)?logging(?:\/|\.js)/))break}var o={},a=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return a?(o.line=a[2].split(":")[0],o.file=a[1].split("/").slice(-1)[0].split("?")[0],o):o},t.each(["debug","info","warn","error"],function(s){n[s]=function(l){if(a)return void a--;var u=!1;i&&(i--,u=!0);var f=!t.isObject(l)||t.isRegExp(l)||t.isDate(l)?{message:new String(l).toString()}:l;if(t.each(c,function(e){if(f[e])throw new Error("Can't set '"+e+"' in log message")}),t.has(f,"message")&&!t.isString(f.message))throw new Error("The 'message' field in log objects must be a string");if(f.omitCallerDetails||(f=t.extend(n._getCallerDetails(),f)),f.time=new Date,f.level=s,"debug"!==s)if(u)o.push(r.stringify(f));else if(e.isServer)if("colored-text"===n.outputFormat)console.log(n.format(f,{color:!0}));else{if("json"!==n.outputFormat)throw new Error("Unknown logging output format: "+n.outputFormat);console.log(r.stringify(f))}else g(f)}}),n.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=r.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},n.format=function(n,i){n=r.clone(n),i=i||{};var o=n.time;if(!(o instanceof Date))throw new Error("'time' must be a Date object");var a=n.timeInexact,c=n.level||"info",g=n.file,f=n.line,m=n.app||"",p=n.originApp,v=n.message||"",h=n.program||"",d=n.satellite,w=n.stderr||"";t.each(u,function(e){delete n[e]}),t.isEmpty(n)||(v&&(v+=" "),v+=r.stringify(n));var b=function(e){return 10>e?"0"+e:e.toString()},D=function(e){return 100>e?"0"+b(e):e.toString()},j=o.getFullYear().toString()+b(o.getMonth()+1)+b(o.getDate()),S=b(o.getHours())+":"+b(o.getMinutes())+":"+b(o.getSeconds())+"."+D(o.getMilliseconds()),k="("+-((new Date).getTimezoneOffset()/60)+")",E="";m&&(E+=m),p&&p!==m&&(E+=" via "+p),E&&(E="["+E+"] ");var x=[];h&&x.push(h),g&&x.push(g),f&&x.push(f);var y=t.isEmpty(x)?"":"("+x.join(":")+") ";d&&(y+=["[",d,"]"].join(""));var _=w?"(STDERR) ":"",C=[c.charAt(0).toUpperCase(),j,"-",S,k,a?"? ":" ",E,y,_].join(""),F=function(t,r){return i.color&&e.isServer&&r?Npm.require("cli-color")[r](t):t};return F(C,i.metaColor||l)+F(v,s[c])},n.objFromText=function(e,r){var n={message:e,level:"info",time:new Date,timeInexact:!0};return t.extend(n,r)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:n}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.random.Random,i;(function(){i=function(e){var r=this;t.extend(r,t.defaults(t.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),r.retryTimer=null},t.extend(i.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var i=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return i*=r.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(t,r){var i=this,n=i._timeout(t);return i.retryTimer&&clearTimeout(i.retryTimer),i.retryTimer=e.setTimeout(r,n),n}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:i}}();

!function(){var a=Package.meteor.Meteor,e=Package.underscore._,t=Package.logging.Log,o=Package.json.JSON,n;(function(){n={};var t="Meteor_Reload",r={},i,l=null;try{l=window.sessionStorage,l?(l.setItem("__dummy__","1"),l.removeItem("__dummy__")):l=null}catch(g){l=null}n._getData=function(){return l&&l.getItem(t)},l&&(i=n._getData(),l.removeItem(t)),i||(i="{}");var c={};try{c=o.parse(i),"object"!=typeof c&&(a._debug("Got bad data on reload. Ignoring."),c={})}catch(d){a._debug("Got invalid JSON on reload. Ignoring.")}c.reload&&"object"==typeof c.data&&(r=c.data);var u=[];n._onMigrate=function(a,e){e||(e=a,a=void 0),u.push({name:a,callback:e})},n._migrationData=function(a){return r[a]};var s=function(a,t){a=a||function(){},t=t||{};for(var o={},n=e.clone(u),r=!0;n.length;){var i=n.shift(),l=i.callback(a,t);l[0]||(r=!1),l.length>1&&i.name&&(o[i.name]=l[1])}return r||t.immediateMigration?o:null};n._migrate=function(e,n){var r=s(e,n);if(null===r)return!1;try{var i=o.stringify({data:r,reload:!0})}catch(g){throw a._debug("Couldn't serialize data for migration",r),g}if(l)try{l.setItem(t,i)}catch(g){a._debug("Couldn't save data for migration to sessionStorage",g)}else a._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},n._withFreshProvidersForTest=function(a){var t=e.clone(u);u=[];try{a()}finally{u=t}};var f=!1;n._reload=function(a){if(a=a||{},!f){f=!0;var t=function(){e.defer(function(){n._migrate(t,a)&&window.location.reload()})};t()}}}).call(this),function(){a._reload={onMigrate:n._onMigrate,migrationData:n._migrationData,reload:n._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:n}}();

!function(){var e=Package.meteor.Meteor,t=Package.check.check,n=Package.check.Match,r=Package.random.Random,o=Package.ejson.EJSON,i=Package.json.JSON,a=Package.underscore._,s=Package.tracker.Tracker,u=Package.tracker.Deps,c=Package.logging.Log,l=Package.retry.Retry,d=Package.minimongo.LocalCollection,f=Package.minimongo.Minimongo,_,p,h,v,m,g,b,y,w,k,S,C,T;(function(){_={},p={}}).call(this),function(){h=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var a=function(e){var t=this;t._events=e||[],t._listeners={}};a.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},a.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},a.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+i.stringify(e)+" not listed "+i.stringify(t._events)+" in "+t)},a.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;e>n;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var u="_jp";n.polluteGlobalNamespace=function(){u in t||(t[u]={})},n.closeFrame=function(e,t){return"c"+i.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var a=i[0].toLowerCase(),s=r.substring(a.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(s);if(u)var c=u[0]}if(!a||!c)throw new Error("relativeTo must be an absolute url");o={protocol:a,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var l=t.split("/");return("http:"===l[0]&&/:80$/.test(l[2])||"https:"===l[0]&&/:443$/.test(l[2]))&&(l[2]=l[2].replace(/:(80|443)$/,"")),t=l.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,f,_=i&&i.stringify||function(e){return c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return l[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=_(e);return d.lastIndex=0,d.test(t)?(f||(f=p(d)),t.replace(d,function(e){return f[e]})):t};var h=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<h.length;t++){var n=h[t];e[n]=T[n]&&T[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=h);for(var i=0;i<t.length;i++){var a=t[i];r[a]=e[a]}var s=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var v="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(v in t)){var r={};t[v]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[v](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var m={},g=!1,b=function(){for(var e in m)m[e](),delete m[e]},y=function(){g||(g=!0,b())};n.attachEvent("unload",y),n.unload_add=function(e){var t=n.random_string(8);return m[t]=e,g&&n.delay(b),t},n.unload_del=function(e){e in m&&delete m[e]},n.createIframe=function(t,r){var o=e.createElement("iframe"),i,a,s=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(s(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(a))},c=function(e){o&&(u(),r(e))},l=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(n){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){c("timeout")},15e3),a=n.unload_add(u),{post:l,cleanup:u,loaded:s}},n.createHtmlfile=function(e,r){var o=new ActiveXObject("htmlfile"),i,a,s,c=function(){clearTimeout(i)},l=function(){o&&(c(),n.unload_del(a),s.parentNode.removeChild(s),s=o=null,CollectGarbage())},d=function(e){o&&(l(),r(e))},f=function(e,t){try{s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}catch(n){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";</script></html>'),o.close(),o.parentWindow[u]=t[u];var _=o.createElement("div");return o.body.appendChild(_),s=o.createElement("iframe"),_.appendChild(s),s.src=e,i=setTimeout(function(){d("timeout")},15e3),a=n.unload_add(l),{post:f,cleanup:l,loaded:c}};var w=function(){};w.prototype=new a(["chunk","finish"]),w.prototype._start=function(e,r,o,i){var a=this;try{a.xhr=new XMLHttpRequest}catch(s){}if(!a.xhr)try{a.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add(function(){a._cleanup(!0)});try{a.xhr.open(e,r,!0)}catch(u){return a.emit("finish",0,""),void a._cleanup()}if(i&&i.no_credentials||(a.xhr.withCredentials="true"),i&&i.headers)for(var c in i.headers)a.xhr.setRequestHeader(c,i.headers[c]);a.xhr.onreadystatechange=function(){if(a.xhr){var e=a.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&a.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),a.emit("finish",t,e.responseText),a._cleanup(!1)}}},a.xhr.send(o)},w.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var k=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};k.prototype=new w;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new w;var C=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};C.prototype=new a(["chunk","finish"]),C.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var a=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(s){a()}},C.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},C.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:B.enabled()?3:4};var T=function(e,t,r){if(!(this instanceof T))return new T(e,t,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,i&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=T.CONNECTING,o._ir=q(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};T.prototype=new r,T.version="0.3.4",T.CONNECTING=0,T.OPEN=1,T.CLOSING=2,T.CLOSED=3,T.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},T.prototype._dispatchOpen=function(){var e=this;e.readyState===T.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=T.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},T.prototype._dispatchMessage=function(e){var t=this;t.readyState===T.OPEN&&t.dispatchEvent(new o("message",{data:e}))},T.prototype._dispatchHeartbeat=function(e){var t=this;t.readyState===T.OPEN&&t.dispatchEvent(new o("heartbeat",{}))},T.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==T.CONNECTING&&i.readyState!==T.OPEN&&i.readyState!==T.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var a=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===T.CONNECTING&&!r){if(i._try_next_protocol(a))return;a=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:a})}i.readyState=T.CLOSED,n.delay(function(){i.dispatchEvent(a)})},T.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=i.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=i.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=i.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},T.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(T[o]&&T[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(T[o]&&T[o].enabled(r._options)){var i=T[o].roundTrips||1,a=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(a,function(){r.readyState===T.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),u=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new T[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},T.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==T.CONNECTING&&r.readyState!==T.OPEN?!1:(r.readyState=T.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},T.prototype.send=function(e){var t=this;if(t.readyState===T.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===T.OPEN&&t._transport.doSend(n.quote(""+e)),!0},T.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var a=n.probeProtocols();i._protocols=n.detectProtocols(a,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var E=T.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var a=t.WebSocket||t.MozWebSocket;o.ws=new a(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};E.prototype.doSend=function(e){this.ws.send("["+e+"]")},E.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},E.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},E.roundTrips=2;var O=function(){};O.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},O.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},O.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},O.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},O.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var x=function(t,r,o){var i=this;if(!("_send_form"in i)){var a=i._send_form=e.createElement("form"),s=i._send_area=e.createElement("textarea");s.name="d",a.style.display="none",a.style.position="absolute",a.method="POST",a.enctype="application/x-www-form-urlencoded",a.acceptCharset="UTF-8",a.appendChild(s),e.body.appendChild(a)}var a=i._send_form,s=i._send_area,u="a"+n.random_string(8);a.target=u,a.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(l){c=e.createElement("iframe"),c.name=u}c.id=u,a.appendChild(c),c.style.display="none";try{s.value=r}catch(d){n.log("Your browser is seriously broken. Go home! "+d.message)}a.submit();var f=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),s.value="",o(!0))};return c.onerror=c.onload=f,c.onreadystatechange=function(e){"complete"==c.readyState&&f()},f},I=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e,t){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},M=function(t,r){var o,i=e.createElement("script"),a,s=function(e){a&&(a.parentNode.removeChild(a),a=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(e){c||(c=setTimeout(function(){u||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(e){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(e){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(t){}}i&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))a=e.createElement("script"),a.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=a.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(l){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(i,d.firstChild),a&&d.insertBefore(a,d.firstChild),s},D=T["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(x),r._schedule_recv()};D.prototype=new O,D.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=R(e.trans_url+"/jsonp",M,t)},D.enabled=function(){return!0},D.need_body=!0,D.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var R=function(e,r,o){var i="a"+n.random_string(6),a=e+"?c="+escape(u+"."+i),s=0,c=function(e){switch(s){case 0:delete t[u][i],o(e);break;case 1:o(e),s=2;break;case 2:delete t[u][i]}},l=r(a,c);t[u][i]=l;var d=function(){t[u][i]&&(s=1,t[u][i](n.closeFrame(1e3,"JSONP user aborted read")))};return d},P=function(){};P.prototype=new O,P.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(I(o)),i.poll=new Z(e,r,t+n,o)},P.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var N=T["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XHRCorsObject)};N.prototype=new P,N.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},N.roundTrips=2,N.need_body=!0;var j=T["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XDRObject)};j.prototype=new P,j.enabled=function(){return!!t.XDomainRequest},j.roundTrips=2;var U=T["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRCorsObject)};U.prototype=new P,U.enabled=N.enabled,U.roundTrips=2;var A=T["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XDRObject)};A.prototype=new P,A.enabled=j.enabled,A.roundTrips=2;var B=function(){};B.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},B.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},B.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",i.stringify([T.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},B.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},B.prototype.doSend=function(e){this.postMessage("m",e)},B.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var H,L=function(e,r){parent!==t?parent.postMessage(H+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},F=function(){};F.prototype._didClose=function(e,t){L("t",n.closeFrame(e,t))},F.prototype._didMessage=function(e){L("t",e)},F.prototype._doSend=function(e){this._transport.doSend(e)},F.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,T.bootstrap_iframe=function(){var r;H=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),a=e.data.slice(8,9),s=e.data.slice(9);if(o===H)switch(a){case"s":var u=i.parse(s),c=u[0],l=u[1],d=u[2],f=u[3];if(c!==T.version&&n.log('Incompatibile SockJS! Main site uses: "'+c+'", the iframe: "'+T.version+'".'),!n.flatUrl(d)||!n.flatUrl(f))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(f))return void n.log("Can't connect to different domain from within an iframe. ("+i.stringify([t.location.href,d,f])+")");r=new F,r._transport=new F[l](r,d,f);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),L("s")};var X=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};X.prototype=new a(["finish"]),X.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),a=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){a.ontimeout()});a.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,a=i.parse(t);"object"!=typeof a&&(a={}),r.emit("finish",a,n)}else r.emit("finish")},a.ontimeout=function(){a.close(),r.emit("finish")}};var V=function(t){var r=this,o=function(){var e=new B;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=i.parse(t.substr(1)),o=n[0],a=n[1];r.emit("finish",o,a)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};V.prototype=new a(["finish"]);var W=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};W.prototype=new a(["finish"]);var q=function(e){if(n.isSameOriginUrl(e))return new X(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new X(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new X(e,n.XDRObject):new W;case 3:return new V(e);default:return new W}},G=F["w-iframe-info-receiver"]=function(e,t,r){var o=new X(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+i.stringify([t,n])),e._didClose()}};G.prototype.doCleanup=function(){};var J=T["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};J.prototype=new B,J.enabled=function(){return"EventSource"in t&&B.enabled()},J.need_body=!0,J.roundTrips=3;var Q=F["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",et,n.XHRLocalObject)};Q.prototype=new P;var z=T["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};z.prototype=new B,z.enabled=function(){return t.XMLHttpRequest&&B.enabled()},z.need_body=!0,z.roundTrips=3;var $=F["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRLocalObject)};$.prototype=new P;var Y=T["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Y.prototype=new B,Y.enabled=function(){return B.enabled()},Y.need_body=!0,Y.roundTrips=3;var K=F["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",rt,n.XHRLocalObject)};K.prototype=new P;var Z=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var et=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var a=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:a}))})}};et.prototype=new r,et.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var tt,nt=function(){if(void 0===tt)if("ActiveXObject"in t)try{tt=!!new ActiveXObject("htmlfile")}catch(e){}else tt=!1;return tt},rt=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(u+"."+r.id);var i=nt()?n.createHtmlfile:n.createIframe,a;t[u][r.id]={start:function(){a.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){a.cleanup(),r.iframe_close=a=null,delete t[u][r.id],r.dispatchEvent(new o("close",{reason:n}))},a=i(e,function(e){r.iframe_close({},"permanent")})};rt.prototype=new r,rt.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var ot=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),a=i.indexOf("\n");if(-1===a)break;r+=a+1;var s=i.slice(0,a);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return ot.prototype=new r,ot.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},T.getUtils=function(){return n},T.getIframeTransport=function(){return B},T}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return h})}.call(this),function(){p.ClientStream=function(e,t){var n=this;n.options=a.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",a.bind(n._online,n),!1),n._launchConnection()},a.extend(p.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),a.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),a.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new _.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(a.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);
return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=a.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new h(v(t.rawUrl),void 0,n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&a.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",a.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new _.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},o=function(o,i,a){i||(i="http");var s=o.match(/^ddp(i?)\+sockjs:\/\//),u=o.match(/^http(s?):\/\//),c;if(s){var l=o.substr(s[0].length);c="i"===s[1]?i:i+"s";var d=l.indexOf("/"),f=-1===d?l:l.substr(0,d),_=-1===d?"":l.substr(d);return f=f.replace(/\*/g,function(){return Math.floor(10*r.fraction())}),c+"://"+f+_}if(u){c=u[1]?i+"s":i;var p=o.substr(u[0].length);o=c+"://"+p}return-1!==o.indexOf("://")||t(o,"/")||(o=i+"://"+o),o=e._relativeToSiteRootUrl(o),n(o,"/")?o+a:o+"/"+a};v=function(e){return o(e,"http","sockjs")},m=function(e){var t=o(e,"ws","websocket");return t},p.toSockjsUrl=v,a.extend(p.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof s&&new s.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new l,t.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?void((e._force||e.url)&&t._lostConnection(new _.ForcedReconnectError)):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,void t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,a.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),_.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),_.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){g=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},a.extend(g.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setTimeout(a.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(a.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearTimeout(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._heartbeatIntervalHandle=null,e._sendPing(),e._startHeartbeatTimeoutTimer()},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},pingReceived:function(){var e=this;e._heartbeatIntervalHandle&&(e._clearHeartbeatIntervalTimer(),e._startHeartbeatIntervalTimer())},pongReceived:function(){var e=this;e._heartbeatTimeoutHandle&&(e._clearHeartbeatTimeoutTimer(),e._startHeartbeatIntervalTimer())}})}.call(this),function(){b=["1","pre2","pre1"],p.SUPPORTED_DDP_VERSIONS=b,y=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},a.extend(y.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}}),w=function(t){try{var n=i.parse(t)}catch(r){return e._debug("Discarding message with invalid JSON",t),null}return null===n||"object"!=typeof n?(e._debug("Discarding non-object DDP message",t),null):(a.has(n,"cleared")&&(a.has(n,"fields")||(n.fields={}),a.each(n.cleared,function(e){n.fields[e]=void 0}),delete n.cleared),a.each(["fields","params","result"],function(e){a.has(n,e)&&(n[e]=o._adjustTypesFromJSONValue(n[e]))}),n)},k=function(e){var t=o.clone(e);if(a.has(e,"fields")){var n=[];a.each(e.fields,function(e,r){void 0===e&&(n.push(r),delete t.fields[r])}),a.isEmpty(n)||(t.cleared=n),a.isEmpty(t.fields)&&delete t.fields}if(a.each(["fields","params","result"],function(e){a.has(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return i.stringify(t)},_._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){function e(){return r.hexString(20)}S=function(t){var n=this;this.seed=[].concat(t.seed||e()),this.sequences={}},S.get=function(e,t){if(t||(t="default"),!e)return r;var n=e.randomStream;return n||(e.randomStream=n=new S({seed:e.randomSeed})),n._sequence(t)},_.randomStream=function(e){var t=_._CurrentInvocation.get();return S.get(t,e)},C=function(e,t){var n=S.get(e,"/rpc/"+t);return n.hexString(20)},a.extend(S.prototype,{_sequence:function(e){var t=this,n=t.sequences[e]||null;if(null===n){for(var o=t.seed.concat(e),i=0;i<o.length;i++)a.isFunction(o[i])&&(o[i]=o[i]());t.sequences[e]=n=r.createWithSeeds.apply(null,o)}return n}})}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),u=Npm.require(t.join("fibers","future"));var c=function(t,n){var r=this;n=a.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:35e3,heartbeatTimeout:15e3,reloadWithOutstanding:!1,supportedDDPVersions:b,retry:!0,respondToPings:!0},n),r.onReconnect=null,r._stream="object"==typeof t?t:new p.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r._subscriptions={},r._userId=null,r._userIdDeps=new s.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(t){try{var o=w(t)}catch(i){return void e._debug("Exception while parsing DDP",i)}if(null===o||!o.msg)return void(o&&o.server_id||e._debug("discarding invalid livedata message",o));if("connected"===o.msg)r._version=r._versionSuggestion,r._livedata_connected(o),n.onConnected();else if("failed"==o.msg)if(a.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var s="DDP version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:s}),n.onDDPVersionNegotiationFailure(s)}else"ping"===o.msg?(n.respondToPings&&r._send({msg:"pong",id:o.id}),r._heartbeat&&r._heartbeat.pingReceived()):"pong"===o.msg?r._heartbeat&&r._heartbeat.pongReceived():a.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o)},i=function(){var e={msg:"connect"};r._lastSessionId&&(e.session=r._lastSessionId),e.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=e.version,e.support=r._supportedDDPVersions,r._send(e),!a.isEmpty(r._outstandingMethodBlocks)&&a.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),a.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),a.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},u=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(o,e._debug)),r._stream.on("reset",e.bindEnvironment(i,e._debug)),r._stream.on("disconnect",e.bindEnvironment(u,e._debug))):(r._stream.on("message",o),r._stream.on("reset",i),r._stream.on("disconnect",u))},l=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};a.extend(l.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),a.extend(c.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};a.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),a.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),i={};if(n.length){var u=n[n.length-1];"function"==typeof u?i.onReady=n.pop():!u||"function"!=typeof u.onReady&&"function"!=typeof u.onError||(i=n.pop())}var c=a.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&o.equals(t.params,n)}),l;c?(l=c.id,c.inactive=!1,i.onReady&&(c.ready||(c.readyCallback=i.onReady)),i.onError&&(c.errorCallback=i.onError)):(l=r.id(),t._subscriptions[l]={id:l,name:e,params:o.clone(n),inactive:!1,ready:!1,readyDeps:new s.Dependency,readyCallback:i.onReady,errorCallback:i.onError,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:l}),this.remove()}},t._send({msg:"sub",id:l,name:e,params:n}));var d={stop:function(){a.has(t._subscriptions,l)&&t._subscriptions[l].stop()},ready:function(){if(!a.has(t._subscriptions,l))return!1;var e=t._subscriptions[l];return e.readyDeps.depend(),e.ready}};return s.active&&s.onInvalidate(function(e){a.has(t._subscriptions,l)&&(t._subscriptions[l].inactive=!0),s.afterFlush(function(){a.has(t._subscriptions,l)&&t._subscriptions[l].inactive&&d.stop()})}),d},_subscribeAndWait:function(e,t,n){var r=this,o=new u,i=!1,a;return t=t||[],t.push({onReady:function(){i=!0,o["return"]()},onError:function(e){i?n&&n.onLateError&&n.onLateError(e):o["throw"](e)}}),a=r.subscribe.apply(r,[e].concat(t)),o.wait(),a},methods:function(e){var t=this;a.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,r,i){var s=this;i||"function"!=typeof r||(i=r,r={}),r=r||{},i&&(i=e.bindEnvironment(i,"delivering result of invoking '"+t+"'")),n=o.clone(n);var c=function(){var e;return function(){return void 0===e&&(e=""+s._nextMethodId++),e}}(),d=_._CurrentInvocation.get(),f=d&&d.isSimulation,p=null,h=function(){return null===p&&(p=C(d,t)),p},v=s._methodHandlers[t];if(v){var m=function(e){s.setUserId(e)},g=new y({isSimulation:!0,userId:s.userId(),setUserId:m,randomSeed:function(){return h()}});f||s._saveOriginals();try{var b=_._CurrentInvocation.withValue(g,function(){return e.isServer?e._noYieldsAllowed(function(){return v.apply(g,o.clone(n))}):v.apply(g,o.clone(n))})}catch(w){var k=w}f||s._retrieveAndStoreOriginals(c())}if(f){if(i)return void i(k,b);if(k)throw k;return b}if(k&&!k.expected&&e._debug("Exception while simulating the effect of invoking '"+t+"'",k,k.stack),!i)if(e.isClient)i=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var S=new u;i=S.resolver()}var T={msg:"method",method:t,params:n,id:c()};null!==p&&(T.randomSeed=p);var E=new l({methodId:c(),callback:i,connection:s,onResultReceived:r.onResultReceived,wait:!!r.wait,message:T});return r.wait?s._outstandingMethodBlocks.push({wait:!0,methods:[E]}):((a.isEmpty(s._outstandingMethodBlocks)||a.last(s._outstandingMethodBlocks).wait)&&s._outstandingMethodBlocks.push({wait:!1,methods:[]}),a.last(s._outstandingMethodBlocks).methods.push(E)),1===s._outstandingMethodBlocks.length&&E.sendMessage(),S?S.wait():r.returnStubValue?b:void 0},_saveOriginals:function(){var e=this;a.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];a.each(t._stores,function(r,o){var i=r.retrieveOriginals();i&&i.forEach(function(r,i){n.push({collection:o,id:i}),a.has(t._serverDocuments,o)||(t._serverDocuments[o]=new d._IdMap);var s=t._serverDocuments[o].setDefault(i,{});s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=r,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[e]=!0)})}),a.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;a.each(a.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(k(e))},_lostConnection:function(e){var t=this;t._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!a.isEmpty(e._subsBeingRevived)||!a.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return a.any(a.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new g({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new _.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},a.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&a.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(a.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(a.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],a.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),a.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;a.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!a.isEmpty(n))&&(a.each(t._stores,function(e,r){e.beginUpdate(a.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,a.each(n,function(e,n){var r=t._stores[n];r?a.each(e,function(e){r.update(e)}):(a.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),a.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],a.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;a.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!a.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=d._idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){if(void 0!==o.document)throw new Error("Server sent add for existing id: "+e.id);o.document=e.fields||{},o.document._id=r}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);d._applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;a.each(e.methods,function(e){a.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+i.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+i.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],a.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:d._idStringify(r.id),replace:o.document}),a.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(a.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;a.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];t&&(t.ready||(t.readyCallback&&t.readyCallback(),t.ready=!0,t.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};a.each(t._serverDocuments,function(e){e.forEach(function(e){var n=a.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),a.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback;n._subscriptions[t.id].remove(),r&&t.error&&r(new e.Error(t.error.error,t.error.reason,t.error.details))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(a.isEmpty(n._outstandingMethodBlocks))return void e._debug("Received method result but no methods outstanding");for(var r=n._outstandingMethodBlocks[0].methods,o,i=0;i<r.length&&(o=r[i],o.methodId!==t.id);i++);return o?(r.splice(i,1),void(a.has(t,"error")?o.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):o.receiveResult(void 0,t.result))):void e._debug("Can't match method response to original method call",t)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!a.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!a.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+i.stringify(t));a.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;a.isEmpty(e._outstandingMethodBlocks)||a.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!a.isEmpty(t)){if(a.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();a.last(e._outstandingMethodBlocks).wait||t[0].wait||(a.each(t[0].methods,function(t){a.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),a.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return a.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),p.Connection=c,_.connect=function(e,t){var n=new c(e,t);return T.push(n),n},T=[],_._allSubscriptionsReady=function(){return a.all(T,function(e){return a.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(e){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new l,r=function(t){if(e._debug(t),Package.reload){var r=Package.reload.Reload._migrationData("livedata")||{},o=r.DDPVersionNegotiationFailures||0;++o,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:o}]}),n.retryLater(o,function(){Package.reload.Reload._reload()})}};e.connection=_.connect(t,{onDDPVersionNegotiationFailure:r}),a.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=a.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=_.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.ddp={DDP:_,LivedataTest:p}}();

!function(){var e=Package.meteor.Meteor,a=Package.logging.Log,g=Package.underscore._,o=Package.ddp.DDP,c=Package.ejson.EJSON,P;"undefined"==typeof Package&&(Package={}),Package["follower-livedata"]={Follower:P}}();

!function(){var a=Package.meteor.Meteor,e=Package.logging.Log,o=Package.underscore._,g=Package.ddp.DDP,c=Package.ejson.EJSON,n=Package["follower-livedata"].Follower;"undefined"==typeof Package&&(Package={}),Package["application-configuration"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.random.Random,o=Package.ejson.EJSON,t=Package.json.JSON,r=Package.underscore._,i=Package.minimongo.LocalCollection,c=Package.minimongo.Minimongo,l=Package.logging.Log,a=Package.ddp.DDP,s=Package.tracker.Tracker,d=Package.tracker.Deps,u=Package.check.check,f=Package.check.Match,_,p;(function(){p=function(){var e=this;e.noConnCollections={}};var e=function(e,n){return e in n||(n[e]=new i(e)),n[e]};r.extend(p.prototype,{open:function(n,o){var t=this;return n?o?(o._mongo_livedata_collections||(o._mongo_livedata_collections={}),e(n,o._mongo_livedata_collections)):e(n,t.noConnCollections):new i}}),p=new p}).call(this),function(){_={},_.Collection=function(o,t){var c=this;if(!(c instanceof _.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(o||null===o||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(t&&t.methods&&(t={connection:t}),t&&t.manager&&!t.connection&&(t.connection=t.manager),t=r.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},t),t.idGeneration){case"MONGO":c._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):n;return new _.ObjectID(e.hexString(24))};break;case"STRING":default:c._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):n;return e.id()}}if(c._transform=i.wrapTransform(t.transform),c._connection=o&&null!==t.connection?t.connection?t.connection:e.isClient?e.connection:e.server:null,t._driver||(t._driver=o&&c._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():p),c._collection=t._driver.open(o,c._connection),c._name=o,c._connection&&c._connection.registerStore){var l=c._connection.registerStore(o,{beginUpdate:function(e,n){(e>1||n)&&c._collection.pauseObservers(),n&&c._collection.remove({})},update:function(e){var n=i._idParse(e.id),o=c._collection.findOne(n);if("replace"===e.msg){var t=e.replace;return void(t?o?c._collection.update(n,t):c._collection.insert(t):o&&c._collection.remove(n))}if("added"===e.msg){if(o)throw new Error("Expected not to find a document already present for an add");c._collection.insert(r.extend({_id:n},e.fields))}else if("removed"===e.msg){if(!o)throw new Error("Expected to find a document already present for removed");c._collection.remove(n)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!o)throw new Error("Expected to find a document to change");if(!r.isEmpty(e.fields)){var l={};r.each(e.fields,function(e,n){void 0===e?(l.$unset||(l.$unset={}),l.$unset[n]=1):(l.$set||(l.$set={}),l.$set[n]=e)}),c._collection.update(n,l)}}},endUpdate:function(){c._collection.resumeObservers()},saveOriginals:function(){c._collection.saveOriginals()},retrieveOriginals:function(){return c._collection.retrieveOriginals()}});if(!l)throw new Error("There is already a collection named '"+o+"'")}c._defineMutationMethods(),Package.autopublish&&!t._preventAutopublish&&c._connection&&c._connection.publish&&c._connection.publish(null,function(){return c.find()},{is_auto:!0})},r.extend(_.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var n=this;return e.length<2?{transform:n._transform}:(u(e[1],f.Optional(f.ObjectIncluding({fields:f.Optional(f.OneOf(Object,void 0)),sort:f.Optional(f.OneOf(Object,Array,void 0)),limit:f.Optional(f.OneOf(Number,void 0)),skip:f.Optional(f.OneOf(Number,void 0))}))),r.extend({transform:n._transform},e[1]))},find:function(){var e=this,n=r.toArray(arguments);return e._collection.find(e._getFindSelector(n),e._getFindOptions(n))},findOne:function(){var e=this,n=r.toArray(arguments);return e._collection.findOne(e._getFindSelector(n),e._getFindOptions(n))}}),_.Collection._publishCursor=function(e,n,o){var t=e.observeChanges({added:function(e,t){n.added(o,e,t)},changed:function(e,t){n.changed(o,e,t)},removed:function(e){n.removed(o,e)}});n.onStop(function(){t.stop()})},_.Collection._rewriteSelector=function(e){if(i._selectorIsId(e)&&(e={_id:e}),!e||"_id"in e&&!e._id)return{_id:n.id()};var o={};return r.each(e,function(e,n){e instanceof RegExp?o[n]=t(e):e&&e.$regex instanceof RegExp?(o[n]=t(e.$regex),void 0!==e.$options&&(o[n].$options=e.$options)):o[n]=r.contains(["$or","$and","$nor"],n)?r.map(e,function(e){return _.Collection._rewriteSelector(e)}):e}),o};var t=function(e){u(e,RegExp);var n={$regex:e.source},o="";return e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),o&&(n.$options=o),n},c=function(n,o){if(!i._selectorIsIdPerhapsAsObject(n))throw new e.Error(403,"Not permitted. Untrusted code may only "+o+" documents by ID.")};r.each(["insert","update","remove"],function(n){_.Collection.prototype[n]=function(){var o=this,t=r.toArray(arguments),i,l,s;if(t.length&&(void 0===t[t.length-1]||t[t.length-1]instanceof Function)&&(i=t.pop()),"insert"===n){if(!t.length)throw new Error("insert requires an argument");if(t[0]=r.extend({},t[0]),"_id"in t[0]){if(l=t[0]._id,!l||!("string"==typeof l||l instanceof _.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var d=!0;if(o._connection&&o._connection!==e.server){var u=a._CurrentInvocation.get();u||(d=!1)}d&&(l=t[0]._id=o._makeNewID())}}else if(t[0]=_.Collection._rewriteSelector(t[0]),"update"===n){var f=t[2]=r.clone(t[2])||{};if(f&&"function"!=typeof f&&f.upsert)if(f.insertedId){if(!("string"==typeof f.insertedId||f.insertedId instanceof _.ObjectID))throw new Error("insertedId must be string or ObjectID")}else f.insertedId=o._makeNewID()}var p=function(e){return"insert"===n?(!l&&e&&(l=e),l):e},h;if(i&&(h=function(e,n){i(e,!e&&p(n))}),o._connection&&o._connection!==e.server){var u=a._CurrentInvocation.get(),v=u&&u.isSimulation;!e.isClient||h||v||(h=function(o){o&&e._debug(n+" failed: "+(o.reason||o.stack))}),v||"insert"===n||c(t[0],n),s=p(o._connection.apply(o._prefix+n,t,{returnStubValue:!0},h))}else{t.push(h);try{var m=o._collection[n].apply(o._collection,t);s=p(m)}catch(g){if(i)return i(g),null;throw g}}return s}}),_.Collection.prototype.upsert=function(e,n,o,t){var i=this;return t||"function"!=typeof o||(t=o,o={}),i.update(e,n,r.extend({},o,{_returnObject:!0,upsert:!0}),t)},_.Collection.prototype._ensureIndex=function(e,n){var o=this;if(!o._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");o._collection._ensureIndex(e,n)},_.Collection.prototype._dropIndex=function(e){var n=this;if(!n._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");n._collection._dropIndex(e)},_.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},_.Collection.prototype._createCappedCollection=function(e,n){var o=this;if(!o._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");o._collection._createCappedCollection(e,n)},_.ObjectID=i._ObjectID,_.Cursor=i.Cursor,_.Collection.Cursor=_.Cursor,_.Collection.ObjectID=_.ObjectID,function(){var e=function(e,n){var o=["insert","update","remove","fetch","transform"];r.each(r.keys(n),function(n){if(!r.contains(o,n))throw new Error(e+": Invalid key: "+n)});var t=this;if(t._restricted=!0,r.each(["insert","update","remove"],function(o){if(n[o]){if(!(n[o]instanceof Function))throw new Error(e+": Value for `"+o+"` must be a function");n[o].transform=void 0===n.transform?t._transform:i.wrapTransform(n.transform),t._validators[o][e].push(n[o])}}),n.update||n.remove||n.fetch){if(n.fetch&&!(n.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");t._updateFetch(n.fetch)}};_.Collection.prototype.allow=function(n){e.call(this,"allow",n)},_.Collection.prototype.deny=function(n){e.call(this,"deny",n)}}(),_.Collection.prototype._defineMutationMethods=function(){var n=this;if(n._restricted=!1,n._insecure=void 0,n._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},n._name&&(n._prefix="/"+n._name+"/",n._connection)){var o={};r.each(["insert","update","remove"],function(t){o[n._prefix+t]=function(){u(arguments,[f.Any]);var o=r.toArray(arguments);try{var i=null;if("insert"!==t||r.has(o[0],"_id")||(i=n._makeNewID()),this.isSimulation)return null!==i&&(o[0]._id=i),n._collection[t].apply(n._collection,o);if("insert"!==t&&c(o[0],t),n._restricted){if(0===n._validators[t].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+t+"'.");var l="_validated"+t.charAt(0).toUpperCase()+t.slice(1);return o.unshift(this.userId),"insert"===t&&o.push(i),n[l].apply(n,o)}if(n._isInsecure())return null!==i&&(o[0]._id=i),n._collection[t].apply(n._collection,o);throw new e.Error(403,"Access denied")}catch(a){throw"MongoError"===a.name||"MinimongoError"===a.name?new e.Error(409,a.toString()):a}}}),(e.isClient||n._connection===e.server)&&n._connection.methods(o)}},_.Collection.prototype._updateFetch=function(e){var n=this;n._validators.fetchAllFields||(e?n._validators.fetch=r.union(n._validators.fetch,e):(n._validators.fetchAllFields=!0,n._validators.fetch=null))},_.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var l=function(e,n,t){var r=n;return e.transform&&(r=o.clone(n),null!==t&&(r._id=t),r=e.transform(r)),r};_.Collection.prototype._validatedInsert=function(n,o,t){var i=this;if(r.any(i._validators.insert.deny,function(e){return e(n,l(e,o,t))}))throw new e.Error(403,"Access denied");if(r.all(i._validators.insert.allow,function(e){return!e(n,l(e,o,t))}))throw new e.Error(403,"Access denied");null!==t&&(o._id=t),i._collection.insert.call(i._collection,o)};var s=function(e,n){return e.transform?e.transform(n):n};_.Collection.prototype._validatedUpdate=function(n,o,t,c){var l=this;if(c=c||{},!i._selectorIsIdPerhapsAsObject(o))throw new Error("validated update should be of a single ID");if(c.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var a=[];r.each(t,function(n,o){if("$"!==o.charAt(0))throw new e.Error(403,"Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.");if(!r.has(d,o))throw new e.Error(403,"Access denied. Operator "+o+" not allowed in a restricted collection.");r.each(r.keys(n),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),r.contains(a,e)||a.push(e)})});var u={transform:null};l._validators.fetchAllFields||(u.fields={},r.each(l._validators.fetch,function(e){u.fields[e]=1}));var f=l._collection.findOne(o,u);if(!f)return 0;var _;if(r.any(l._validators.update.deny,function(e){return _||(_=s(e,f)),e(n,_,a,t)}))throw new e.Error(403,"Access denied");if(r.all(l._validators.update.allow,function(e){return _||(_=s(e,f)),!e(n,_,a,t)}))throw new e.Error(403,"Access denied");return l._collection.update.call(l._collection,o,t,c)};var d={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};_.Collection.prototype._validatedRemove=function(n,o){var t=this,i={transform:null};t._validators.fetchAllFields||(i.fields={},r.each(t._validators.fetch,function(e){i.fields[e]=1}));var c=t._collection.findOne(o,i);if(!c)return 0;if(r.any(t._validators.remove.deny,function(e){return e(n,s(e,c))}))throw new e.Error(403,"Access denied");if(r.all(t._validators.remove.allow,function(e){return!e(n,s(e,c))}))throw new e.Error(403,"Access denied");return t._collection.remove.call(t._collection,o)},e.Collection=_.Collection}.call(this),"undefined"==typeof Package&&(Package={}),Package.mongo={Mongo:_}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,a=Package.tracker.Tracker,i=Package.tracker.Deps,n=Package.ejson.EJSON,r;(function(){var e=function(e){return void 0===e?"undefined":n.stringify(e)},i=function(e){return void 0===e||"undefined"===e?void 0:n.parse(e)};r=function(e){if(e)if("string"==typeof e)r._registerDictForMigrate(e,this),this.keys=r._loadMigratedDict(e)||{};else{if("object"!=typeof e)throw new Error("Invalid ReactiveDict argument: "+e);this.keys=e}else this.keys={};this.keyDeps={},this.keyValueDeps={}},t.extend(r.prototype,{set:function(a,i){var n=this;i=e(i);var r="undefined";if(t.has(n.keys,a)&&(r=n.keys[a]),i!==r){n.keys[a]=i;var s=function(e){e&&e.changed()};s(n.keyDeps[a]),n.keyValueDeps[a]&&(s(n.keyValueDeps[a][r]),s(n.keyValueDeps[a][i]))}},setDefault:function(e,t){var a=this;void 0===a.keys[e]&&a.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),i(t.keys[e])},equals:function(r,s){var c=this,o=null;if("undefined"!=typeof Mongo&&(o=Mongo.ObjectID),!("string"==typeof s||"number"==typeof s||"boolean"==typeof s||"undefined"==typeof s||s instanceof Date||o&&s instanceof o||null===s))throw new Error("ReactiveDict.equals: value must be scalar");var u=e(s);if(a.active){c._ensureKey(r),t.has(c.keyValueDeps[r],u)||(c.keyValueDeps[r][u]=new a.Dependency);var d=c.keyValueDeps[r][u].depend();d&&a.onInvalidate(function(){c.keyValueDeps[r][u].hasDependents()||delete c.keyValueDeps[r][u]})}var f=void 0;return t.has(c.keys,r)&&(f=i(c.keys[r])),n.equals(f,s)},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new a.Dependency,t.keyValueDeps[e]={})},_getMigrationData:function(){return this.keys}})}).call(this),function(){if(r._migratedDictData={},r._dictsToMigrate={},r._loadMigratedDict=function(e){return t.has(r._migratedDictData,e)?r._migratedDictData[e]:null},r._registerDictForMigrate=function(e,a){if(t.has(r._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);r._dictsToMigrate[e]=a},e.isClient&&Package.reload){var a=Package.reload.Reload._migrationData("reactive-dict");a&&a.dicts&&(r._migratedDictData=a.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var e=r._dictsToMigrate,t={};for(var a in e)t[a]=e[a]._getMigrationData();return[!0,{dicts:t}]})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:r}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.tracker.Tracker,o=Package.tracker.Deps,a=Package["reactive-dict"].ReactiveDict,r=Package.templating.Template,i=Package["iron:core"].Iron,u=Package.blaze.Blaze,s=Package.blaze.UI,c=Package.blaze.Handlebars,l=Package.htmljs.HTML,p,d;(function(){var t=i.utils.assert,n=function(){for(var t={},e=o.currentComputation;e;)t[String(e._id)]=!0,e=e._parent;return t},a=function(e){var o=n(),a=Object.keys(e._dependentsById);a.forEach(function(e){t(!o[e],"\n\nYou called wait() after calling ready() inside the same computation tree.\n\nYou can fix this problem in two possible ways:\n\n1) Put all of your wait() calls before any ready() calls.\n2) Put your ready() call in its own computation with Deps.autorun.")})};p=function(){this._readyDep=new o.Dependency,this._comps=[],this._notReadyCount=0},p.prototype.wait=function(t){var n=this,r=o.currentComputation;a(n._readyDep),o.nonreactive(function(){var a=null,i=o.autorun(function(e){var o=!!t(),r=n._notReadyCount;e.firstRun&&!o?n._notReadyCount++:null!==a&&o!==a&&o===!0?n._notReadyCount--:null!==a&&o!==a&&o===!1&&n._notReadyCount++,a=o,0===r&&n._notReadyCount>0?n._readyDep.changed():r>0&&0===n._notReadyCount&&n._readyDep.changed()});n._comps.push(i),r&&r.onInvalidate(function(){o.afterFlush(function(){i.stop(),n._comps.splice(e.indexOf(n._comps,i),1),a===!1&&(n._notReadyCount--,0===n._notReadyCount&&n._readyDep.changed())})})})},p.prototype.ready=function(){return this._readyDep.depend(),0===this._notReadyCount},p.prototype.stop=function(){e.each(this._comps,function(t){t.stop()}),this._comps=[]},i.WaitList=p}).call(this),function(){var t=i.utils.debug("iron:controller"),n=i.Layout,o=i.DynamicTemplate,a=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};d=function(t){var e=this;this.options=t||{},this._layout=this.options.layout||new n(this.options),this._isController=!0,this._layout._setLookupHost(this);var o=d._collectEventMaps.call(this.constructor);this._layout.events(o,this),this.init(t)},d.prototype.layout=function(t,n){var o=this;return this._layout.template(t),n&&e.has(n,"data")&&this._layout.data(a(n.data,this)),{data:function(t){return o._layout.data(a(t,o))}}},d.prototype.render=function(t,e){var n=this;e&&"undefined"!=typeof e.data&&(e.data=a(e.data,this));var o=this._layout.render(t,e);return{data:function(t){return o.data(a(t,n))}}},d.prototype.beginRendering=function(t){return this._layout.beginRendering(t)},d.extend=function(t){return i.utils.extend(this,t)},d.events=function(t){return this._eventMap=t,this};var s=function(t,n){var o={};return t.__super__&&e.extend(o,s(t.__super__.constructor,n)),e.has(t,n)?e.extend(o,t[n]):o};d._collectEventMaps=function(){return s(this,"_eventMap")},d._helpers={},d.helpers=function(t){return e.extend(this._helpers,t),this},"undefined"!=typeof r&&(i.controller=function(){return o.findLookupHostWithProperty(u.getView(),"_isController")},r.registerHelper("get",function(t){var e=i.controller();return e&&e.state?e.state.get(t):void 0})),i.Controller=d}.call(this),function(){var t=i.Layout,n=i.utils.debug("iron:controller"),o=i.utils.defaultValue,r=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};d.prototype.init=function(t){this._waitlist=new p,this.state=new a},d.prototype.insert=function(t){return this._layout.insert.apply(this._layout,arguments)},d.prototype.wait=function(t){var n=this;if(t)return e.isArray(t)?e.each(t,function o(t){n.wait(t)}):this._waitlist.wait(t.ready?function(){return t.ready()}:t),this},d.prototype.ready=function(){return this._waitlist.ready()},d.prototype.stop=function(){this._waitlist.stop()}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:controller"]={}}();

!function(){var t=Package.underscore._,e=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.blaze.Blaze,n=Package.blaze.UI,i=Package.blaze.Handlebars,a=Package.templating.Template,u=Package.ejson.EJSON,s=Package.meteor.Meteor,l=Package["iron:core"].Iron,p=Package.htmljs.HTML,c,h,f,d,y;(function(){f=new s.EnvironmentVariable}).call(this),function(){d=["get","post","put","delete"]}.call(this),function(){var e=l.Controller,o=l.Url,r=l.MiddlewareStack,n=l.utils.assert;h=e.extend({constructor:function(e){h.__super__.constructor.apply(this,arguments),e=e||{},this.options=e,this._onStopCallbacks=[],this.route=e.route,this.params=[];var o=this.lookupOption("data");"function"==typeof o?this.data=t.bind(o,this):"undefined"!=typeof o&&(this.data=function(){return o}),this.init(e)}}),h.prototype.lookupOption=function(e){if(this.route&&this.route.options&&t.has(this.route.options,e))return this.route.options[e];if(t.has(this.options,e))return this.options[e];if("undefined"!=typeof this[e])return this[e];var o=f.get();return o&&t.has(o,e)?o[e]:this.router&&this.router.options&&t.has(this.router.options,e)?this.router.options[e]:void 0},h.prototype.configureFromUrl=function(t,e,o){n("string"==typeof t,"url must be a string"),e=e||{},this.request=e.request||{},this.response=e.response||{},this.url=e.url||t,this.originalUrl=e.originalUrl||t,this.method=this.request.method,this.route&&this.setParams(this.route.params(t),o)},h.prototype._collectHooks=function(){var e=this,o=t.toArray(arguments),r=function(o){if(!o)return[];var r=e.router.lookupHook,n=t.isArray(o)?o:[o];return t.map(n,function(t){return r(t)})},n=function(e,o){var i=[];return e.__super__&&(i=i.concat(n(e.__super__.constructor,o))),t.has(e.prototype,o)?i.concat(r(e.prototype[o])):i},i=function(t){for(var e=0;e<o.length;e++)t(o[e])},a=[];i(function(t){var o=e.route&&e.route.getName(),r=e.router.getHooks(t,o);a=a.concat(r)});var u=[];i(function(t){var o=n(e.constructor,t);u=u.concat(o)});var s=[];i(function(o){if(t.has(e,o)){var n=r(e[o]);s=s.concat(n)}});var l=[];e.route&&i(function(t){var o=r(e.route.options[t]);l=l.concat(o)});var p=a.concat(l).concat(u).concat(s);return p},h.prototype.runHooks=function(){for(var t=this._collectHooks.apply(this,arguments),e=0,o=t.length;o>e;e++){var r=t[e];r.call(this)}return t.length},h.prototype.getParams=function(){return this.params},h.prototype.setParams=function(t){return this.params=t,this},l.RouteController=h}.call(this),function(){var r=l.Controller,n=l.Url,i=l.MiddlewareStack,a=l.utils.debug("iron-router:RouteController");if(h.prototype.init=function(t){h.__super__.init.apply(this,arguments),this._computation=null,this._paramsDep=new e.Dependency,this.location=l.Location},h.prototype.getParams=function(){return this._paramsDep.depend(),this.params},h.prototype.setParams=function(e,o){var r=function(e,r){if(!(e instanceof Array))throw new Error("you called equals with a non array value in setParams");if(!(r instanceof Array))return!1;if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(!u.equals(e[n],r[n],o))return!1;var i=t.keys(e),a=t.keys(r),s;if(i.length!==a.length)return!1;for(var n=0;n<i.length;n++){if(s=i[n],!t.has(r,s))return!1;if(!u.equals(e[s],r[s]))return!1}return!0};if(!r(this.params,e))return this.params=e,o=o||{},o.reactive!==!1&&this._paramsDep.changed(),this},h.prototype.dispatch=function(t,e,r){if(this._computation&&!this._computation.stopped)throw new Error("RouteController computation is already running. Stop it first.");var n=this;return o.nonreactive(function(){o.autorun(function(o){n._computation=o,t.dispatch(e,n,r)})}),n},h.prototype._runRoute=function(e,r,n){var a=this,u=this._collectHooks("subscriptions");t.each(u,function(t){a.wait(t.call(a))});var s=this._collectHooks("waitOn");t.each(s,function(t){a.wait(t.call(a))});var p=s.length>0,c,f,d=function(){return o.nonreactive(function(){return a._layout.template()})},y=function(){return o.nonreactive(function(){var t=a._layout._regions.main;return t&&t.template()})},m=d(),_=y();this.beginRendering(function R(e){if(!a.isStopped){var o=d(),r=y();if(m!==o||_!=r){var n=a._layout.regionKeys(),i=t.difference(n,e);t.each(i,function(t){a._layout.clear(t)})}}}),this.layout(this.lookupOption("layoutTemplate"),{data:this.lookupOption("data")});var g=new i,v=new i,k=new i;v.append(this._collectHooks("onRun","load"),{where:"client"}),k.append(this._collectHooks("onRerun"),{where:"client"}),g.append(function b(t,e,o){this._computation.firstRun&&!h._hasJustReloaded?(h._hasJustReloaded=!1,v.length>0?v.dispatch(t.url,this,o):o()):o()},function C(t,e,o){this._computation.firstRun?o():k.length>0?k.dispatch(t.url,this,o):o()},{where:"client"}),p&&g.push(l.Router.hooks.loading.bind(a));var w=this._collectHooks("onBeforeAction","before");g.append(w,{where:"client"}),0===e._actionStack.length&&e._actionStack.push(e._path,"action",e.options),g=g.concat(e._actionStack),this._rendered=!1,g.dispatch(r,this,n),o.afterFlush(function(){l.utils.warn(a._rendered||a.isStopped,"Route dispatch never rendered. Did you forget to call this.next() in an onBeforeAction?")}),this.runHooks("onAfterAction","after")},h.prototype.action=function(){this.render()},h.prototype.lookupTemplate=function(){return this.lookupOption("template")||this.router&&this.router.toTemplateName(this.route.getName())},h.prototype.lookupRegionTemplates=function(){return this.lookupOption("yieldRegions")||this.lookupOption("regionTemplates")||this.lookupOption("yieldTemplates")||{}},h.prototype.render=function(t,e){if(this._rendered=!0,0===arguments.length){var t=this.lookupTemplate(),o=h.__super__.render.call(this,t);return this.renderRegions(),o}return h.__super__.render.call(this,t,e)},h.prototype.renderRegions=function(){var e=this,o=this.lookupRegionTemplates();a("regionTemplates: "+JSON.stringify(o)),t.each(o,function(t,o){e.render(o,t)})},h.prototype.stop=function(){h.__super__.stop.call(this),this._computation&&this._computation.stop(),this.runHooks("onStop","unload"),this.isStopped=!0},h.prototype.redirect=function(){return this.router.go.apply(this.router,arguments)},h.prototype.subscribe=function(){var e=this,o=s.subscribe.apply(this,arguments);return t.extend(o,{wait:function(){e.wait(this)}})},s._reload){s._reload.onMigrate("iron-router",function(){return[!0,!0]});var p=s._reload.migrationData("iron-router");h._hasJustReloaded=p}}.call(this),function(){var e=l.Url,o=l.MiddlewareStack,r=l.utils.assert;y=function(e,r,n){var i=function(t,e,o){var r=this;r.request=t,r.response=e,i.dispatch(t.url,r,o)};return"object"==typeof r&&(n=r,r=n.action),n=n||{},"string"==typeof e&&"/"!==e.charAt(0)&&(e=n.path?n.path:"/"+e),t.extend(i,this),n=i.options=n||{},i._actionStack=new o,i._beforeStack=new o,i._beforeStack.append(i.options.onBeforeAction),i._beforeStack.append(i.options.before),i._afterStack=new o,i._afterStack.append(i.options.onAfterAction),i._afterStack.append(i.options.after),i._methods={},"string"==typeof r?i._actionStack.push(e,t.extend(n,{template:r})):("function"==typeof r||"object"==typeof r)&&i._actionStack.push(e,r,n),i._path=e,i},y.prototype.getName=function(){return this.handler&&this.handler.name},y.prototype.findControllerConstructor=function(){var t=this,e=function(t,e){e=e||{};var o=l.utils.resolve(t);if(o&&h.prototype.isPrototypeOf(o.prototype))return o;if(e.supressErrors!==!0)throw new Error("RouteController '"+t+"' is not defined.");return void 0},o=function(e){return t.router.toControllerName(e)},r,n=this.getName();return"function"==typeof this.options.controller?this.options.controller:"string"==typeof this.options.controller?e(this.options.controller):n&&(r=e(o(n),{supressErrors:!0}))?r:h},y.prototype.createController=function(t){t=t||{};var e=this.findControllerConstructor();t.route=this;var o=new e(t);return o},y.prototype.setControllerParams=function(t,e){},y.prototype.dispatch=function(t,e,o){return r(e._runRoute,"context doesn't have a _runRoute method"),e._runRoute(this,t,o)},y.prototype.path=function(t,e){return this.handler.resolve(t,e)},y.prototype.url=function(t,e){var o=this.path(t,e),r=e&&e.host||s.absoluteUrl();return"/"===r.charAt(r.length-1),r=r.slice(0,r.length-1),r+o},y.prototype.params=function(t){return this.handler.params(t)},d.forEach(function(t){y.prototype[t]=function(e){return this._methods[t]=!0,this._actionStack.push(this._path,e,{name:this.getName()+"_"+t.toLowerCase(),method:t,where:this.handler.where,mount:!1}),this}}),l.Route=y}.call(this),function(){var e=l.MiddlewareStack,o=l.Url,r=l.Layout,n=l.utils.warn,i=l.utils.assert;c=function(o){function r(t,e,o){r.dispatch(t.url,{request:t,response:e},o)}return r._stack=new e,r._globalHooks={},r.routes=[],r.routes._byPath={},this.configure.call(r,o),t.extend(r,this),this.init.call(r,o),s.startup(function(){s.defer(function(){r.options.autoStart!==!1&&r.start()})}),r},c.prototype.init=function(t){},c.prototype.configure=function(e){var o=this;e=e||{};var r=function(e){return e?t.isArray(e)?e:[e]:[]};return t.each(l.Router.HOOK_TYPES,function n(i){e[i]&&(t.each(r(e[i]),function a(t){o.addHook(i,t)}),delete e[i])}),this.options=this.options||{},t.extend(this.options,e),this},c.prototype.map=function(t){return t.call(this)},c.prototype.route=function(t,e,o){var r=function(t){return Object.prototype.toString.call(t)};i("[object String]"===r(t)||"[object RegExp]"===r(t),"Router.route requires a path that is a string or regular expression."),"object"==typeof e&&(o=e,e=o.action);var n=new y(t,e,o);o=o||{},o.mount=!1;var a=this._stack.push(t,n,o);return a.route=n,n.handler=a,n.router=this,i(!this.routes._byPath[a.path],"A route for the path "+JSON.stringify(a.path)+" already exists by the name of "+JSON.stringify(a.name)+"."),this.routes._byPath[a.path]=n,this.routes.push(n),"string"==typeof a.name&&(this.routes[a.name]=n),n},c.prototype.findFirstRoute=function(t){for(var e=0;e<this.routes.length;e++)if(this.routes[e].handler.test(t,{}))return this.routes[e];return null},c.prototype.path=function(t,e,o){var r=this.routes[t];return n(r,"You called Router.path for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(e,o)},c.prototype.url=function(t,e,o){var r=this.routes[t];return n(r,"You called Router.url for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(e,o)},c.prototype.createController=function(t,e){var o=this.findFirstRoute(t),r;return e=e||{},r=o?o.createController({layout:this._layout}):new h({layout:this._layout}),r.router=this,r.configureFromUrl(t,e,{reactive:!1}),r},c.prototype.setTemplateNameConverter=function(t){return this._templateNameConverter=t,this},c.prototype.setControllerNameConverter=function(t){return this._controllerNameConverter=t,this},c.prototype.toTemplateName=function(t){return this._templateNameConverter?this._templateNameConverter(t):l.utils.classCase(t)},c.prototype.toControllerName=function(t){return this._controllerNameConverter?this._controllerNameConverter(t):l.utils.classCase(t)+"Controller"},c.prototype.addHook=function(e,o,r){var n=this;r=r||{};var i=function(e){return e?t.isArray(e)?e:[e]:[]};r.only&&(r.only=i(r.only)),r.except&&(r.except=i(r.except));var a=this._globalHooks[e]=this._globalHooks[e]||[],u=function(){var t=this,e=arguments;return f.withValue(r,function(){return n.lookupHook(o).apply(t,e)})};return a.push({options:r,hook:u}),this},c.prototype.lookupHook=function(e){var o=e;if(t.isFunction(o))return o;if(t.isString(o)&&t.isFunction(l.Router.hooks[o]))return l.Router.hooks[o];throw new Error("No hook found named: "+e)},c.prototype.getHooks=function(e,o){var r=this,n=[];return t.each(this._globalHooks[e],function(e){var r=e.options;return r.except&&t.include(r.except,o)?[]:r.only&&!t.include(r.only,o)?[]:void n.push(e.hook)}),n},c.HOOK_TYPES=["onRun","onRerun","onBeforeAction","onAfterAction","onStop","waitOn","load","before","after","unload"],c.hooks={},c.plugins={},c.HOOK_TYPES.forEach(function(t){c.prototype[t]=function(e,o){this.addHook(t,e,o)}}),c.prototype.plugin=function(t,e){var o;if("function"==typeof t?o=t:"string"==typeof t&&(o=l.Router.plugins[t]),!o)throw new Error("No plugin found named "+JSON.stringify(t));return o.call(this,this,e),this},l.Router=c}.call(this),function(){if("undefined"!=typeof a)var t=new a("DefaultLoadingTemplate",function(){return"Loading..."}),e=new a("DefaultDataNotFoundTemplate",function(){return"Data not found..."});c.hooks.loading=function(){if(this.ready())return void this.next();var e=this.lookupOption("loadingTemplate");this.render(e||t),this.renderRegions()},c.hooks.dataNotFound=function(){if(!this.ready())return void this.next();var t=this.lookupOption("data"),o,r=this.lookupOption("notFoundTemplate");return"function"!=typeof t||(o=t.call(this))?void this.next():(this.render(r||e),void this.renderRegions())}}.call(this),function(){var e=l.utils.warn,o=l.DynamicTemplate,i=l.utils.debug("iron:router <helpers>");n.registerHelper("Router",new r.Template("Router",function(){return c.createView()})),n.registerHelper("pathFor",function(o){var r;arguments.length>1&&(r=arguments[0],o=arguments[1]||{});var n=o&&o.hash;n=n||{};var i="",a=n.query,s=n.hash,r=r||n.route,l=t.extend({},n.data||this),p=c.routes[r];return e(p,"pathFor couldn't find a route named "+JSON.stringify(r)),p&&(t.each(p.handler.compiledUrl.keys,function(e){var o=e.name;t.has(n,o)&&(l[o]=u.clone(n[o]),delete n[o])}),i=p.path(l,{query:a,hash:s})),i}),n.registerHelper("urlFor",function(o){var r;arguments.length>1&&(r=arguments[0],o=arguments[1]||{});var n=o&&o.hash;n=n||{};var i="",a=n.query,s=n.hash,r=r||n.route,l=t.extend({},n.data||this),p=c.routes[r];return e(p,"urlFor couldn't find a route named "+JSON.stringify(r)),p&&(t.each(p.handler.compiledUrl.keys,function(e){var o=e.name;t.has(n,o)&&(l[o]=u.clone(n[o]),delete n[o])}),i=p.url(l,{query:a,hash:s})),i}),n.registerHelper("linkTo",new r.Template("linkTo",function(){var n=this,i=o.getInclusionArguments(this);if("object"!=typeof i)throw new Error("linkTo options must be key value pairs such as {{#linkTo route='my.route.name'}}. You passed: "+JSON.stringify(i));i=i||{};var a="",s=i.query,l=i.hash,h=i.route,f=t.extend({},i.data||o.getParentDataContext(this)),d=c.routes[h],y;e(d,"linkTo couldn't find a route named "+JSON.stringify(h)),d&&(t.each(d.handler.compiledUrl.keys,function(e){var o=e.name;t.has(i,o)&&(f[o]=u.clone(i[o]),delete i[o])}),a=d.path(f,{query:s,hash:l}));var m=t.omit(i,"route","query","hash","data");return m.href=a,r.With(function(){return o.getParentDataContext(n)},function(){return p.A(m,n.templateContentBlock)})}))}.call(this),function(){var e=l.MiddlewareStack,r=l.Url,n=l.Layout,i=l.utils.assert,a="__IronRouterNotFound__",u="__IronRouterNoRoutes__";c.prototype.init=function(t){var e=this;e._currentController=null,e._currentRoute=null,e._currentDep=new o.Dependency,e._locationComputation=null,e._layout=new n({template:e.options.layoutTemplate}),s.startup(function(){setTimeout(function t(){e.options.autoRender!==!1&&e.insert({el:document.body})})})},c.prototype.insert=function(t){return this._layout.insert(t),this},c.prototype.createView=function(){return this._layout.create()},c.prototype.lookupNotFoundTemplate=function(){return this.options.notFoundTemplate?this.options.notFoundTemplate:0===this.routes.length?u:a},c.prototype.lookupLayoutTemplate=function(){return this.options.layoutTemplate},c.prototype.dispatch=function(t,e,o){var r=this;i("string"==typeof t,"expected url string in router dispatch");var n=this._currentController,s=this.findFirstRoute(t),l=this._currentRoute;return this._currentRoute=s,n&&s&&l===s?n.configureFromUrl(t,e):n=this.createController(t,e),this._currentController&&this._currentController.stop(),this._currentController=n,n.dispatch(r._stack,t,function(t){if(t)throw t;if(!n.isHandled()&&n.willBeHandledOnServer())return void(window.location=n.url);if(n.isHandled()||n.willBeHandledOnServer())return o&&o(t);this.layout(this.lookupOption("layoutTemplate"),{data:{url:this.url}});var e=this.lookupOption("notFoundTemplate");return e||(e=0===r.routes.length?u:a),this.render(e,{data:{url:this.url}}),void this.renderRegions()}),this._currentController==n&&this._currentDep.changed(),n},c.prototype.current=function(){return this._currentDep.depend(),this._currentController},c.prototype._scrollToHash=function(t){try{var e=$(t);$("html, body").scrollTop(e.offset().top)}catch(o){}},c.prototype.start=function(){var t=this,e;t._locationComputation=o.autorun(function r(o){var r,n=l.Location.get(),i,a,u,s=t._currentController;!s||e&&e.path!==n.path?(r=t.dispatch(n.href),r.willBeHandledOnServer()&&n.cancelUrlChange()):(t._scrollToHash(n.hash),s.configureFromUrl(n.href)),e=n})},c.prototype.stop=function(){this._isStarted&&(this._locationComputation&&this._locationComputation.stop(),this._currentController&&this._currentController.stop(),this._isStarted=!1)},c.prototype.go=function(e,o,r){var n=this,a=/^\/|http/,u;if(r=r||{},a.test(e))u=e;else{var s=n.routes[e];i(s,"No route found named "+JSON.stringify(e)),u=s.path(o,t.extend(r,{throwOnMissingParams:!0}))}l.Location.go(u,r)}}.call(this),function(){c.plugins.loading=function(t,e){t.onBeforeAction("loading",e)},c.plugins.dataNotFound=function(t,e){t.onBeforeAction("dataNotFound",e)}}.call(this),function(){c=new l.Router,s.isServer&&c.onBeforeAction(l.Router.bodyParser.json())}.call(this),function(){a.__checkName("__IronRouterNotFound__"),a.__IronRouterNotFound__=new a("Template.__IronRouterNotFound__",function(){var t=this;return p.DIV({style:"width: 600px; margin: 0 auto; padding: 20px;"},"\n    ",p.DIV({style:"font-size: 18pt; color: #999;"},"\n      Oops, looks like there's no route on the client or the server for url: \"",r.View(function(){return Spacebars.mustache(t.lookup("url"))}),'."\n    '),"\n  ")}),a.__checkName("__IronRouterNoRoutes__"),a.__IronRouterNoRoutes__=new a("Template.__IronRouterNoRoutes__",function(){var t=this;return p.Raw('<div style="font-family: helvetica; color: #777; max-width: 600px; margin: 20px auto;">\n      <h1 style="text-align: center; margin: 0; font-size: 48pt;">\n        iron:router\n      </h1>\n      <p style="text-align: center; font-size: 1.3em;">\n        Organize your Meteor application.\n      </p>\n      <div style="margin: 50px 0px;">\n        <pre style="background: #f2f2f2; margin: 0; padding: 10px;">\nRouter.route(\'/\', function () {\n  this.render(\'Home\', {\n    data: function () { return Items.findOne({_id: this.params._id}) }\n  });\n});\n        </pre>\n      </div>\n      <div style="margin: 50px 0px;">\n        Check it out on Github:<br>\n        <a href="https://github.com/eventedmind/iron-router" target="_blank">https://github.com/eventedmind/iron-router</a>\n        <br>\n        <br>\n        And check out the new Guide:<br>\n        <a href="https://eventedmind.github.io/iron-router" target="_blank">\n          https://eventedmind.github.io/iron-router\n        </a>\n      </div>\n    </div>')})}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:router"]={Router:c,RouteController:h}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.coffeescript={}}();

!function(){var e=Package.meteor.Meteor,a=Package.underscore._,c=Package["reactive-dict"].ReactiveDict,n=Package.ejson.EJSON,i;(function(){i=new c("session")}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:i}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.handlebars={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.stylus={}}();

!function(){var e=Package.meteor.Meteor,t=Package.random.Random;(function(){var o="_localstorage_test_"+t.id(),a;try{window.localStorage&&(window.localStorage.setItem(o,o),a=window.localStorage.getItem(o),window.localStorage.removeItem(o))}catch(n){}o===a&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,o=Package.tracker.Tracker,t=Package.tracker.Deps,i=Package.random.Random,r=Package.ddp.DDP,a=Package.mongo.Mongo,c,l,u,s,g,f,d,m,_,p,k,h,v,w;(function(){c={},c._options={};var o=90,t=3600;u=6e5,s=1e4,c.config=function(o){if(e.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||e._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),n.has(o,"oauthSecretKey")){if(e.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(o.oauthSecretKey),o=n.omit(o,"oauthSecretKey")}var t=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays"];n.each(n.keys(o),function(e){if(!n.contains(t,e))throw new Error("Accounts.config: Invalid key: "+e)}),n.each(t,function(e){if(e in o){if(e in c._options)throw new Error("Can't set `"+e+"` more than once");c._options[e]=o[e]}}),e.isServer&&maybeStopExpireTokensInterval()},e.isClient&&(c.connection=e.connection,"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL&&(c.connection=r.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL))),e.users=new a.Collection("users",{_preventAutopublish:!0,connection:e.isClient?c.connection:e.connection}),e.startup(function(){var e=Package["service-configuration"].ServiceConfiguration;c.loginServiceConfiguration=e.configurations,c.ConfigError=e.ConfigError}),c.LoginCancelledError=function(e){this.message=e},c.LoginCancelledError.numericError=145546287,c.LoginCancelledError.prototype=new Error,c.LoginCancelledError.prototype.name="Accounts.LoginCancelledError",g=function(){return 24*(c._options.loginExpirationInDays||o)*60*60*1e3},c._tokenExpiration=function(e){return new Date(new Date(e).getTime()+g())},c._tokenExpiresSoon=function(e){var n=.1*g(),o=1e3*t;return n>o&&(n=o),new Date>new Date(e)-n}}).call(this),function(){f=!0;var o=["reset-password","verify-email","enroll-account"],t=function(e,t){n.each(o,function(n){var o;d=new RegExp("^\\#\\/"+n+"\\/(.*)$"),m=e.match(d),m&&(o=m[1],"reset-password"===n?c._resetPasswordToken=o:"verify-email"===n?c._verifyEmailToken=o:"enroll-account"===n&&(c._enrollAccountToken=o),t(o,n))})},i={},r=function(){c._enableAutoLogin()};t(window.location.hash,function(n,o){f=!1,window.location.hash="",e.startup(function(){i[o]&&i[o](n,r)})}),l={attemptToMatchHash:t},c.onResetPasswordLink=function(n){i["reset-password"]&&e._debug("Accounts.onResetPasswordLink was called more than once. Only one callback added will be executed."),i["reset-password"]=n},c.onEmailVerificationLink=function(n){i["verify-email"]&&e._debug("Accounts.onEmailVerificationLink was called more than once. Only one callback added will be executed."),i["verify-email"]=n},c.onEnrollmentLink=function(n){i["enroll-account"]&&e._debug("Accounts.onEnrollmentLink was called more than once. Only one callback added will be executed."),i["enroll-account"]=n}}.call(this),function(){e.userId=function(){return c.connection.userId()};var t=!1,i=new o.Dependency;c._setLoggingIn=function(e){t!==e&&(t=e,i.changed())},e.loggingIn=function(){return i.depend(),t},e.user=function(){var n=e.userId();return n?e.users.findOne(n):null},c.callLoginMethod=function(e){e=n.extend({methodName:"login",methodArguments:[{}],_suppressLoggingIn:!1},e),n.each(["validateResult","userCallback"],function(n){e[n]||(e[n]=function(){})});var o=n.once(e.userCallback),t=!1,i=function(e,n){c.connection.onReconnect=!e&&n&&n.token?function(){t=!0;var e=v();e&&(n={token:e,tokenExpires:w()}),n.tokenExpires||(n.tokenExpires=c._tokenExpiration(new Date)),c._tokenExpiresSoon(n.tokenExpires)?_():c.callLoginMethod({methodArguments:[{resume:n.token}],_suppressLoggingIn:!0,userCallback:function(e){var t=v();e&&t&&t===n.token&&_(),o(e)}})}:null},r=function(n,i){if(!t){if(c._setLoggingIn(!1),n||!i)return n=n||new Error("No result from call to "+e.methodName),void o(n);try{e.validateResult(i)}catch(r){return void o(r)}p(i.id,i.token,i.tokenExpires),o()}};e._suppressLoggingIn||c._setLoggingIn(!0),c.connection.apply(e.methodName,e.methodArguments,{wait:!0,onResultReceived:i},r)},_=function(){h(),c.connection.setUserId(null),c.connection.onReconnect=null},p=function(e,n,o){k(e,n,o),c.connection.setUserId(e)},e.logout=function(e){c.connection.apply("logout",[],{wait:!0},function(n,o){n?e&&e(n):(_(),e&&e())})},e.logoutOtherClients=function(n){c.connection.apply("getNewToken",[],{wait:!0},function(n,o){n||k(e.userId(),o.token,o.tokenExpires)}),c.connection.apply("removeOtherTokens",[],{wait:!0},function(e){n&&n(e)})};var r=c.connection.subscribe("meteor.loginServiceConfiguration");c.loginServicesConfigured=function(){return r.ready()};var a=[],l=null;c.onPageLoadLogin=function(e){l?e(l):a.push(e)},c._pageLoadLogin=function(o){return l?void e._debug("Ignoring unexpected duplicate page load login attempt info"):(n.each(a,function(e){e(o)}),a=[],void(l=o))},Package.blaze&&(Package.blaze.Blaze.Template.registerHelper("currentUser",function(){return e.user()}),Package.blaze.Blaze.Template.registerHelper("loggingIn",function(){return e.loggingIn()}))}.call(this),function(){var n;e.loginWithToken=function(e,n){c.callLoginMethod({methodArguments:[{resume:e}],userCallback:n})},c._enableAutoLogin=function(){f=!0,g()};var o="Meteor.loginToken",t="Meteor.loginTokenExpires",r="Meteor.userId";c._isolateLoginTokenForTest=function(){o+=i.id(),r+=i.id()},k=function(i,a,l){e._localStorage.setItem(r,i),e._localStorage.setItem(o,a),l||(l=c._tokenExpiration(new Date)),e._localStorage.setItem(t,l),n=a},h=function(){e._localStorage.removeItem(r),e._localStorage.removeItem(o),e._localStorage.removeItem(t),n=null},v=c._storedLoginToken=function(){return e._localStorage.getItem(o)},w=function(){return e._localStorage.getItem(t)};var a=function(){return e._localStorage.getItem(r)},l=function(){var n=e._localStorage.getItem(t);n&&c._tokenExpiresSoon(new Date(n))&&h()};if(f){l();var u=v();if(u){var s=a();s&&c.connection.setUserId(s),e.loginWithToken(u,function(n){n&&(e._debug("Error logging in with token: "+n),_()),c._pageLoadLogin({type:"resume",allowed:!n,error:n,methodName:"login",methodArguments:[{resume:u}]})})}}n=u;var g=function(){if(f){var o=v();n!=o&&(o?e.loginWithToken(o,function(e){e&&_()}):e.logout()),n=o}};setInterval(g,3e3)}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-base"]={Accounts:c,AccountsTest:l}}();

!function(){var e=Package.meteor.Meteor,a=Package.underscore._,n=Package.blaze.Blaze,t=Package.blaze.UI,r=Package.blaze.Handlebars,c=Package.tracker.Tracker,g=Package.tracker.Deps,i=Package.htmljs.HTML,u;(function(){function n(e,a){var n=e;return a.forEach(function(e,a){var t=a+1;n=n.replace("{$"+t+"}",e)}),n}var c={},i="",o="en",f="",l=!1,s=new g.Dependency;u=function(){s.depend();var e,t=a.toArray(arguments);"object"==typeof t[t.length-1]&&t.pop();var e=t[0];if(t.shift(),"string"!=typeof e)return"";var r=c[i]&&c[i][e]||c[o]&&c[o][e]||l&&a.template(f,{language:i,defaultLanguage:o,label:e})||"";return r=n(r,t)},e.isClient&&(t?t.registerHelper("i18n",function(){return u.apply(this,arguments)}):r&&r.registerHelper("i18n",function(){return u.apply(this,arguments)})),u.setLanguage=function(e){i=e,s.changed()},u.setDefaultLanguage=function(e){o=e,s.changed()},u.getLanguage=function(){return s.depend(),i},u.showMissing=function(e){e?(f="string"==typeof e?e:"[<%= label %>]",l=!0):(f="",l=!1)},u.map=function(e,a){c[e]||(c[e]={}),p(e,"",!1,a),s.changed()};var p=function(e,n,t,r){"string"==typeof r?c[e][n]=r:"object"==typeof r&&(t&&(n+="."),a.each(r,function(a,t){p(e,n+t,!0,a)}))}}).call(this),"undefined"==typeof Package&&(Package={}),Package["anti:i18n"]={i18n:u}}();

!function(){var n=Package.meteor.Meteor,o=Package.session.Session,e=Package["accounts-base"].Accounts,i=Package.underscore._,t=Package.templating.Template,s=Package["anti:i18n"].i18n,r=Package.blaze.Blaze,a=Package.blaze.UI,l=Package.blaze.Handlebars,u=Package.htmljs.HTML,c,g;(function(){e.ui||(e.ui={}),e.ui._options||(e.ui._options={requestPermissions:{},extraSignupFields:[]}),e.ui.navigate=function(n,o){window.Router&&i.isFunction(Router.go)&&Router.go(n,o)},e.ui.config=function(n){var o=["passwordSignupFields","requestPermissions","extraSignupFields","requestOfflineToken"];if(i.each(i.keys(n),function(n){if(!i.contains(o,n))throw new Error("Accounts.ui.config: Invalid key: "+n)}),n.extraSignupFields=n.extraSignupFields||[],n.passwordSignupFields){if(!i.contains(["USERNAME_AND_EMAIL_CONFIRM","USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY","EMAIL_ONLY"],n.passwordSignupFields))throw new Error("Accounts.ui.config: Invalid option for `passwordSignupFields`: "+n.passwordSignupFields);if(e.ui._options.passwordSignupFields)throw new Error("Accounts.ui.config: Can't set `passwordSignupFields` more than once");e.ui._options.passwordSignupFields=n.passwordSignupFields}if(n.requestPermissions){if(i.each(n.requestPermissions,function(n,o){if(e.ui._options.requestPermissions[o])throw new Error("Accounts.ui.config: Can't set `requestPermissions` more than once for "+o);if(!(n instanceof Array))throw new Error("Accounts.ui.config: Value for `requestPermissions` must be an array");e.ui._options.requestPermissions[o]=n}),"object"!=typeof n.extraSignupFields||!n.extraSignupFields instanceof Array)throw new Error("Accounts.ui.config: `extraSignupFields` must be an array.");n.extraSignupFields&&i.each(n.extraSignupFields,function(n,o){if(!n.fieldName||!n.fieldLabel)throw new Error("Accounts.ui.config: `extraSignupFields` objects must have `fieldName` and `fieldLabel` attributes.");"undefined"==typeof n.visible&&(n.visible=!0),e.ui._options.extraSignupFields[o]=n})}},e.ui._passwordSignupFields=function(){return e.ui._options.passwordSignupFields||"EMAIL_ONLY"}}).call(this),function(){s.map("en",{_resetPasswordDialog:{title:"Reset your password",newPassword:"New password",cancel:"Cancel",submit:"Set password"},_enrollAccountDialog:{title:"Choose a password",newPassword:"New password",cancel:"Close",submit:"Set password"},_justVerifiedEmailDialog:{verified:"Email address verified",dismiss:"Dismiss"},_loginButtonsMessagesDialog:{dismiss:"Dismiss"},_loginButtonsLoggedInDropdownActions:{password:"Change password",signOut:"Sign out"},_loginButtonsLoggedOutDropdown:{signIn:"Sign in",up:"up"},_loginButtonsLoggedOutPasswordServiceSeparator:{or:"or"},_loginButtonsLoggedOutPasswordService:{create:"Create",signIn:"Sign in",forgot:"Forgot password?",createAcc:"Create account"},_forgotPasswordForm:{email:"Email",reset:"Reset password"},_loginButtonsBackToLoginLink:{back:"Cancel"},_loginButtonsChangePassword:{submit:"Change password",cancel:"Cancel"},_loginButtonsLoggedOutSingleLoginButton:{signInWith:"Sign in with",configure:"Configure",login:"Login"},_loginButtonsLoggedInSingleLogoutButton:{signOut:"Sign out"},_loginButtonsLoggedOut:{noLoginServices:"No login services configured"},loginFields:{"username-or-email":"Username or Email",username:"Username",email:"Email",password:"Password"},signupFields:{username:"Username",email:"Email","email-opt":"Email (optional)",password:"Password","password-again":"Password (again)"}})}.call(this),function(){s.map("es",{_resetPasswordDialog:{title:"Restablece tu contraseña",cancel:"Cancelar",submit:"Guardar"},_enrollAccountDialog:{title:"Escribe una contraseña",cancel:"Cerrar",submit:"Guardar contraseña"},_justVerifiedEmailDialog:{verified:"Correo electrónico verificado",dismiss:"Cerrar"},_loginButtonsMessagesDialog:{dismiss:"Cerrar"},_loginButtonsLoggedInDropdownActions:{password:"Cambiar contraseña",signOut:"Cerrar sesión"},_loginButtonsLoggedOutDropdown:{signIn:"Iniciar sesión",up:"registrarse"},_loginButtonsLoggedOutPasswordServiceSeparator:{or:"o"},_loginButtonsLoggedOutPasswordService:{create:"Crear",signIn:"Iniciar sesión",forgot:"Ha olvidado su contraseña?",createAcc:"Registrarse"},_forgotPasswordForm:{email:"Correo electrónico",reset:"Restablecer contraseña"},_loginButtonsBackToLoginLink:{back:"Cancelar"},_loginButtonsChangePassword:{submit:"Cambiar contraseña",cancel:"Cancelar"},_loginButtonsLoggedOutSingleLoginButton:{signInWith:"Inicia sesión con",configure:"Configurar",login:""},_loginButtonsLoggedInSingleLogoutButton:{signOut:"Cerrar sesión"},_loginButtonsLoggedOut:{noLoginServices:"No hay ningún servicio configurado"},loginFields:{"username-or-email":"Usuario o contraseña",username:"Usuario",email:"Correo electrónico",password:"Contraseña"},signupFields:{username:"Usuario",email:"Correo electrónico","email-opt":"Correo elect. (opcional)",password:"Contraseña","password-again":"Contraseña (otra vez)"}})}.call(this),function(){s.map("ca",{_resetPasswordDialog:{title:"Restablir la contrasenya",cancel:"Cancel·lar",submit:"Guardar"},_enrollAccountDialog:{title:"Escriu una contrasenya",cancel:"Tancar",submit:"Guardar contrasenya"},_justVerifiedEmailDialog:{verified:"Adreça electrònica verificada",dismiss:"Tancar"},_loginButtonsMessagesDialog:{dismiss:"Tancar"},_loginButtonsLoggedInDropdownActions:{password:"Canviar contrasenya",signOut:"Tancar sessió"},_loginButtonsLoggedOutDropdown:{signIn:"Iniciar sessió",up:"Registrar-se"},_loginButtonsLoggedOutPasswordServiceSeparator:{or:"o bé"},_loginButtonsLoggedOutPasswordService:{create:"Crear",signIn:"Iniciar sessió",forgot:"Ha oblidat la contrasenya?",createAcc:"Registrar-se"},_forgotPasswordForm:{email:"Adreça electrònica",reset:"Restablir contrasenya"},_loginButtonsBackToLoginLink:{back:"Cancel·lar"},_loginButtonsChangePassword:{submit:"Canviar contrasenya",cancel:"Cancel·lar"},_loginButtonsLoggedOutSingleLoginButton:{signInWith:"Inicia sessió amb",configure:"Configurar",login:""},_loginButtonsLoggedInSingleLogoutButton:{signOut:"Tancar sessió"},_loginButtonsLoggedOut:{noLoginServices:"No hi ha cap servei configurat"},loginFields:{"username-or-email":"Usuari o contrasenya",username:"Usuari",email:"Adreça electrònica",password:"Contrasenya"},signupFields:{username:"Usuari",email:"Adreça electrònica","email-opt":"Adreça elect. (opcional)",password:"Contrasenya","password-again":"Contrasenya (un altre cop)"}})}.call(this),function(){s.map("fr",{_resetPasswordDialog:{title:"Réinitialiser mon mot de passe",newPassword:"Nouveau mot de passe",cancel:"Annuler",submit:"Définir le mot de passe"},_enrollAccountDialog:{title:"Choisir un mot de passe",newPassword:"Nouveau mot de passe",cancel:"Fermer",submit:"Définir le mot de passe"},_justVerifiedEmailDialog:{verified:"L'adresse email a été vérifiée",dismiss:"Fermer"},_loginButtonsMessagesDialog:{dismiss:"Fermer"},_loginButtonsLoggedInDropdownActions:{password:"Changer le mot de passe",signOut:"Déconnexion"},_loginButtonsLoggedOutDropdown:{signIn:"Connexion",up:"Inscription"},_loginButtonsLoggedOutPasswordServiceSeparator:{or:"ou"},_loginButtonsLoggedOutPasswordService:{create:"Créer",signIn:"Connexion",forgot:"Mot de passe oublié ?",createAcc:"Inscription"},_forgotPasswordForm:{email:"Email",reset:"Réinitialiser le mot de passe"},_loginButtonsBackToLoginLink:{back:"Annuler"},_loginButtonsChangePassword:{submit:"Changer le mot de passe",cancel:"Annuler"},_loginButtonsLoggedOutSingleLoginButton:{signInWith:"Se connecter avec",configure:"Configurer",login:"Connexion"},_loginButtonsLoggedInSingleLogoutButton:{signOut:"Déconnexion"},_loginButtonsLoggedOut:{noLoginServices:"Aucun service d'authentification n'est configuré"},loginFields:{"username-or-email":"Nom d'utilisateur ou email",username:"Nom d'utilisateur",email:"Email",password:"Mot de passe"},signupFields:{username:"Nom d'utilisateur",email:"Email","email-opt":"Email (optionnel)",password:"Mot de passe","password-again":"Mot de passe (confirmation)"}})}.call(this),function(){s.setDefaultLanguage("en"),c={setLanguage:function(n){return s.setLanguage(n)},getLanguage:function(){return s.getLanguage()},map:function(n,o){return s.map(n,o)}}}.call(this),function(){t.__define__("_loginButtons",function(){var n=this;return r.If(function(){return Spacebars.call(n.lookup("currentUser"))},function(){return["\n		",r.If(function(){return Spacebars.call(n.lookup("loggingIn"))},function(){return["\n			\n			",r.If(function(){return Spacebars.call(n.lookup("dropdown"))},function(){return["\n				",Spacebars.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n			"]},function(){return["\n				",u.DIV({"class":"login-buttons-with-only-one-button"},"\n					",Spacebars.include(n.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n				"),"\n			"]}),"\n		"]},function(){return["\n			",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedIn")),"\n		"]}),"\n	"]},function(){return["\n		",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOut")),"\n	"]})}),t.__define__("_loginButtonsLoggedIn",function(){var n=this;return r.If(function(){return Spacebars.call(n.lookup("dropdown"))},function(){return["\n		",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedInDropdown")),"\n	"]},function(){return["\n	",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedInSingleLogoutButton")),"\n	"]})}),t.__define__("_loginButtonsLoggedOut",function(){var n=this;return r.If(function(){return Spacebars.call(n.lookup("services"))},function(){return[" \n		",r.If(function(){return Spacebars.call(n.lookup("configurationLoaded"))},function(){return["\n			",r.If(function(){return Spacebars.call(n.lookup("dropdown"))},function(){return[" \n				",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutDropdown")),"\n			"]},function(){return["\n				",Spacebars.With(function(){return Spacebars.call(n.lookup("singleService"))},function(){return[" \n						",r.If(function(){return Spacebars.call(n.lookup("loggingIn"))},function(){return["\n							",Spacebars.include(n.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n						"]},function(){return["\n							",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n						"]}),"\n				"]}),"\n			"]}),"\n		"]}),"\n	"]},function(){return["\n		",u.DIV({"class":"no-services"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOut.noLoginServices")})),"\n	"]})}),t.__define__("_loginButtonsMessages",function(){var n=this;return[r.If(function(){return Spacebars.call(n.lookup("errorMessage"))},function(){return["\n		",u.DIV({"class":"alert alert-danger"},r.View(function(){return Spacebars.mustache(n.lookup("errorMessage"))})),"\n	"]}),"\n	",r.If(function(){return Spacebars.call(n.lookup("infoMessage"))},function(){return["\n		",u.DIV({"class":"alert alert-success no-margin"},r.View(function(){return Spacebars.mustache(n.lookup("infoMessage"))})),"\n	"]})]}),t.__define__("_loginButtonsLoggingIn",function(){var n=this;return[Spacebars.include(n.lookupTemplate("_loginButtonsLoggingInPadding")),u.Raw('\n	<div class="loading">&nbsp;</div>\n	'),Spacebars.include(n.lookupTemplate("_loginButtonsLoggingInPadding"))]}),t.__define__("_loginButtonsLoggingInPadding",function(){var n=this;return r.Unless(function(){return Spacebars.call(n.lookup("dropdown"))},function(){return["\n		\n		",u.DIV({"class":"login-buttons-padding"},"\n			",u.DIV({"class":"login-button single-login-button",style:"visibility: hidden;",id:"login-buttons-logout"},u.CharRef({html:"&nbsp;",str:" "})),"\n		"),"\n	"]},function(){return["\n		\n		",u.DIV({"class":"login-buttons-padding"}),"\n	"]})})}.call(this),function(){t.__define__("_loginButtonsLoggedOutSingleLoginButton",function(){var n=this;return u.DIV({"class":"navbar-form"},"\n		",r.If(function(){return Spacebars.call(n.lookup("configured"))},function(){return["\n			",u.BUTTON({"class":function(){return["login-button btn btn-block btn-",Spacebars.mustache(n.lookup("capitalizedName"))]}},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOutSingleLoginButton.signInWith")})," ",r.View(function(){return Spacebars.mustache(n.lookup("capitalizedName"))})),"\n		"]},function(){return["\n			",u.BUTTON({"class":"login-button btn btn-block configure-button btn-danger"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOutSingleLoginButton.configure")})," ",r.View(function(){return Spacebars.mustache(n.lookup("capitalizedName"))})," ",r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOutSingleLoginButton.login")})),"\n		"]}),"\n	")}),t.__define__("_loginButtonsLoggingInSingleLoginButton",function(){var n=this;return u.DIV({"class":"login-text-and-button"},"\n		",Spacebars.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n	")}),t.__define__("_loginButtonsLoggedInSingleLogoutButton",function(){var n=this;return u.LI("\n		",u.A({href:"#",id:"login-buttons-logout"},r.View(function(){return Spacebars.mustache(n.lookup("displayName"))})," ",r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedInSingleLogoutButton.signOut")})),"\n	")})}.call(this),function(){t.__define__("_loginButtonsLoggedInDropdown",function(){var n=this;return u.LI({id:"login-dropdown-list","class":"dropdown"},"\n		",u.A({"class":"dropdown-toggle","data-toggle":"dropdown"},"\n			",r.View(function(){return Spacebars.mustache(n.lookup("displayName"))}),"\n			",Spacebars.With(function(){return Spacebars.call(n.lookup("user_profile_picture"))},function(){return["\n				",u.IMG({src:function(){return Spacebars.mustache(n.lookup("."))},width:"30px","class":"img-circular",alt:"#"}),"\n			"]}),"\n			",u.Raw('<b class="caret"></b>'),"\n		"),"\n		",u.DIV({"class":"dropdown-menu col-sm-3"},"\n			",r.If(function(){return Spacebars.call(n.lookup("inMessageOnlyFlow"))},function(){return["\n				",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n			"]},function(){return["\n				",r.If(function(){return Spacebars.call(n.lookup("inChangePasswordFlow"))},function(){return["\n					",Spacebars.include(n.lookupTemplate("_loginButtonsChangePassword")),"\n				"]},function(){return["\n					",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedInDropdownActions")),"\n				"]}),"\n			"]}),"\n		"),"\n	")}),t.__define__("_loginButtonsLoggedInDropdownActions",function(){var n=this;return[r.If(function(){return Spacebars.call(n.lookup("additionalLoggedInDropdownActions"))},function(){return["\n		",Spacebars.include(n.lookupTemplate("_loginButtonsAdditionalLoggedInDropdownActions")),"\n	"]}),"\n\n	",r.If(function(){return Spacebars.call(n.lookup("allowChangingPassword"))},function(){return["\n		",u.BUTTON({"class":"btn btn-default btn-block",id:"login-buttons-open-change-password"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedInDropdownActions.password")})),"\n	"]}),"\n\n	",u.BUTTON({"class":"btn btn-block btn-primary",id:"login-buttons-logout"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedInDropdownActions.signOut")}))]}),t.__define__("_loginButtonsLoggedOutDropdown",function(){var n=this;return u.LI({id:"login-dropdown-list","class":"dropdown"},"\n		",u.A({"class":"dropdown-toggle","data-toggle":"dropdown"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOutDropdown.signIn")}),r.Unless(function(){return Spacebars.call(n.lookup("forbidClientAccountCreation"))},function(){return[" / ",r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOutDropdown.up")})]})," ",u.Raw('<b class="caret"></b>')),"\n		",u.DIV({"class":"dropdown-menu"},"\n			",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutAllServices")),"\n		"),"\n	")}),t.__define__("_loginButtonsLoggedOutAllServices",function(){var n=this;return r.Each(function(){return Spacebars.call(n.lookup("services"))},function(){return["\n	",r.Unless(function(){return Spacebars.call(n.lookup("hasPasswordService"))},function(){return["\n		",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n	"]}),"\n		",r.If(function(){return Spacebars.call(n.lookup("isPasswordService"))},function(){return["\n			",r.If(function(){return Spacebars.call(n.lookup("hasOtherServices"))},function(){return[" \n				",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutPasswordServiceSeparator")),"\n			"]}),"\n			",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutPasswordService")),"\n		"]},function(){return["\n			",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n		"]}),"\n	"]})}),t.__define__("_loginButtonsLoggedOutPasswordServiceSeparator",function(){var n=this;return u.DIV({"class":"or"},u.Raw('\n		<span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n		'),u.SPAN({"class":"or-text"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOutPasswordServiceSeparator.or")})),u.Raw('\n		<span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n	'))}),t.__define__("_loginButtonsLoggedOutPasswordService",function(){var n=this;return r.If(function(){return Spacebars.call(n.lookup("inForgotPasswordFlow"))},function(){return["\n		",Spacebars.include(n.lookupTemplate("_forgotPasswordForm")),"\n	"]},function(){return["\n		",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n		",r.Each(function(){return Spacebars.call(n.lookup("fields"))},function(){return["\n			",Spacebars.include(n.lookupTemplate("_loginButtonsFormField")),"\n		"]}),"\n		",u.BUTTON({"class":"btn btn-primary col-sm-12",id:"login-buttons-password",type:"button"},"\n			",r.If(function(){return Spacebars.call(n.lookup("inSignupFlow"))},function(){return["\n				",r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOutPasswordService.create")}),"\n			"]},function(){return["\n				",r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOutPasswordService.signIn")}),"\n			"]}),"\n		"),"\n		",r.If(function(){return Spacebars.call(n.lookup("inLoginFlow"))},function(){return["\n			",u.DIV({id:"login-other-options"},"\n			",r.If(function(){return Spacebars.call(n.lookup("showForgotPasswordLink"))},function(){return["\n				",u.A({id:"forgot-password-link","class":"pull-left"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOutPasswordService.forgot")})),"\n			"]}),"\n			",r.If(function(){return Spacebars.call(n.lookup("showCreateAccountLink"))},function(){return["\n				",u.A({id:"signup-link","class":"pull-right"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsLoggedOutPasswordService.createAcc")})),"\n			"]}),"\n			"),"\n		"]}),"\n		",r.If(function(){return Spacebars.call(n.lookup("inSignupFlow"))},function(){return["\n			",Spacebars.include(n.lookupTemplate("_loginButtonsBackToLoginLink")),"\n		"]}),"\n	"]})}),t.__define__("_forgotPasswordForm",function(){var n=this;return u.DIV({"class":"login-form"},"\n		",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n		",u.DIV({id:"forgot-password-email-label-and-input"}," \n			",u.INPUT({id:"forgot-password-email",type:"email",placeholder:function(){return Spacebars.mustache(n.lookup("i18n"),"_forgotPasswordForm.email")},"class":"form-control"}),"\n		"),"\n		",u.BUTTON({"class":"btn btn-primary login-button-form-submit col-sm-12",id:"login-buttons-forgot-password"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_forgotPasswordForm.reset")})),"\n		",Spacebars.include(n.lookupTemplate("_loginButtonsBackToLoginLink")),"\n	")}),t.__define__("_loginButtonsBackToLoginLink",function(){var n=this;return u.BUTTON({id:"back-to-login-link","class":"btn btn-default col-sm-12"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsBackToLoginLink.back")}))}),t.__define__("_loginButtonsFormField",function(){var n=this;return r.If(function(){return Spacebars.call(n.lookup("visible"))},function(){return["\n		",u.INPUT({id:function(){return["login-",Spacebars.mustache(n.lookup("fieldName"))]},type:function(){return Spacebars.mustache(n.lookup("inputType"))},placeholder:function(){return Spacebars.mustache(n.lookup("fieldLabel"))},"class":"form-control"}),"\n	"]})}),t.__define__("_loginButtonsChangePassword",function(){var n=this;return[Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n	",r.Each(function(){return Spacebars.call(n.lookup("fields"))},function(){return["\n		",Spacebars.include(n.lookupTemplate("_loginButtonsFormField")),"\n	"]}),"\n	",u.BUTTON({"class":"btn btn-primary",id:"login-buttons-do-change-password"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsChangePassword.submit")})),"\n	",u.BUTTON({"class":"btn btn-default",id:"login-buttons-cancel-change-password"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsChangePassword.cancel")}))]})}.call(this),function(){t.__body__.__contentParts.push(r.View("body_content_"+t.__body__.__contentParts.length,function(){var n=this;return[Spacebars.include(n.lookupTemplate("_resetPasswordDialog")),"\n	",Spacebars.include(n.lookupTemplate("_enrollAccountDialog")),"\n	",Spacebars.include(n.lookupTemplate("_justVerifiedEmailDialog")),"\n	",Spacebars.include(n.lookupTemplate("_configureLoginServiceDialog")),u.Raw("\n\n	<!-- if we're not showing a dropdown, we need some other place to show messages -->\n	"),Spacebars.include(n.lookupTemplate("_loginButtonsMessagesDialog"))]})),n.startup(t.__body__.__instantiate),t.__define__("_resetPasswordDialog",function(){var n=this;return r.If(function(){return Spacebars.call(n.lookup("inResetPasswordFlow"))},function(){return["\n		",u.DIV({"class":"modal",id:"login-buttons-reset-password-modal"},"\n			",u.DIV({"class":"modal-dialog"},"\n				",u.DIV({"class":"modal-content"},"\n					",u.DIV({"class":"modal-header"},"\n						",u.BUTTON({type:"button","class":"close","data-dismiss":"modal","aria-hidden":"true"},u.CharRef({html:"&times;",str:"×"})),"\n						",u.H4({"class":"modal-title"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_resetPasswordDialog.title")})),"\n					"),"\n					",u.DIV({"class":"modal-body"},"\n						",u.INPUT({id:"reset-password-new-password","class":"form-control",type:"password",placeholder:function(){return Spacebars.mustache(n.lookup("i18n"),"_resetPasswordDialog.newPassword")}}),"\n						",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n					"),"\n					",u.DIV({"class":"modal-footer"},"\n						",u.A({"class":"btn btn-default",id:"login-buttons-cancel-reset-password"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_resetPasswordDialog.cancel")})),"\n						",u.BUTTON({"class":"btn btn-primary",id:"login-buttons-reset-password-button"},"\n							",r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_resetPasswordDialog.submit")}),"\n						"),"\n					"),"\n				"),u.Comment(" /.modal-content "),"\n			"),u.Comment(" /.modal-dalog "),"\n		"),u.Comment(" /.modal "),"\n	"]})}),t.__define__("_enrollAccountDialog",function(){var n=this;return r.If(function(){return Spacebars.call(n.lookup("inEnrollAccountFlow"))},function(){return["\n		",u.DIV({"class":"modal",id:"login-buttons-enroll-account-modal"},"\n			",u.DIV({"class":"modal-dialog"},"\n				",u.DIV({"class":"modal-content"},"\n					",u.DIV({"class":"modal-header"},"\n						",u.BUTTON({type:"button","class":"close","data-dismiss":"modal","aria-hidden":"true"},u.CharRef({html:"&times;",str:"×"})),"\n						",u.H4({"class":"modal-title"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_enrollAccountDialog.title")})),"\n					"),"\n					",u.DIV({"class":"modal-body"},"\n						",u.INPUT({id:"enroll-account-password","class":"form-control",type:"password",placeholder:function(){return Spacebars.mustache(n.lookup("i18n"),"_enrollAccountDialog.newPassword")}}),"\n						",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n					"),"\n					",u.DIV({"class":"modal-footer"},"\n						",u.A({"class":"btn btn-default",id:"login-buttons-cancel-enroll-account-button"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_enrollAccountDialog.cancel")})),"\n						",u.BUTTON({"class":"btn btn-primary",id:"login-buttons-enroll-account-button"},"\n							",r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_enrollAccountDialog.submit")}),"\n						"),"\n					"),"\n				"),u.Comment(" /.modal-content "),"\n			"),u.Comment(" /.modal-dalog "),"\n		"),u.Comment(" /.modal "),"\n	"]})}),t.__define__("_justVerifiedEmailDialog",function(){var n=this;return r.If(function(){return Spacebars.call(n.lookup("visible"))},function(){return["\n		",u.DIV({"class":"modal",id:"login-buttons-email-address-verified-modal"},"\n			",u.DIV({"class":"modal-dialog"},"\n				",u.DIV({"class":"modal-content"},"\n					",u.DIV({"class":"modal-body"},"\n						",u.H4(u.B(r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_justVerifiedEmailDialog.verified")}))),"\n					"),"\n					",u.DIV({"class":"modal-footer"},"\n						",u.BUTTON({"class":"btn btn-info login-button",id:"just-verified-dismiss-button","data-dismiss":"modal"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_justVerifiedEmailDialog.dismiss")})),"\n					"),"\n				"),"\n			"),"\n		"),"\n	"]})}),t.__define__("_configureLoginServiceDialog",function(){var n=this;return r.If(function(){return Spacebars.call(n.lookup("visible"))},function(){return["\n	",u.DIV({"class":"modal",id:"configure-login-service-dialog-modal"},"\n			",u.DIV({"class":"modal-dialog"},"\n					",u.DIV({"class":"modal-content"},"\n							",u.DIV({"class":"modal-header"},"\n									",u.H4({"class":"modal-title"},"Configure Service"),"\n							"),"\n							",u.DIV({"class":"modal-body"},"\n									",u.DIV({id:"configure-login-service-dialog","class":"accounts-dialog accounts-centered-dialog"},"\n											",Spacebars.include(n.lookupTemplate("configurationSteps")),"\n											",u.P("\n											Now, copy over some details.\n											"),"\n											",u.P("\n											",u.TABLE("\n													",u.COLGROUP("\n															",u.COL({span:"1","class":"configuration_labels"}),"\n															",u.COL({span:"1","class":"configuration_inputs"}),"\n													"),"\n													",r.Each(function(){return Spacebars.call(n.lookup("configurationFields"))},function(){return["\n													",u.TR("\n															",u.TD("\n																	",u.LABEL({"for":function(){return["configure-login-service-dialog-",Spacebars.mustache(n.lookup("property"))]}},r.View(function(){return Spacebars.mustache(n.lookup("label"))})),"\n															"),"\n															",u.TD("\n																	",u.INPUT({id:function(){return["configure-login-service-dialog-",Spacebars.mustache(n.lookup("property"))]},type:"text"}),"\n															"),"\n													"),"\n													"]}),"\n											"),"\n											"),"\n									"),"\n							"),"\n							",u.DIV({"class":"modal-footer new-section"},"\n									",u.DIV({"class":"login-button btn btn-danger configure-login-service-dismiss-button"},"\n											I'll do this later\n									"),"\n									",u.DIV({"class":function(){return["login-button login-button-configure btn btn-success ",r.If(function(){return Spacebars.call(n.lookup("saveDisabled"))},function(){return"login-button-disabled"})]},id:"configure-login-service-dialog-save-configuration"},"\n											Save Configuration\n									"),"\n							"),"\n					"),"\n			"),"\n	"),"\n	"]})}),t.__define__("_loginButtonsMessagesDialog",function(){var n=this;return r.If(function(){return Spacebars.call(n.lookup("visible"))},function(){return["\n		",u.DIV({"class":"accounts-dialog accounts-centered-dialog",id:"login-buttons-message-dialog"},"\n			",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n			",u.DIV({"class":"login-button",id:"messages-dialog-dismiss-button"},r.View(function(){return Spacebars.mustache(n.lookup("i18n"),"_loginButtonsMessagesDialog.dismiss")})),"\n		"),"\n	"]})})}.call(this),function(){!function(){var n=["dropdownVisible","inSignupFlow","inForgotPasswordFlow","inChangePasswordFlow","inMessageOnlyFlow","errorMessage","infoMessage","resetPasswordToken","enrollAccountToken","justVerifiedEmail","configureLoginServiceDialogVisible","configureLoginServiceDialogServiceName","configureLoginServiceDialogSaveDisabled"],t=function(o){if(!i.contains(n,o))throw new Error("Invalid key in loginButtonsSession: "+o)},s="Meteor.loginButtons.";e._loginButtonsSession={set:function(n,o){if(t(n),i.contains(["errorMessage","infoMessage"],n))throw new Error("Don't set errorMessage or infoMessage directly. Instead, use errorMessage() or infoMessage().");this._set(n,o)},_set:function(n,e){o.set(s+n,e)},get:function(n){return t(n),o.get(s+n)},closeDropdown:function(){this.set("inSignupFlow",!1),this.set("inForgotPasswordFlow",!1),this.set("inChangePasswordFlow",!1),this.set("inMessageOnlyFlow",!1),this.set("dropdownVisible",!1),this.resetMessages()},infoMessage:function(n){this._set("errorMessage",null),this._set("infoMessage",n),this.ensureMessageVisible()},errorMessage:function(n){this._set("errorMessage",n),this._set("infoMessage",null),this.ensureMessageVisible()},isMessageDialogVisible:function(){return this.get("resetPasswordToken")||this.get("enrollAccountToken")||this.get("justVerifiedEmail")},ensureMessageVisible:function(){this.isMessageDialogVisible()||this.set("dropdownVisible",!0)},resetMessages:function(){this._set("errorMessage",null),this._set("infoMessage",null)},configureService:function(n){this.set("configureLoginServiceDialogVisible",!0),this.set("configureLoginServiceDialogServiceName",n),this.set("configureLoginServiceDialogSaveDisabled",!0),setTimeout(function(){$("#configure-login-service-dialog-modal").modal()},500)}}}()}.call(this),function(){!function(){e._loginButtons||(e._loginButtons={});var o=e._loginButtonsSession;a.registerHelper("loginButtons",function(){return t._loginButtons}),t._loginButtons.events({"click #login-buttons-logout":function(){n.logout(function(){o.closeDropdown()})}}),t._loginButtonsLoggedOut.dropdown=function(){return e._loginButtons.dropdown()},t._loginButtonsLoggedOut.services=function(){return e._loginButtons.getLoginServices()},t._loginButtonsLoggedOut.singleService=function(){var n=e._loginButtons.getLoginServices();if(1!==n.length)throw new Error("Shouldn't be rendering this template with more than one configured service");return n[0]},t._loginButtonsLoggedOut.configurationLoaded=function(){return e.loginServicesConfigured()},t._loginButtonsLoggedIn.dropdown=function(){return e._loginButtons.dropdown()},t._loginButtonsLoggedIn.displayName=function(){return e._loginButtons.displayName()},t._loginButtonsMessages.errorMessage=function(){return o.get("errorMessage")},t._loginButtonsMessages.infoMessage=function(){return o.get("infoMessage")},t._loginButtonsLoggingInPadding.dropdown=function(){return e._loginButtons.dropdown()},e._loginButtons.displayName=function(){var o=n.user();return o?o.profile&&o.profile.name?o.profile.name:o.username?o.username:o.emails&&o.emails[0]&&o.emails[0].address?o.emails[0].address:"":""},e._loginButtons.getLoginServices=function(){var n=Package["accounts-oauth"]?e.oauth.serviceNames():[];return n.sort(),this.hasPasswordService()&&n.push("password"),i.map(n,function(n){return{name:n}})},e._loginButtons.hasPasswordService=function(){return!!Package["accounts-password"]},e._loginButtons.dropdown=function(){return this.hasPasswordService()||e._loginButtons.getLoginServices().length>1},e._loginButtons.validateUsername=function(n){return n.length>=3?!0:(o.errorMessage("Username must be at least 3 characters long"),!1)},e._loginButtons.validateEmail=function(n){if("USERNAME_AND_OPTIONAL_EMAIL"===e.ui._passwordSignupFields()&&""===n)return!0;var i=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
return i.test(n)?!0:(o.errorMessage("Invalid email"),!1)},e._loginButtons.validatePassword=function(n){return n.length>=6?!0:(o.errorMessage("Password must be at least 6 characters long"),!1)},e._loginButtons.rendered=function(){debugger}}()}.call(this),function(){!function(){var o=e._loginButtonsSession;t._loginButtonsLoggedOutSingleLoginButton.events({"click .login-button":function(){var t=this.name;o.resetMessages();var s=function(n){n?n instanceof e.LoginCancelledError||(n instanceof e.ConfigError?o.configureService(t):o.errorMessage(n.reason||"Unknown error")):o.closeDropdown()},r=n["loginWith"+i(t)],a={};e.ui._options.requestPermissions[t]&&(a.requestPermissions=e.ui._options.requestPermissions[t]),r(a,s)}}),t._loginButtonsLoggedOutSingleLoginButton.configured=function(){return!!e.loginServiceConfiguration.findOne({service:this.name})},t._loginButtonsLoggedOutSingleLoginButton.capitalizedName=function(){return"github"===this.name?"GitHub":i(this.name)};var i=function(n){return n=null==n?"":String(n),n.charAt(0).toUpperCase()+n.slice(1)}}()}.call(this),function(){!function(){var o=e._loginButtonsSession;t._loginButtons.events({"click input":function(n){n.stopPropagation()},"click #login-name-link, click #login-sign-in-link":function(e){e.stopPropagation(),o.set("dropdownVisible",!0),n.flush()},"click .login-close":function(){o.closeDropdown()}}),t._loginButtons.toggleDropdown=function(){c()},t._loginButtonsLoggedInDropdown.events({"click #login-buttons-open-change-password":function(e){e.stopPropagation(),o.resetMessages(),o.set("inChangePasswordFlow",!0),n.flush()}}),t._loginButtonsLoggedInDropdown.displayName=function(){return e._loginButtons.displayName()},t._loginButtonsLoggedInDropdown.inChangePasswordFlow=function(){return o.get("inChangePasswordFlow")},t._loginButtonsLoggedInDropdown.inMessageOnlyFlow=function(){return o.get("inMessageOnlyFlow")},t._loginButtonsLoggedInDropdown.dropdownVisible=function(){return o.get("dropdownVisible")},t._loginButtonsLoggedInDropdownActions.allowChangingPassword=function(){var o=n.user();return o.username||o.emails&&o.emails[0]&&o.emails[0].address},t._loginButtonsLoggedInDropdownActions.additionalLoggedInDropdownActions=function(){return void 0!==t._loginButtonsAdditionalLoggedInDropdownActions},t._loginButtonsLoggedOutDropdown.events({"click #login-buttons-password":function(n){n.stopPropagation(),l()},"keypress #forgot-password-email":function(n){n.stopPropagation(),13===n.keyCode&&d()},"click #login-buttons-forgot-password":function(n){n.stopPropagation(),d()},"click #signup-link":function(e){e.stopPropagation(),o.resetMessages();var i=a("login-username"),t=a("login-email"),s=a("login-username-or-email"),l=r("login-password");o.set("inSignupFlow",!0),o.set("inForgotPasswordFlow",!1),n.flush(),null!==i?document.getElementById("login-username").value=i:null!==t?document.getElementById("login-email").value=t:null!==s&&(-1===s.indexOf("@")?document.getElementById("login-username").value=s:document.getElementById("login-email").value=s)},"click #forgot-password-link":function(e){e.stopPropagation(),o.resetMessages();var i=a("login-email"),t=a("login-username-or-email");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!0),n.flush(),null!==i?document.getElementById("forgot-password-email").value=i:null!==t&&-1!==t.indexOf("@")&&(document.getElementById("forgot-password-email").value=t)},"click #back-to-login-link":function(e){e.stopPropagation(),o.resetMessages();var i=a("login-username"),t=a("login-email")||a("forgot-password-email");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!1),n.flush(),document.getElementById("login-username")&&(document.getElementById("login-username").value=i),document.getElementById("login-email")&&(document.getElementById("login-email").value=t),document.getElementById("login-username-or-email")&&(document.getElementById("login-username-or-email").value=t||i)},"keypress #login-username, keypress #login-email, keypress #login-username-or-email, keypress #login-password, keypress #login-password-again":function(n){13===n.keyCode&&l()}}),t._loginButtonsLoggedOutDropdown.additionalClasses=function(){return e.password?o.get("inSignupFlow")?"login-form-create-account":o.get("inForgotPasswordFlow")?"login-form-forgot-password":"login-form-sign-in":!1},t._loginButtonsLoggedOutDropdown.dropdownVisible=function(){return o.get("dropdownVisible")},t._loginButtonsLoggedOutDropdown.hasPasswordService=function(){return e._loginButtons.hasPasswordService()},t._loginButtonsLoggedOutDropdown.forbidClientAccountCreation=function(){return e._options.forbidClientAccountCreation},t._loginButtonsLoggedOutAllServices.services=function(){return e._loginButtons.getLoginServices()},t._loginButtonsLoggedOutAllServices.isPasswordService=function(){return"password"===this.name},t._loginButtonsLoggedOutAllServices.hasOtherServices=function(){return e._loginButtons.getLoginServices().length>1},t._loginButtonsLoggedOutAllServices.hasPasswordService=function(){return e._loginButtons.hasPasswordService()},t._loginButtonsLoggedOutPasswordService.fields=function(){var n=[{fieldName:"username-or-email",fieldLabel:s("loginFields.username-or-email"),visible:function(){return i.contains(["USERNAME_AND_EMAIL_CONFIRM","USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"],e.ui._passwordSignupFields())}},{fieldName:"username",fieldLabel:s("loginFields.username"),visible:function(){return"USERNAME_ONLY"===e.ui._passwordSignupFields()}},{fieldName:"email",fieldLabel:s("loginFields.email"),inputType:"email",visible:function(){return"EMAIL_ONLY"===e.ui._passwordSignupFields()}},{fieldName:"password",fieldLabel:s("loginFields.password"),inputType:"password",visible:function(){return!0}}],t=[{fieldName:"username",fieldLabel:s("signupFields.username"),visible:function(){return i.contains(["USERNAME_AND_EMAIL_CONFIRM","USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e.ui._passwordSignupFields())}},{fieldName:"email",fieldLabel:s("signupFields.email"),inputType:"email",visible:function(){return i.contains(["USERNAME_AND_EMAIL_CONFIRM","USERNAME_AND_EMAIL","EMAIL_ONLY"],e.ui._passwordSignupFields())}},{fieldName:"email",fieldLabel:s("signupFields.email-opt"),inputType:"email",visible:function(){return"USERNAME_AND_OPTIONAL_EMAIL"===e.ui._passwordSignupFields()}},{fieldName:"password",fieldLabel:s("signupFields.password"),inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:s("signupFields.password-again"),inputType:"password",visible:function(){return i.contains(["USERNAME_AND_EMAIL_CONFIRM","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e.ui._passwordSignupFields())}}];return t=e.ui._options.extraSignupFields.concat(t),o.get("inSignupFlow")?t:n},t._loginButtonsLoggedOutPasswordService.inForgotPasswordFlow=function(){return o.get("inForgotPasswordFlow")},t._loginButtonsLoggedOutPasswordService.inLoginFlow=function(){return!o.get("inSignupFlow")&&!o.get("inForgotPasswordFlow")},t._loginButtonsLoggedOutPasswordService.inSignupFlow=function(){return o.get("inSignupFlow")},t._loginButtonsLoggedOutPasswordService.showForgotPasswordLink=function(){return i.contains(["USERNAME_AND_EMAIL_CONFIRM","USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"],e.ui._passwordSignupFields())},t._loginButtonsLoggedOutPasswordService.showCreateAccountLink=function(){return!e._options.forbidClientAccountCreation},t._loginButtonsFormField.inputType=function(){return this.inputType||"text"},t._loginButtonsChangePassword.events({"keypress #login-old-password, keypress #login-password, keypress #login-password-again":function(n){13===n.keyCode&&p()},"click #login-buttons-do-change-password":function(n){n.stopPropagation(),p()},"click #login-buttons-cancel-change-password":function(i){i.stopPropagation(),o.resetMessages(),e._loginButtonsSession.set("inChangePasswordFlow",!1),n.flush()}}),t._loginButtonsChangePassword.fields=function(){return[{fieldName:"old-password",fieldLabel:"Current Password",inputType:"password",visible:function(){return!0}},{fieldName:"password",fieldLabel:"New Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"New Password (again)",inputType:"password",visible:function(){return i.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e.ui._passwordSignupFields())}}]};var r=function(n){var o=document.getElementById(n);return o?o.value:null},a=function(n){var o=document.getElementById(n);return o?o.value.replace(/^\s*|\s*$/g,""):null},l=function(){o.get("inSignupFlow")?g():u()},u=function(){o.resetMessages();var i=a("login-username"),t=a("login-email"),s=a("login-username-or-email"),l=r("login-password"),u;if(null!==i){if(!e._loginButtons.validateUsername(i))return;u={username:i}}else if(null!==t){if(!e._loginButtons.validateEmail(t))return;u={email:t}}else{if(null===s)throw new Error("Unexpected -- no element to use as a login user selector");if(!e._loginButtons.validateUsername(s))return;u=s}n.loginWithPassword(u,l,function(n,e){n?o.errorMessage(n.reason||"Unknown error"):o.closeDropdown()})},c=function(){$("#login-dropdown-list").toggleClass("open")},g=function(){o.resetMessages();var n={},t=a("login-username");if(null!==t){if(!e._loginButtons.validateUsername(t))return;n.username=t}var s=a("login-email");if(null!==s){if(!e._loginButtons.validateEmail(s))return;n.email=s}var l=r("login-password");if(e._loginButtons.validatePassword(l)&&(n.password=l,f())){n.profile={};var u=function(n){e._loginButtonsSession.errorMessage(n)},c=!1;i.each(e.ui._options.extraSignupFields,function(o,e){var i=r("login-"+o.fieldName);"function"==typeof o.validate?o.validate(i,u)?n.profile[o.fieldName]=r("login-"+o.fieldName):c=!0:n.profile[o.fieldName]=r("login-"+o.fieldName)}),c||e.createUser(n,function(n){n?o.errorMessage(n.reason||"Unknown error"):o.closeDropdown()})}},d=function(){o.resetMessages();var n=a("forgot-password-email");-1!==n.indexOf("@")?e.forgotPassword({email:n},function(n){n?o.errorMessage(n.reason||"Unknown error"):o.infoMessage("Email sent")}):o.infoMessage("Email sent")},p=function(){o.resetMessages();var i=r("login-old-password"),t=r("login-password");e._loginButtons.validatePassword(t)&&f()&&e.changePassword(i,t,function(e){e?o.errorMessage(e.reason||"Unknown error"):(o.infoMessage("Password changed"),n.setTimeout(function(){o.resetMessages()},3e3))})},f=function(){var n=r("login-password-again");if(null!==n){var e=r("login-password");if(e!==n)return o.errorMessage("Passwords don't match"),!1}return!0}}()}.call(this),function(){!function(){var o=e._loginButtonsSession;e._resetPasswordToken&&o.set("resetPasswordToken",e._resetPasswordToken),e._enrollAccountToken&&o.set("enrollAccountToken",e._enrollAccountToken),n.startup(function(){e._verifyEmailToken&&e.verifyEmail(e._verifyEmailToken,function(n){e._enableAutoLogin(),n||o.set("justVerifiedEmail",!0)})}),t._resetPasswordDialog.rendered=function(){var n=$(this.find("#login-buttons-reset-password-modal"));n.modal()},t._resetPasswordDialog.events({"click #login-buttons-reset-password-button":function(n){n.stopPropagation(),s()},"keypress #reset-password-new-password":function(n){13===n.keyCode&&s()},"click #login-buttons-cancel-reset-password":function(n){n.stopPropagation(),o.set("resetPasswordToken",null),e._enableAutoLogin(),$("#login-buttons-reset-password-modal").modal("hide")}});var s=function(){o.resetMessages();var n=document.getElementById("reset-password-new-password").value;e._loginButtons.validatePassword(n)&&e.resetPassword(o.get("resetPasswordToken"),n,function(n){n?o.errorMessage(n.reason||"Unknown error"):(o.set("resetPasswordToken",null),e._enableAutoLogin(),$("#login-buttons-reset-password-modal").modal("hide"))})};t._resetPasswordDialog.inResetPasswordFlow=function(){return o.get("resetPasswordToken")},t._enrollAccountDialog.events({"click #login-buttons-enroll-account-button":function(){r()},"keypress #enroll-account-password":function(n){13===n.keyCode&&r()},"click #login-buttons-cancel-enroll-account-button":function(){o.set("enrollAccountToken",null),e._enableAutoLogin(),g.modal("hide")}}),t._enrollAccountDialog.rendered=function(){g=$(this.find("#login-buttons-enroll-account-modal")),g.modal()};var r=function(){o.resetMessages();var n=document.getElementById("enroll-account-password").value;e._loginButtons.validatePassword(n)&&e.resetPassword(o.get("enrollAccountToken"),n,function(n){n?o.errorMessage(n.reason||"Unknown error"):(o.set("enrollAccountToken",null),e._enableAutoLogin(),g.modal("hide"))})};t._enrollAccountDialog.inEnrollAccountFlow=function(){return o.get("enrollAccountToken")},t._justVerifiedEmailDialog.events({"click #just-verified-dismiss-button":function(){o.set("justVerifiedEmail",!1)}}),t._justVerifiedEmailDialog.visible=function(){return o.get("justVerifiedEmail")&&setTimeout(function(){$("#login-buttons-email-address-verified-modal").modal()},500),o.get("justVerifiedEmail")},t._loginButtonsMessagesDialog.events({"click #messages-dialog-dismiss-button":function(){o.resetMessages()}}),t._loginButtonsMessagesDialog.visible=function(){var n=o.get("infoMessage")||o.get("errorMessage");return!e._loginButtons.dropdown()&&n},t._configureLoginServiceDialog.events({"click .configure-login-service-dismiss-button":function(n){n.stopPropagation(),o.set("configureLoginServiceDialogVisible",!1),$("#configure-login-service-dialog-modal").modal("hide")},"click #configure-login-service-dialog-save-configuration":function(){if(o.get("configureLoginServiceDialogVisible")&&!o.get("configureLoginServiceDialogSaveDisabled")){var e=o.get("configureLoginServiceDialogServiceName"),t={service:e};i.each(u(),function(n){t[n.property]=document.getElementById("configure-login-service-dialog-"+n.property).value.replace(/^\s*|\s*$/g,"")}),n.call("configureLoginService",t,function(i,t){i?n._debug("Error configuring login service "+e,i):o.set("configureLoginServiceDialogVisible",!1),$("#configure-login-service-dialog-modal").modal("hide")})}},"input, keyup input":function(n){0===n.target.id.indexOf("configure-login-service-dialog")&&a()}});var a=function(){var n=i.any(u(),function(n){return""===document.getElementById("configure-login-service-dialog-"+n.property).value});o.set("configureLoginServiceDialogSaveDisabled",n)},l=function(){var n=o.get("configureLoginServiceDialogServiceName");return t["configureLoginServiceDialogFor"+c(n)]},u=function(){var n=l();return n.fields()};t._configureLoginServiceDialog.configurationFields=function(){return u()},t._configureLoginServiceDialog.visible=function(){return o.get("configureLoginServiceDialogVisible")},t._configureLoginServiceDialog.configurationSteps=function(){return l()},t._configureLoginServiceDialog.saveDisabled=function(){return o.get("configureLoginServiceDialogSaveDisabled")};var c=function(n){return n=null==n?"":String(n),n.charAt(0).toUpperCase()+n.slice(1)}}()}.call(this),"undefined"==typeof Package&&(Package={}),Package["ian:accounts-ui-bootstrap-3"]={accountsUIBootstrap3:c}}();

!function(){var r=Package.meteor.Meteor,n;(function(){n=function(){function r(r){function n(r,n){var t=(65535&r)+(65535&n),e=(r>>16)+(n>>16)+(t>>16);return e<<16|65535&t}function t(r,n){return r>>>n|r<<32-n}function e(r,n){return r>>>n}function o(r,n,t){return r&n^~r&t}function a(r,n,t){return r&n^r&t^n&t}function u(r){return t(r,2)^t(r,13)^t(r,22)}function f(r){return t(r,6)^t(r,11)^t(r,25)}function c(r){return t(r,7)^t(r,18)^e(r,3)}function i(r){return t(r,17)^t(r,19)^e(r,10)}function h(r,t){var e=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),h=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),g=new Array(64),C,d,v,A,l,m,S,y,k,P,w,s;r[t>>5]|=128<<24-t%32,r[(t+64>>9<<4)+15]=t;for(var k=0;k<r.length;k+=16){C=h[0],d=h[1],v=h[2],A=h[3],l=h[4],m=h[5],S=h[6],y=h[7];for(var P=0;64>P;P++)g[P]=16>P?r[P+k]:n(n(n(i(g[P-2]),g[P-7]),c(g[P-15])),g[P-16]),w=n(n(n(n(y,f(l)),o(l,m,S)),e[P]),g[P]),s=n(u(C),a(C,d,v)),y=S,S=m,m=l,l=n(A,w),A=v,v=d,d=C,C=n(w,s);h[0]=n(C,h[0]),h[1]=n(d,h[1]),h[2]=n(v,h[2]),h[3]=n(A,h[3]),h[4]=n(l,h[4]),h[5]=n(m,h[5]),h[6]=n(S,h[6]),h[7]=n(y,h[7])}return h}function g(r){for(var n=Array(),t=(1<<v)-1,e=0;e<r.length*v;e+=v)n[e>>5]|=(r.charCodeAt(e/v)&t)<<24-e%32;return n}function C(r){for(var n="",t=0;t<r.length;t++){var e=r.charCodeAt(t);128>e?n+=String.fromCharCode(e):e>127&&2048>e?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128))}return n}function d(r){for(var n=A?"0123456789ABCDEF":"0123456789abcdef",t="",e=0;e<4*r.length;e++)t+=n.charAt(r[e>>2]>>8*(3-e%4)+4&15)+n.charAt(r[e>>2]>>8*(3-e%4)&15);return t}var v=8,A=0;return r=C(r),d(h(g(r),r.length*v))}return r}()}).call(this),"undefined"==typeof Package&&(Package={}),Package.sha={SHA256:n}}();

!function(){var t=Package.meteor.Meteor,i=Package.random.Random,r=Package.check.check,o=Package.check.Match,s=Package.sha.SHA256,e=Package.underscore._,h,n;(function(){n=function(){function t(t,i,r){null!=t&&("number"==typeof t?this.fromNumber(t,i,r):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function i(){return new t(null)}function r(t,i,r,o,s,e){for(;--e>=0;){var h=i*this[t++]+r[o]+s;s=Math.floor(h/67108864),r[o++]=67108863&h}return s}function o(t,i,r,o,s,e){for(var h=32767&i,n=i>>15;--e>=0;){var u=32767&this[t],f=this[t++]>>15,a=n*u+f*h;u=h*u+((32767&a)<<15)+r[o]+(1073741823&s),s=(u>>>30)+(a>>>15)+n*f+(s>>>30),r[o++]=1073741823&u}return s}function s(t,i,r,o,s,e){for(var h=16383&i,n=i>>14;--e>=0;){var u=16383&this[t],f=this[t++]>>14,a=n*u+f*h;u=h*u+((16383&a)<<14)+r[o]+s,s=(u>>28)+(a>>14)+n*f,r[o++]=268435455&u}return s}function e(t){return ir.charAt(t)}function h(t,i){var r=rr[t.charCodeAt(i)];return null==r?-1:r}function n(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function u(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function f(t){var r=i();return r.fromInt(t),r}function a(i,r){var o;if(16==r)o=4;else if(8==r)o=3;else if(256==r)o=8;else if(2==r)o=1;else if(32==r)o=5;else{if(4!=r)return void this.fromRadix(i,r);o=2}this.t=0,this.s=0;for(var s=i.length,e=!1,n=0;--s>=0;){var u=8==o?255&i[s]:h(i,s);0>u?"-"==i.charAt(s)&&(e=!0):(e=!1,0==n?this[this.t++]=u:n+o>this.DB?(this[this.t-1]|=(u&(1<<this.DB-n)-1)<<n,this[this.t++]=u>>this.DB-n):this[this.t-1]|=u<<n,n+=o,n>=this.DB&&(n-=this.DB))}8==o&&0!=(128&i[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),e&&t.ZERO.subTo(this,this)}function p(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function c(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var r=(1<<i)-1,o,s=!1,h="",n=this.t,u=this.DB-n*this.DB%i;if(n-->0)for(u<this.DB&&(o=this[n]>>u)>0&&(s=!0,h=e(o));n>=0;)i>u?(o=(this[n]&(1<<u)-1)<<i-u,o|=this[--n]>>(u+=this.DB-i)):(o=this[n]>>(u-=i)&r,0>=u&&(u+=this.DB,--n)),o>0&&(s=!0),s&&(h+=e(o));return s?h:"0"}function m(){var r=i();return t.ZERO.subTo(this,r),r}function l(){return this.s<0?this.negate():this}function v(t){var i=this.s-t.s;if(0!=i)return i;var r=this.t;if(i=r-t.t,0!=i)return i;for(;--r>=0;)if(0!=(i=this[r]-t[r]))return i;return 0}function T(t){var i=1,r;return 0!=(r=t>>>16)&&(t=r,i+=16),0!=(r=t>>8)&&(t=r,i+=8),0!=(r=t>>4)&&(t=r,i+=4),0!=(r=t>>2)&&(t=r,i+=2),0!=(r=t>>1)&&(t=r,i+=1),i}function y(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)}function d(t,i){var r;for(r=this.t-1;r>=0;--r)i[r+t]=this[r];for(r=t-1;r>=0;--r)i[r]=0;i.t=this.t+t,i.s=this.s}function D(t,i){for(var r=t;r<this.t;++r)i[r-t]=this[r];i.t=Math.max(this.t-t,0),i.s=this.s}function g(t,i){var r=t%this.DB,o=this.DB-r,s=(1<<o)-1,e=Math.floor(t/this.DB),h=this.s<<r&this.DM,n;for(n=this.t-1;n>=0;--n)i[n+e+1]=this[n]>>o|h,h=(this[n]&s)<<r;for(n=e-1;n>=0;--n)i[n]=0;i[e]=h,i.t=this.t+e+1,i.s=this.s,i.clamp()}function B(t,i){i.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)return void(i.t=0);var o=t%this.DB,s=this.DB-o,e=(1<<o)-1;i[0]=this[r]>>o;for(var h=r+1;h<this.t;++h)i[h-r-1]|=(this[h]&e)<<s,i[h-r]=this[h]>>o;o>0&&(i[this.t-r-1]|=(this.s&e)<<s),i.t=this.t-r,i.clamp()}function b(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);s>r;)o+=this[r]-t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o-=t[r],i[r++]=o&this.DM,o>>=this.DB;o-=t.s}i.s=0>o?-1:0,-1>o?i[r++]=this.DV+o:o>0&&(i[r++]=o),i.t=r,i.clamp()}function S(i,r){var o=this.abs(),s=i.abs(),e=o.t;for(r.t=e+s.t;--e>=0;)r[e]=0;for(e=0;e<s.t;++e)r[e+o.t]=o.am(0,s[e],r,e,0,o.t);r.s=0,r.clamp(),this.s!=i.s&&t.ZERO.subTo(r,r)}function E(t){for(var i=this.abs(),r=t.t=2*i.t;--r>=0;)t[r]=0;for(r=0;r<i.t-1;++r){var o=i.am(r,i[r],t,2*r,0,1);(t[r+i.t]+=i.am(r+1,2*i[r],t,2*r+1,o,i.t-r-1))>=i.DV&&(t[r+i.t]-=i.DV,t[r+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(r,i[r],t,2*r,0,1)),t.s=0,t.clamp()}function w(r,o,s){var e=r.abs();if(!(e.t<=0)){var h=this.abs();if(h.t<e.t)return null!=o&&o.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=i());var n=i(),u=this.s,f=r.s,a=this.DB-T(e[e.t-1]);a>0?(e.lShiftTo(a,n),h.lShiftTo(a,s)):(e.copyTo(n),h.copyTo(s));var p=n.t,c=n[p-1];if(0!=c){var m=c*(1<<this.F1)+(p>1?n[p-2]>>this.F2:0),l=this.FV/m,v=(1<<this.F1)/m,y=1<<this.F2,d=s.t,D=d-p,g=null==o?i():o;for(n.dlShiftTo(D,g),s.compareTo(g)>=0&&(s[s.t++]=1,s.subTo(g,s)),t.ONE.dlShiftTo(p,g),g.subTo(n,n);n.t<p;)n[n.t++]=0;for(;--D>=0;){var B=s[--d]==c?this.DM:Math.floor(s[d]*l+(s[d-1]+y)*v);if((s[d]+=n.am(0,B,s,D,0,p))<B)for(n.dlShiftTo(D,g),s.subTo(g,s);s[d]<--B;)s.subTo(g,s)}null!=o&&(s.drShiftTo(p,o),u!=f&&t.ZERO.subTo(o,o)),s.t=p,s.clamp(),a>0&&s.rShiftTo(a,s),0>u&&t.ZERO.subTo(s,s)}}}function M(r){var o=i();return this.abs().divRemTo(r,null,o),this.s<0&&o.compareTo(t.ZERO)>0&&r.subTo(o,o),o}function A(t){this.m=t}function R(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function O(t){return t}function C(t){t.divRemTo(this.m,null,t)}function F(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function V(t,i){t.squareTo(i),this.reduce(i)}function N(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=i*(2-(15&t)*i)&15,i=i*(2-(255&t)*i)&255,i=i*(2-((65535&t)*i&65535))&65535,i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i}function k(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function q(r){var o=i();return r.abs().dlShiftTo(this.m.t,o),o.divRemTo(this.m,null,o),r.s<0&&o.compareTo(t.ZERO)>0&&this.m.subTo(o,o),o}function P(t){var r=i();return t.copyTo(r),this.reduce(r),r}function L(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var r=32767&t[i],o=r*this.mpl+((r*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=i+this.m.t,t[r]+=this.m.am(0,o,t,i,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function x(t,i){t.squareTo(i),this.reduce(i)}function I(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function Z(){return 0==(this.t>0?1&this[0]:this.s)}function z(r,o){if(r>4294967295||1>r)return t.ONE;var s=i(),e=i(),h=o.convert(this),n=T(r)-1;for(h.copyTo(s);--n>=0;)if(o.sqrTo(s,e),(r&1<<n)>0)o.mulTo(e,h,s);else{var u=s;s=e,e=u}return o.revert(s)}function U(t,i){var r;return r=256>t||i.isEven()?new A(i):new k(i),this.exp(t,r)}function j(){var t=i();return this.copyTo(t),t}function H(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function _(){return 0==this.t?this.s:this[0]<<24>>24}function G(){return 0==this.t?this.s:this[0]<<16>>16}function J(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function K(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Q(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var r=this.chunkSize(t),o=Math.pow(t,r),s=f(o),e=i(),h=i(),n="";for(this.divRemTo(s,e,h);e.signum()>0;)n=(o+h.intValue()).toString(t).substr(1)+n,e.divRemTo(s,e,h);return h.intValue().toString(t)+n}function W(i,r){this.fromInt(0),null==r&&(r=10);for(var o=this.chunkSize(r),s=Math.pow(r,o),e=!1,n=0,u=0,f=0;f<i.length;++f){var a=h(i,f);0>a?"-"==i.charAt(f)&&0==this.signum()&&(e=!0):(u=r*u+a,++n>=o&&(this.dMultiply(s),this.dAddOffset(u,0),n=0,u=0))}n>0&&(this.dMultiply(Math.pow(r,n)),this.dAddOffset(u,0)),e&&t.ZERO.subTo(this,this)}function X(i,r,o){if("number"==typeof r)if(2>i)this.fromInt(1);else for(this.fromNumber(i,o),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),ei,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(t.ONE.shiftLeft(i-1),this);else{var s=new Array,e=7&i;s.length=(i>>3)+1,r.nextBytes(s),e>0?s[0]&=(1<<e)-1:s[0]=0,this.fromString(s,256)}}function Y(){var t=this.t,i=new Array;i[0]=this.s;var r=this.DB-t*this.DB%8,o,s=0;if(t-->0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)8>r?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=this[t]>>(r-=8)&255,0>=r&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function $(t){return 0==this.compareTo(t)}function ti(t){return this.compareTo(t)<0?this:t}function ii(t){return this.compareTo(t)>0?this:t}function ri(t,i,r){var o,s,e=Math.min(t.t,this.t);for(o=0;e>o;++o)r[o]=i(this[o],t[o]);if(t.t<this.t){for(s=t.s&this.DM,o=e;o<this.t;++o)r[o]=i(this[o],s);r.t=this.t}else{for(s=this.s&this.DM,o=e;o<t.t;++o)r[o]=i(s,t[o]);r.t=t.t}r.s=i(this.s,t.s),r.clamp()}function oi(t,i){return t&i}function si(t){var r=i();return this.bitwiseTo(t,oi,r),r}function ei(t,i){return t|i}function hi(t){var r=i();return this.bitwiseTo(t,ei,r),r}function ni(t,i){return t^i}function ui(t){var r=i();return this.bitwiseTo(t,ni,r),r}function fi(t,i){return t&~i}function ai(t){var r=i();return this.bitwiseTo(t,fi,r),r}function pi(){for(var t=i(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t}function ci(t){var r=i();return 0>t?this.rShiftTo(-t,r):this.lShiftTo(t,r),r}function mi(t){var r=i();return 0>t?this.lShiftTo(-t,r):this.rShiftTo(t,r),r}function li(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function vi(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+li(this[t]);return this.s<0?this.t*this.DB:-1}function Ti(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function yi(){for(var t=0,i=this.s&this.DM,r=0;r<this.t;++r)t+=Ti(this[r]^i);return t}function di(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)}function Di(i,r){var o=t.ONE.shiftLeft(i);return this.bitwiseTo(o,r,o),o}function gi(t){return this.changeBit(t,ei)}function Bi(t){return this.changeBit(t,fi)}function bi(t){return this.changeBit(t,ni)}function Si(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);s>r;)o+=this[r]+t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o+=t[r],i[r++]=o&this.DM,o>>=this.DB;o+=t.s}i.s=0>o?-1:0,o>0?i[r++]=o:-1>o&&(i[r++]=this.DV+o),i.t=r,i.clamp()}function Ei(t){var r=i();return this.addTo(t,r),r}function wi(t){var r=i();return this.subTo(t,r),r}function Mi(t){var r=i();return this.multiplyTo(t,r),r}function Ai(t){var r=i();return this.divRemTo(t,r,null),r}function Ri(t){var r=i();return this.divRemTo(t,null,r),r}function Oi(t){var r=i(),o=i();return this.divRemTo(t,r,o),new Array(r,o)}function Ci(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Fi(t,i){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}function Vi(){}function Ni(t){return t}function ki(t,i,r){t.multiplyTo(i,r)}function qi(t,i){t.squareTo(i)}function Pi(t){return this.exp(t,new Vi)}function Li(t,i,r){var o=Math.min(this.t+t.t,i);for(r.s=0,r.t=o;o>0;)r[--o]=0;var s;for(s=r.t-this.t;s>o;++o)r[o+this.t]=this.am(0,t[o],r,o,0,this.t);for(s=Math.min(t.t,i);s>o;++o)this.am(0,t[o],r,o,0,i-o);r.clamp()}function xi(t,i,r){--i;var o=r.t=this.t+t.t-i;for(r.s=0;--o>=0;)r[o]=0;for(o=Math.max(i-this.t,0);o<t.t;++o)r[this.t+o-i]=this.am(i-o,t[o],r,0,0,this.t+o-i);r.clamp(),r.drShiftTo(1,r)}function Ii(r){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}function Zi(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=i();return t.copyTo(r),this.reduce(r),r}function zi(t){return t}function Ui(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function ji(t,i){t.squareTo(i),this.reduce(i)}function Hi(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function _i(t,r){var o=t.bitLength(),s,e=f(1),h;if(0>=o)return e;s=18>o?1:48>o?3:144>o?4:768>o?5:6,h=8>o?new A(r):r.isEven()?new Ii(r):new k(r);var n=new Array,u=3,a=s-1,p=(1<<s)-1;if(n[1]=h.convert(this),s>1){var c=i();for(h.sqrTo(n[1],c);p>=u;)n[u]=i(),h.mulTo(c,n[u-2],n[u]),u+=2}var m=t.t-1,l,v=!0,y=i(),d;for(o=T(t[m])-1;m>=0;){for(o>=a?l=t[m]>>o-a&p:(l=(t[m]&(1<<o+1)-1)<<a-o,m>0&&(l|=t[m-1]>>this.DB+o-a)),u=s;0==(1&l);)l>>=1,--u;if((o-=u)<0&&(o+=this.DB,--m),v)n[l].copyTo(e),v=!1;else{for(;u>1;)h.sqrTo(e,y),h.sqrTo(y,e),u-=2;u>0?h.sqrTo(e,y):(d=e,e=y,y=d),h.mulTo(y,n[l],e)}for(;m>=0&&0==(t[m]&1<<o);)h.sqrTo(e,y),d=e,e=y,y=d,--o<0&&(o=this.DB-1,--m)}return h.revert(e)}function Gi(t){var i=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(i.compareTo(r)<0){var o=i;i=r,r=o}var s=i.getLowestSetBit(),e=r.getLowestSetBit();if(0>e)return i;for(e>s&&(e=s),e>0&&(i.rShiftTo(e,i),r.rShiftTo(e,r));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),i.compareTo(r)>=0?(i.subTo(r,i),i.rShiftTo(1,i)):(r.subTo(i,r),r.rShiftTo(1,r));return e>0&&r.lShiftTo(e,r),r}function Ji(t){if(0>=t)return 0;var i=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==i)r=this[0]%t;else for(var o=this.t-1;o>=0;--o)r=(i*r+this[o])%t;return r}function Ki(i){var r=i.isEven();if(this.isEven()&&r||0==i.signum())return t.ZERO;for(var o=i.clone(),s=this.clone(),e=f(1),h=f(0),n=f(0),u=f(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),r?(e.isEven()&&h.isEven()||(e.addTo(this,e),h.subTo(i,h)),e.rShiftTo(1,e)):h.isEven()||h.subTo(i,h),h.rShiftTo(1,h);for(;s.isEven();)s.rShiftTo(1,s),r?(n.isEven()&&u.isEven()||(n.addTo(this,n),u.subTo(i,u)),n.rShiftTo(1,n)):u.isEven()||u.subTo(i,u),u.rShiftTo(1,u);o.compareTo(s)>=0?(o.subTo(s,o),r&&e.subTo(n,e),h.subTo(u,h)):(s.subTo(o,s),r&&n.subTo(e,n),u.subTo(h,u))}return 0!=s.compareTo(t.ONE)?t.ZERO:u.compareTo(i)>=0?u.subtract(i):u.signum()<0?(u.addTo(i,u),u.signum()<0?u.add(i):u):u}function Qi(t){var i,r=this.abs();if(1==r.t&&r[0]<=er[er.length-1]){for(i=0;i<er.length;++i)if(r[0]==er[i])return!0;return!1}if(r.isEven())return!1;for(i=1;i<er.length;){for(var o=er[i],s=i+1;s<er.length&&hr>o;)o*=er[s++];for(o=r.modInt(o);s>i;)if(o%er[i++]==0)return!1}return r.millerRabin(t)}function Wi(r){var o=this.subtract(t.ONE),s=o.getLowestSetBit();if(0>=s)return!1;var e=o.shiftRight(s);r=r+1>>1,r>er.length&&(r=er.length);for(var h=i(),n=0;r>n;++n){h.fromInt(er[n]);var u=h.modPow(e,this);if(0!=u.compareTo(t.ONE)&&0!=u.compareTo(o)){for(var f=1;f++<s&&0!=u.compareTo(o);)if(u=u.modPowInt(2,this),0==u.compareTo(t.ONE))return!1;if(0!=u.compareTo(o))return!1}}return!0}var Xi,Yi=0xdeadbeefcafe,$i=15715070==(16777215&Yi);t.prototype.am=s,Xi=28,t.prototype.DB=Xi,t.prototype.DM=(1<<Xi)-1,t.prototype.DV=1<<Xi;var tr=52;t.prototype.FV=Math.pow(2,tr),t.prototype.F1=tr-Xi,t.prototype.F2=2*Xi-tr;var ir="0123456789abcdefghijklmnopqrstuvwxyz",rr=new Array,or,sr;for(or="0".charCodeAt(0),sr=0;9>=sr;++sr)rr[or++]=sr;for(or="a".charCodeAt(0),sr=10;36>sr;++sr)rr[or++]=sr;for(or="A".charCodeAt(0),sr=10;36>sr;++sr)rr[or++]=sr;A.prototype.convert=R,A.prototype.revert=O,A.prototype.reduce=C,A.prototype.mulTo=F,A.prototype.sqrTo=V,k.prototype.convert=q,k.prototype.revert=P,k.prototype.reduce=L,k.prototype.mulTo=I,k.prototype.sqrTo=x,t.prototype.copyTo=n,t.prototype.fromInt=u,t.prototype.fromString=a,t.prototype.clamp=p,t.prototype.dlShiftTo=d,t.prototype.drShiftTo=D,t.prototype.lShiftTo=g,t.prototype.rShiftTo=B,t.prototype.subTo=b,t.prototype.multiplyTo=S,t.prototype.squareTo=E,t.prototype.divRemTo=w,t.prototype.invDigit=N,t.prototype.isEven=Z,t.prototype.exp=z,t.prototype.toString=c,t.prototype.negate=m,t.prototype.abs=l,t.prototype.compareTo=v,t.prototype.bitLength=y,t.prototype.mod=M,t.prototype.modPowInt=U,t.ZERO=f(0),t.ONE=f(1),Vi.prototype.convert=Ni,Vi.prototype.revert=Ni,Vi.prototype.mulTo=ki,Vi.prototype.sqrTo=qi,Ii.prototype.convert=Zi,Ii.prototype.revert=zi,Ii.prototype.reduce=Ui,Ii.prototype.mulTo=Hi,Ii.prototype.sqrTo=ji;var er=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],hr=(1<<26)/er[er.length-1];return t.prototype.chunkSize=J,t.prototype.toRadix=Q,t.prototype.fromRadix=W,t.prototype.fromNumber=X,t.prototype.bitwiseTo=ri,t.prototype.changeBit=Di,t.prototype.addTo=Si,t.prototype.dMultiply=Ci,t.prototype.dAddOffset=Fi,t.prototype.multiplyLowerTo=Li,t.prototype.multiplyUpperTo=xi,t.prototype.modInt=Ji,t.prototype.millerRabin=Wi,t.prototype.clone=j,t.prototype.intValue=H,t.prototype.byteValue=_,t.prototype.shortValue=G,t.prototype.signum=K,t.prototype.toByteArray=Y,t.prototype.equals=$,t.prototype.min=ti,t.prototype.max=ii,t.prototype.and=si,t.prototype.or=hi,t.prototype.xor=ui,t.prototype.andNot=ai,t.prototype.not=pi,t.prototype.shiftLeft=ci,t.prototype.shiftRight=mi,t.prototype.getLowestSetBit=vi,t.prototype.bitCount=yi,t.prototype.testBit=di,t.prototype.setBit=gi,t.prototype.clearBit=Bi,t.prototype.flipBit=bi,t.prototype.add=Ei,t.prototype.subtract=wi,t.prototype.multiply=Mi,t.prototype.divide=Ai,t.prototype.remainder=Ri,t.prototype.divideAndRemainder=Oi,t.prototype.modPow=_i,t.prototype.modInverse=Ki,t.prototype.pow=Pi,t.prototype.gcd=Gi,t.prototype.isProbablePrime=Qi,t}()}).call(this),function(){h={},h.generateVerifier=function(t,o){var s=r(o),e=o&&o.salt||i.secret(),h,u=o&&o.hashedIdentityAndPassword;u||(h=o&&o.identity||i.secret(),u=s.hash(h+":"+t));var f=s.hash(e+u),a=new n(f,16),p=s.g.modPow(a,s.N);return{identity:h,salt:e,verifier:p.toString(16)}},h.matchVerifier={identity:String,salt:String,verifier:String};var t={hash:function(t){return s(t).toLowerCase()},N:new n("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new n("2")};t.k=new n(t.hash(t.N.toString(16)+t.g.toString(16)),16);var r=function(i){if(!i)return t;var r=e.extend({},t);return e.each(["N","g","k"],function(t){if(i[t])if("string"==typeof i[t])r[t]=new n(i[t],16);else{if(!(i[t]instanceof n))throw new Error("Invalid parameter: "+t);r[t]=i[t]}}),i.hash&&(r.hash=function(t){return i.hash(t).toLowerCase()}),!i.k&&(i.N||i.g||i.hash)&&(r.k=r.hash(r.N.toString(16)+r.g.toString(16))),r}}.call(this),"undefined"==typeof Package&&(Package={}),Package.srp={SRP:h}}();

!function(){var r=Package.meteor.Meteor,e=Package["accounts-base"].Accounts,o=Package.srp.SRP,a=Package.sha.SHA256,s=Package.check.check,t=Package.check.Match,n=Package.underscore._,d=Package.ddp.DDP;(function(){r.loginWithPassword=function(r,a,s){"string"==typeof r&&(r=-1===r.indexOf("@")?{username:r}:{email:r}),e.callLoginMethod({methodArguments:[{user:r,password:o(a)}],userCallback:function(e,o){e&&400===e.error&&"old password format"===e.reason?t({upgradeError:e,userSelector:r,plaintextPassword:a},s):e?s&&s(e):s&&s()}})};var o=function(r){return{digest:a(r),algorithm:"sha-256"}},t=function(s,t){var n;try{n=EJSON.parse(s.upgradeError.details)}catch(d){}n&&"srp"===n.format?e.callLoginMethod({methodArguments:[{user:s.userSelector,srp:a(n.identity+":"+s.plaintextPassword),password:o(s.plaintextPassword)}],userCallback:t}):t&&t(new r.Error(400,"Password is old. Please reset your password."))};e.createUser=function(a,s){if(a=n.clone(a),"string"!=typeof a.password)throw new Error("Must set options.password");return a.password?(a.password=o(a.password),void e.callLoginMethod({methodName:"createUser",methodArguments:[a],userCallback:s})):void s(new r.Error(400,"Password may not be empty"))},e.changePassword=function(a,n,d){return r.user()?(s(n,String),n?void e.connection.apply("changePassword",[a?o(a):null,o(n)],function(o,s){o||!s?o&&400===o.error&&"old password format"===o.reason?t({upgradeError:o,userSelector:{id:r.userId()},plaintextPassword:a},function(r){r?d&&d(r):e.changePassword(a,n,d)}):d&&d(o||new Error("No result from changePassword.")):d&&d()}):void d(new r.Error(400,"Password may not be empty"))):void(d&&d(new Error("Must be logged in to change password.")))},e.forgotPassword=function(r,o){if(!r.email)throw new Error("Must pass options.email");e.connection.call("forgotPassword",r,o)},e.resetPassword=function(a,t,n){return s(a,String),s(t,String),t?void e.callLoginMethod({methodName:"resetPassword",methodArguments:[a,o(t)],userCallback:n}):void n(new r.Error(400,"Password may not be empty"))},e.verifyEmail=function(r,o){if(!r)throw new Error("Need to pass token");e.callLoginMethod({methodName:"verifyEmail",methodArguments:[r],userCallback:o})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.less={}}();

!function(){var e=Package.meteor.Meteor,n=Package.templating.Template,r=Package.session.Session,t=Package.blaze.Blaze,a=Package.blaze.UI,i=Package.blaze.Handlebars,o=Package["reactive-var"].ReactiveVar,s=Package.htmljs.HTML,c,u,l;(function(){n.__checkName("camera"),n.camera=new n("Template.camera",function(){var e=this;return[s.Raw('<div class="camera-overlay">\n    \n  </div>\n\n  '),s.DIV({"class":function(){return["camera-popup ",t.If(function(){return Spacebars.call(e.lookup("permissionDeniedError"))},function(){return"camera-popup-wide"})]}},"\n    ",t.If(function(){return Spacebars.call(e.lookup("error"))},function(){return["\n      ",t.If(function(){return Spacebars.call(e.lookup("permissionDeniedError"))},function(){return["\n        ",Spacebars.include(e.lookupTemplate("permissionDenied")),"\n      "]},function(){return["\n        ",t.If(function(){return Spacebars.call(e.lookup("browserNotSupportedError"))},function(){return["\n          ",t._TemplateWith(function(){return{message:Spacebars.call("Sorry, this browser is currently not supported for camera functionality.")}},function(){return Spacebars.include(e.lookupTemplate("genericError"))}),"\n        "]},function(){return["\n          ",t._TemplateWith(function(){return{message:Spacebars.call("There was an error accessing the camera.")}},function(){return Spacebars.include(e.lookupTemplate("genericError"))}),"\n        "]}),"\n      "]}),"\n    "]},function(){return["\n      ",t.If(function(){return Spacebars.call(e.lookup("photo"))},function(){return["\n        ",s.DIV({"class":"center"},"\n          ",s.IMG({src:function(){return Spacebars.mustache(e.lookup("photo"))},"class":"photo-preview"}),"\n          ",s.DIV("\n            ",s.BUTTON({"class":"button use-photo"},"Use Photo"),"\n            ",s.BUTTON({"class":"button new-photo"},"Take New Photo"),"\n          "),"\n        "),"\n      "]},function(){return["\n        ",Spacebars.include(e.lookupTemplate("viewfinder")),"\n      "]}),"\n    "]}),"\n  ")]}),n.__checkName("viewfinder"),n.viewfinder=new n("Template.viewfinder",function(){var e=this;return[s.DIV({"class":"viewfinder"},"\n    ",s.VIDEO({id:"video","class":function(){return t.If(function(){return Spacebars.call(e.lookup("waitingForPermission"))},function(){return"hidden"})}},"\n      "),"\n    \n    ",s.DIV("\n      ",t.If(function(){return Spacebars.call(e.lookup("waitingForPermission"))},function(){return["\n        ",s.P("Waiting for camera permissions..."),"\n      "]},function(){return["\n        ",s.BUTTON({"class":"button shutter"},"Take Photo"),"\n      "]}),"\n      ",s.Raw('<button class="button cancel">Cancel</button>'),"\n    "),"\n  "),s.Raw('\n\n  <canvas id="canvas" style="visibility: hidden"></canvas>')]}),n.__checkName("genericError"),n.genericError=new n("Template.genericError",function(){var e=this;return s.DIV({"class":"generic-error"},"\n    ",s.P(t.View(function(){return Spacebars.mustache(e.lookup("message"))})),s.Raw('\n    <button class="button cancel">Close Popup</button>\n  '))}),n.__checkName("permissionDenied"),n.permissionDenied=new n("Template.permissionDenied",function(){var e=this;return s.Raw('<div class="permission-denied-error">\n    <h2>Camera Permissions Denied</h2>\n\n    <p>\n      You have denied this app permission to use your camera.\n      If you would like to allow permissions, follow the directions for your\n      browser below.\n    </p>\n\n    <dl class="permissions-howto">\n      <dt>Google Chrome</dt>\n        <dd>Go to Settings > "Show advanced settings..." >\n          "Content settings..." > Media heading > "Manage exceptions...",\n          then find this website in the list and allow video capture.</dd>\n      <dt>Mozilla Firefox</dt>\n        <dd>Reload the page and try again.</dd>\n      <dt>Opera</dt>\n        <dd>Go to Preferences > Websites > Media heading >\n          "Manage exceptions...", then find this website in the list and\n          allow video capture.</dd>\n    </dl>\n\n    <button class="button cancel">Close Popup</button>\n  </div>')})}).call(this),function(){c={}}.call(this),function(){var r,t,i=new o(null),s=new o(null),d=new o(null),p=0,f=0,h=80;n.viewfinder.rendered=function(){var e=this;d.set(!0);var n=e.find("video"),t=function(e){if(r=e,navigator.mozGetUserMedia)n.mozSrcObject=r;else{var t=window.URL||window.webkitURL;n.src=t.createObjectURL(r)}n.play(),d.set(!1)},a=function(e){s.set(e)};if(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,!navigator.getUserMedia)return void a("BROWSER_NOT_SUPPORTED");navigator.getUserMedia({video:!0,audio:!1},t,a);var i=320,o=240,c=!1;n.addEventListener("canplay",function(){c||(o=n.videoHeight/(n.videoWidth/i),n.setAttribute("width",i),n.setAttribute("height",o),c=!0)},!1)};var m=function(){return s.get()&&("PermissionDeniedError"===s.get().name||"PERMISSION_DENIED"===s.get())},g=function(){return s.get()&&"BROWSER_NOT_SUPPORTED"===s.get()};n.camera.helpers({photo:function(){return i.get()},error:function(){return s.get()},permissionDeniedError:m,browserNotSupportedError:g}),n.camera.events({"click .use-photo":function(){t(null,i.get())},"click .new-photo":function(){i.set(null)},"click .cancel":function(){t(m()?new e.Error("permissionDenied","Camera permissions were denied."):g()?new e.Error("browserNotSupported","This browser isn't supported."):s.get()?new e.Error("unknownError","There was an error while accessing the camera."):new e.Error("cancel","Photo taking was cancelled.")),r&&r.stop()}}),n.viewfinder.events({"click .shutter":function(e,n){var t=n.find("video"),a=n.find("canvas");a.width=p,a.height=f,a.getContext("2d").drawImage(t,0,0,p,f);var o=a.toDataURL("image/jpeg",h);i.set(o),r.stop()}}),n.viewfinder.helpers({waitingForPermission:function(){return d.get()}}),c.getPicture=function(e,r){r||(r=e,e={}),u=e.height||640,l=e.width||480,h=(e.quality||49)/100,4*u/3>l?(p=4*u/3,f=u):(f=3*l/4,p=l),p=Math.round(p),f=Math.round(f);var o;t=function(){var e=arguments;a.remove(o),i.set(null),r.apply(null,e)},o=a.renderWithData(n.camera),a.insert(o,document.body)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["mdg:camera"]={MeteorCamera:c}}();

!function(){var n=Package.meteor.Meteor,t=Package["reactive-var"].ReactiveVar,e;(function(){var n=!1,o=new t(null),a=new t(null),c={enableHighAccuracy:!0,maximumAge:0},i=function(n){a.set(n)},r=function(n){o.set(n),a.set(null)},u=function(){!n&&navigator.geolocation&&(navigator.geolocation.watchPosition(r,i,c),n=!0)};e={error:function(){return u(),a.get()},currentLocation:function(){return u(),o.get()},latLng:function(){var n=e.currentLocation();return n?{lat:n.coords.latitude,lng:n.coords.longitude}:null}}}).call(this),"undefined"==typeof Package&&(Package={}),Package["mdg:geolocation"]={Geolocation:e}}();

!function(){var e=Package.meteor.Meteor,t;(function(){(function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(e){pt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function s(e,t){var n=!0;return d(function(){return n&&(a(e),n=!1),t.apply(this,arguments)},t)}function r(e,t){mn[e]||(a(t),mn[e]=!0)}function i(e,t){return function(n){return _(e.call(this,n),t)}}function o(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function u(){}function c(e,t){t!==!1&&G(e),h(this,e),this._d=new Date(+e._d)}function l(e){var t=k(e),n=t.year||0,a=t.quarter||0,s=t.month||0,r=t.week||0,i=t.day||0,o=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*o,this._days=+i+7*r,this._months=+s+3*a+12*n,this._data={},this._locale=pt.localeData(),this._bubble()}function d(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t){var n,a,s;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ft.length>0)for(n in Ft)a=Ft[n],s=t[a],"undefined"!=typeof s&&(e[a]=s);return e}function f(e){return 0>e?Math.ceil(e):Math.floor(e)}function _(e,t,n){for(var a=""+Math.abs(e),s=e>=0;a.length<t;)a="0"+a;return(s?n?"+":"":"-")+a}function m(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function y(e,t){var n;return t=z(t,e),e.isBefore(t)?n=m(e,t):(n=m(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function p(e,t){return function(n,a){var s,i;return null===a||isNaN(+a)||(r(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=a,a=i),n="string"==typeof n?+n:n,s=pt.duration(n,a),g(this,s,e),this}}function g(e,t,n,a){var s=t._milliseconds,r=t._days,i=t._months;a=null==a?!0:a,s&&e._d.setTime(+e._d+s*n),r&&dt(e,"Date",lt(e,"Date")+r*n),i&&ct(e,lt(e,"Month")+i*n),a&&pt.updateOffset(e,r||i)}function D(e){return"[object Array]"===Object.prototype.toString.call(e)}function M(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function w(e,t,n){var a=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0,i;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&b(e[i])!==b(t[i]))&&r++;return r+s}function Y(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=un[e]||cn[t]||t}return e}function k(e){var t={},n,a;for(a in e)e.hasOwnProperty(a)&&(n=Y(a),n&&(t[n]=e[a]));return t}function v(t){var n,a;if(0===t.indexOf("week"))n=7,a="day";else{if(0!==t.indexOf("month"))return;n=12,a="month"}pt[t]=function(s,r){var i,o,u=pt._locale[t],c=[];if("number"==typeof s&&(r=s,s=e),o=function(e){var t=pt().utc().set(a,e);return u.call(pt._locale,t,s||"")},null!=r)return o(r);for(i=0;n>i;i++)c.push(o(i));return c}}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function S(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function T(e,t,n){return rt(pt([e,11,31+t-n]),t,n).week}function O(e){return W(e)?366:365}function W(e){return e%4===0&&e%100!==0||e%400===0}function G(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[vt]<0||e._a[vt]>11?vt:e._a[bt]<1||e._a[bt]>S(e._a[kt],e._a[vt])?bt:e._a[St]<0||e._a[St]>23?St:e._a[Tt]<0||e._a[Tt]>59?Tt:e._a[Ot]<0||e._a[Ot]>59?Ot:e._a[Wt]<0||e._a[Wt]>999?Wt:-1,e._pf._overflowDayOfYear&&(kt>t||t>bt)&&(t=bt),e._pf.overflow=t)}function F(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function U(e){return e?e.toLowerCase().replace("_","-"):e}function C(e){for(var t=0,n,a,s,r;t<e.length;){for(r=U(e[t]).split("-"),n=r.length,a=U(e[t+1]),a=a?a.split("-"):null;n>0;){if(s=P(r.slice(0,n).join("-")))return s;if(a&&a.length>=n&&w(r,a,!0)>=n-1)break;n--}t++}return null}function P(e){var t=null;if(!Gt[e]&&Ut)try{t=pt.locale(),require("./locale/"+e),pt.locale(t)}catch(n){}return Gt[e]}function z(e,t){return t._isUTC?pt(e).zone(t._offset||0):pt(e).local()}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function I(e){var t=e.match(Lt),n,a;for(n=0,a=t.length;a>n;n++)t[n]=_n[t[n]]?_n[t[n]]:L(t[n]);return function(s){var r="";for(n=0;a>n;n++)r+=t[n]instanceof Function?t[n].call(s,e):t[n];return r}}function H(e,t){return e.isValid()?(t=A(t,e.localeData()),ln[t]||(ln[t]=I(t)),ln[t](e)):e.localeData().invalidDate()}function A(e,t){function n(e){return t.longDateFormat(e)||e}var a=5;for(It.lastIndex=0;a>=0&&It.test(e);)e=e.replace(It,n),It.lastIndex=0,a-=1;return e}function x(e,t){var n,a=t._strict;switch(e){case"Q":return Jt;case"DDDD":return Xt;case"YYYY":case"GGGG":case"gggg":return a?Bt:xt;case"Y":case"G":case"g":return Kt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return a?Rt:Zt;case"S":if(a)return Jt;case"SS":if(a)return Qt;case"SSS":if(a)return Xt;case"DDD":return At;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return jt;case"a":case"A":return t._locale._meridiemParse;case"X":return qt;case"Z":case"ZZ":return Nt;case"T":return Vt;case"SSSS":return Et;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return a?Qt:Ht;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ht;case"Do":return $t;default:return n=new RegExp(Q(J(e.replace("\\","")),"i"))}}function Z(e){e=e||"";var t=e.match(Nt)||[],n=t[t.length-1]||[],a=(n+"").match(sn)||["-",0,0],s=+(60*a[1])+b(a[2]);return"+"===a[0]?-s:s}function E(e,t,n){var a,s=n._a;switch(e){case"Q":null!=t&&(s[vt]=3*(b(t)-1));break;case"M":case"MM":null!=t&&(s[vt]=b(t)-1);break;case"MMM":case"MMMM":a=n._locale.monthsParse(t),null!=a?s[vt]=a:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(s[bt]=b(t));break;case"Do":null!=t&&(s[bt]=b(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=b(t));break;case"YY":s[kt]=pt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":s[kt]=b(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"H":case"HH":case"h":case"hh":s[St]=b(t);break;case"m":case"mm":s[Tt]=b(t);break;case"s":case"ss":s[Ot]=b(t);break;case"S":case"SS":case"SSS":case"SSSS":s[Wt]=b(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=Z(t);break;case"dd":case"ddd":case"dddd":a=n._locale.weekdaysParse(t),null!=a?(n._w=n._w||{},n._w.d=a):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=b(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=pt.parseTwoDigitYear(t)}}function j(e){var n,a,s,r,i,o,u;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(i=1,o=4,a=t(n.GG,e._a[kt],rt(pt(),1,4).year),s=t(n.W,1),r=t(n.E,1)):(i=e._locale._week.dow,o=e._locale._week.doy,a=t(n.gg,e._a[kt],rt(pt(),i,o).year),s=t(n.w,1),null!=n.d?(r=n.d,i>r&&++s):r=null!=n.e?n.e+i:i),u=it(a,s,r,o,i),e._a[kt]=u.year,e._dayOfYear=u.dayOfYear}function N(e){var n,a,s=[],r,i;if(!e._d){for(r=q(e),e._w&&null==e._a[bt]&&null==e._a[vt]&&j(e),e._dayOfYear&&(i=t(e._a[kt],r[kt]),e._dayOfYear>O(i)&&(e._pf._overflowDayOfYear=!0),a=tt(i,0,e._dayOfYear),e._a[vt]=a.getUTCMonth(),e._a[bt]=a.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=s[n]=r[n];for(;7>n;n++)e._a[n]=s[n]=null==e._a[n]?2===n?1:0:e._a[n];e._d=(e._useUTC?tt:et).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function V(e){var t;e._d||(t=k(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],N(e))}function q(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function $(e){if(e._f===pt.ISO_8601)return void B(e);e._a=[],e._pf.empty=!0;var t=""+e._i,n,a,s,r,i,o=t.length,u=0;for(s=A(e._f,e._locale).match(Lt)||[],n=0;n<s.length;n++)r=s[n],a=(t.match(x(r,e))||[])[0],a&&(i=t.substr(0,t.indexOf(a)),i.length>0&&e._pf.unusedInput.push(i),t=t.slice(t.indexOf(a)+a.length),u+=a.length),_n[r]?(a?e._pf.empty=!1:e._pf.unusedTokens.push(r),E(r,a,e)):e._strict&&!a&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=o-u,t.length>0&&e._pf.unusedInput.push(t),e._isPm&&e._a[St]<12&&(e._a[St]+=12),e._isPm===!1&&12===e._a[St]&&(e._a[St]=0),N(e),G(e)}function J(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,s){return t||n||a||s})}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(e){var t,a,s,r,i;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)i=0,t=h({},e),t._pf=n(),t._f=e._f[r],$(t),F(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==s||s>i)&&(s=i,a=t));d(e,a||t)}function B(e){var t,n,a=e._i,s=en.exec(a);if(s){for(e._pf.iso=!0,t=0,n=nn.length;n>t;t++)if(nn[t][1].exec(a)){e._f=nn[t][0]+(s[6]||" ");break}for(t=0,n=an.length;n>t;t++)if(an[t][1].exec(a)){e._f+=an[t][0];break}a.match(Nt)&&(e._f+="Z"),$(e)}else e._isValid=!1}function R(e){B(e),e._isValid===!1&&(delete e._isValid,pt.createFromInputFallback(e))}function K(t){var n=t._i,a;n===e?t._d=new Date:M(n)?t._d=new Date(+n):null!==(a=Ct.exec(n))?t._d=new Date(+a[1]):"string"==typeof n?R(t):D(n)?(t._a=n.slice(0),N(t)):"object"==typeof n?V(t):"number"==typeof n?t._d=new Date(n):pt.createFromInputFallback(t)}function et(e,t,n,a,s,r,i){var o=new Date(e,t,n,a,s,r,i);return 1970>e&&o.setFullYear(e),o}function tt(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function nt(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function at(e,t,n,a,s){return s.relativeTime(t||1,!!n,e,a)}function st(e,t,n){var a=pt.duration(e).abs(),s=wt(a.as("s")),r=wt(a.as("m")),i=wt(a.as("h")),o=wt(a.as("d")),u=wt(a.as("M")),c=wt(a.as("y")),l=s<dn.s&&["s",s]||1===r&&["m"]||r<dn.m&&["mm",r]||1===i&&["h"]||i<dn.h&&["hh",i]||1===o&&["d"]||o<dn.d&&["dd",o]||1===u&&["M"]||u<dn.M&&["MM",u]||1===c&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,at.apply({},l)}function rt(e,t,n){var a=n-t,s=n-e.day(),r;return s>a&&(s-=7),a-7>s&&(s+=7),r=pt(e).add(s,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function it(e,t,n,a,s){var r=tt(e,0,1).getUTCDay(),i,o;return r=0===r?7:r,n=null!=n?n:s,i=s-r+(r>a?7:0)-(s>r?7:0),o=7*(t-1)+(n-s)+i+1,{year:o>0?e:e-1,dayOfYear:o>0?o:O(e-1)+o}}function ot(t){var n=t._i,a=t._f;return t._locale=t._locale||pt.localeData(t._l),null===n||a===e&&""===n?pt.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),pt.isMoment(n)?new c(n,!0):(a?D(a)?X(t):$(t):K(t),new c(t)))}function ut(e,t){var n,a;if(1===t.length&&D(t[0])&&(t=t[0]),!t.length)return pt();for(n=t[0],a=1;a<t.length;++a)t[a][e](n)&&(n=t[a]);return n}function ct(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),S(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function lt(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function dt(e,t,n){return"Month"===t?ct(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ht(e,t){return function(n){return null!=n?(dt(this,e,n),pt.updateOffset(this,t),this):lt(this,e)}}function ft(e){return 400*e/146097}function _t(e){return 146097*e/400}function mt(e){pt.duration.fn[e]=function(){return this._data[e]}}function yt(e){"undefined"==typeof ender&&(Mt=Dt.moment,Dt.moment=e?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",pt):pt)}for(var pt,gt="2.8.1",Dt="undefined"!=typeof global?global:this,Mt,wt=Math.round,Yt,kt=0,vt=1,bt=2,St=3,Tt=4,Ot=5,Wt=6,Gt={},Ft=[],Ut="undefined"!=typeof module&&module.exports,Ct=/^\/?Date\((\-?\d+)/i,Pt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Lt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,It=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ht=/\d\d?/,At=/\d{1,3}/,xt=/\d{1,4}/,Zt=/[+\-]?\d{1,6}/,Et=/\d+/,jt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Nt=/Z|[\+\-]\d\d:?\d\d/gi,Vt=/T/i,qt=/[\+\-]?\d+(\.\d{1,3})?/,$t=/\d{1,2}/,Jt=/\d/,Qt=/\d\d/,Xt=/\d{3}/,Bt=/\d{4}/,Rt=/[+-]?\d{6}/,Kt=/[+-]?\d+/,en=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tn="YYYY-MM-DDTHH:mm:ssZ",nn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],an=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],sn=/([\+\-]|\d\d)/gi,rn="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),on={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},un={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},cn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ln={},dn={s:45,m:45,h:22,d:26,M:11},hn="DDD w W M D d".split(" "),fn="M D H h m s w W".split(" "),_n={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return _(this.year()%100,2)},YYYY:function(){return _(this.year(),4)},YYYYY:function(){return _(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+_(Math.abs(e),6)},gg:function(){return _(this.weekYear()%100,2)},gggg:function(){return _(this.weekYear(),4)},ggggg:function(){return _(this.weekYear(),5)},GG:function(){return _(this.isoWeekYear()%100,2)},GGGG:function(){return _(this.isoWeekYear(),4)},GGGGG:function(){return _(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return b(this.milliseconds()/100)},SS:function(){return _(b(this.milliseconds()/10),2)},SSS:function(){return _(this.milliseconds(),3)},SSSS:function(){return _(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+_(b(e/60),2)+":"+_(b(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+_(b(e/60),2)+_(b(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},mn={},yn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];hn.length;)Yt=hn.pop(),_n[Yt+"o"]=o(_n[Yt],Yt);for(;fn.length;)Yt=fn.pop(),_n[Yt+Yt]=i(_n[Yt],2);_n.DDDD=i(_n.DDD,3),d(u.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,a;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=pt.utc([2e3,t]),a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(a.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,a;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=pt([2e3,1]).day(t),a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,a){var s=this._relativeTime[n];return"function"==typeof s?s(e,t,n,a):s.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return rt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),pt=function(t,a,s,r){var i;return"boolean"==typeof s&&(r=s,s=e),i={},i._isAMomentObject=!0,i._i=t,i._f=a,i._l=s,i._strict=r,i._isUTC=!1,i._pf=n(),ot(i)},pt.suppressDeprecationWarnings=!1,pt.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),pt.min=function(){var e=[].slice.call(arguments,0);return ut("isBefore",e)},pt.max=function(){var e=[].slice.call(arguments,0);return ut("isAfter",e)},pt.utc=function(t,a,s,r){var i;return"boolean"==typeof s&&(r=s,s=e),i={},i._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=s,i._i=t,i._f=a,i._strict=r,i._pf=n(),ot(i).utc()},pt.unix=function(e){return pt(1e3*e)},pt.duration=function(e,t){var n=e,a=null,s,r,i,o;return pt.isDuration(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(n={},t?n[t]=e:n.milliseconds=e):(a=Pt.exec(e))?(s="-"===a[1]?-1:1,n={y:0,d:b(a[bt])*s,h:b(a[St])*s,m:b(a[Tt])*s,s:b(a[Ot])*s,ms:b(a[Wt])*s}):(a=zt.exec(e))?(s="-"===a[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*s},n={y:i(a[2]),M:i(a[3]),d:i(a[4]),h:i(a[5]),m:i(a[6]),s:i(a[7]),w:i(a[8])}):"object"==typeof n&&("from"in n||"to"in n)&&(o=y(pt(n.from),pt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),r=new l(n),pt.isDuration(e)&&e.hasOwnProperty("_locale")&&(r._locale=e._locale),r},pt.version=gt,pt.defaultFormat=tn,pt.ISO_8601=function(){},pt.momentProperties=Ft,pt.updateOffset=function(){},pt.relativeTimeThreshold=function(t,n){return dn[t]===e?!1:n===e?dn[t]:(dn[t]=n,!0)},pt.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return pt.locale(e,t)}),pt.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?pt.defineLocale(e,t):pt.localeData(e),n&&(pt.duration._locale=pt._locale=n)),pt._locale._abbr},pt.defineLocale=function(e,t){return null!==t?(t.abbr=e,Gt[e]||(Gt[e]=new u),Gt[e].set(t),pt.locale(e),Gt[e]):(delete Gt[e],null)},pt.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(e){return pt.localeData(e)}),pt.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return pt._locale;if(!D(e)){if(t=P(e))return t;e=[e]}return C(e)},pt.isMoment=function(e){return e instanceof c||null!=e&&e.hasOwnProperty("_isAMomentObject")},pt.isDuration=function(e){return e instanceof l};for(Yt=yn.length-1;Yt>=0;--Yt)v(yn[Yt]);pt.normalizeUnits=function(e){return Y(e)},pt.invalid=function(e){var t=pt.utc(0/0);return null!=e?d(t._pf,e):t._pf.userInvalidated=!0,t},pt.parseZone=function(){return pt.apply(null,arguments).parseZone()},pt.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)},d(pt.fn=c.prototype,{clone:function(){return pt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=pt(this).utc();return 0<e.year()&&e.year()<=9999?H(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return F(this)},isDSTShifted:function(){return this._a?this.isValid()&&w(this._a,(this._isUTC?pt.utc(this._a):pt(this._a)).toArray())>0:!1},parsingFlags:function(){return d({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._d.getTimezoneOffset(),"m")),this},format:function(e){var t=H(this,e||pt.defaultFormat);return this.localeData().postformat(t)},add:p(1,"add"),subtract:p(-1,"subtract"),diff:function(e,t,n){var a=z(e,this),s=6e4*(this.zone()-a.zone()),r,i;return t=Y(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+a.daysInMonth()),i=12*(this.year()-a.year())+(this.month()-a.month()),i+=(this-pt(this).startOf("month")-(a-pt(a).startOf("month")))/r,i-=6e4*(this.zone()-pt(this).startOf("month").zone()-(a.zone()-pt(a).startOf("month").zone()))/r,"year"===t&&(i/=12)):(r=this-a,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-s)/864e5:"week"===t?(r-s)/6048e5:r),n?i:f(i)},from:function(e,t){return pt.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(pt(),e)},calendar:function(e){var t=e||pt(),n=z(t,this).startOf("day"),a=this.diff(n,"days",!0),s=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this))},isLeapYear:function(){return W(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=nt(e,this.localeData()),this.add(e-t,"d")):t},month:ht("Month",!0),startOf:function(e){switch(e=Y(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=Y(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+pt(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+pt(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+z(e,this).startOf(t)},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=pt.apply(null,arguments),this>e?this:e}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=pt.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n=this._offset||0,a;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=Z(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(a=this._d.getTimezoneOffset()),this._offset=e,this._isUTC=!0,null!=a&&this.subtract(a,"m"),n!==e&&(!t||this._changeInProgress?g(this,pt.duration(n-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,pt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?pt(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return S(this.year(),this.month())},dayOfYear:function(e){var t=wt((pt(this).startOf("day")-pt(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=rt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=rt(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=rt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return T(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return T(this.year(),e.dow,e.doy)},get:function(e){return e=Y(e),this[e]()},set:function(e,t){return e=Y(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){return t===e?this._locale._abbr:(this._locale=pt.localeData(t),this)},lang:s("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===e?this.localeData():(this._locale=pt.localeData(t),this)}),localeData:function(){return this._locale}}),pt.fn.millisecond=pt.fn.milliseconds=ht("Milliseconds",!1),pt.fn.second=pt.fn.seconds=ht("Seconds",!1),pt.fn.minute=pt.fn.minutes=ht("Minutes",!1),pt.fn.hour=pt.fn.hours=ht("Hours",!0),pt.fn.date=ht("Date",!0),pt.fn.dates=s("dates accessor is deprecated. Use date instead.",ht("Date",!0)),pt.fn.year=ht("FullYear",!0),pt.fn.years=s("years accessor is deprecated. Use year instead.",ht("FullYear",!0)),pt.fn.days=pt.fn.day,pt.fn.months=pt.fn.month,pt.fn.weeks=pt.fn.week,pt.fn.isoWeeks=pt.fn.isoWeek,pt.fn.quarters=pt.fn.quarter,pt.fn.toJSON=pt.fn.toISOString,d(pt.duration.fn=l.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,n=this._months,a=this._data,s,r,i,o=0;a.milliseconds=e%1e3,s=f(e/1e3),a.seconds=s%60,r=f(s/60),a.minutes=r%60,i=f(r/60),a.hours=i%24,t+=f(i/24),o=f(ft(t)),t-=f(_t(o)),n+=f(t/30),t%=30,o+=f(n/12),n%=12,a.days=t,a.months=n,a.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)},humanize:function(e){var t=st(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=pt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=pt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=Y(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=Y(e),t=this._days+this._milliseconds/864e5,"month"===e||"year"===e)return n=this._months+12*ft(t),"month"===e?n:n/12;switch(t+=_t(this._months/12),e){case"week":return t/7;case"day":return t;case"hour":return 24*t;case"minute":return 24*t*60;case"second":return 24*t*60*60;case"millisecond":return 24*t*60*60*1e3;default:throw new Error("Unknown unit "+e)}},lang:pt.fn.lang,locale:pt.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),a=Math.abs(this.hours()),s=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(a||s||r?"T":"")+(a?a+"H":"")+(s?s+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}});for(Yt in on)on.hasOwnProperty(Yt)&&mt(Yt.toLowerCase());pt.duration.fn.asMilliseconds=function(){return this.as("ms")},pt.duration.fn.asSeconds=function(){return this.as("s")},pt.duration.fn.asMinutes=function(){return this.as("m")},pt.duration.fn.asHours=function(){return this.as("h")},pt.duration.fn.asDays=function(){return this.as("d")},pt.duration.fn.asWeeks=function(){return this.as("weeks")},pt.duration.fn.asMonths=function(){return this.as("M")},pt.duration.fn.asYears=function(){return this.as("y")},pt.locale("en",{ordinal:function(e){var t=e%10,n=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ut?module.exports=pt:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Dt.moment=Mt),pt}),yt(!0)):yt()}).call(this)}).call(this),function(){"undefined"!=typeof Package&&(t=this.moment)}.call(this),"undefined"==typeof Package&&(Package={}),Package["mrt:moment"]={moment:t}}();

!function(){var t=Package.meteor.Meteor,e=Package.jquery.$,i=Package.jquery.jQuery,n=Package.templating.Template,o=Package.blaze.Blaze,r=Package.blaze.UI,a=Package.blaze.Handlebars,s=Package.htmljs.HTML;(function(){!function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e=arguments,i,n={},o=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?o(t[n]||{},i):e[n]);return t};for(e[0]===!0&&(n=e[1],e=Array.prototype.slice.call(e,2)),i=e.length,t=0;i>t;t++)n=o(n,e[t]);return n}function i(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function o(t){return t&&"object"==typeof t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"number"==typeof t}function s(t){return N.log(t)/N.LN10}function l(t){return N.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function c(t){return t!==H&&null!==t}function d(t,e,i){var r,a;if(n(e))c(i)?t.setAttribute(e,i):t&&t.getAttribute&&(a=t.getAttribute(e));else if(c(e)&&o(e))for(r in e)t.setAttribute(r,e[r]);return a}function p(t){return r(t)?t:[t]}function u(){var t=arguments,e,i,n=t.length;for(e=0;n>e;e++)if(i=t[e],i!==H&&null!==i)return i}function g(e,i){ee&&!se&&i&&i.opacity!==H&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function f(e,i,n,o,r){var a=G.createElement(e);return i&&t(a,i),r&&g(a,{padding:0,border:Oe,margin:0}),n&&g(a,n),o&&o.appendChild(a),a}function m(e,i){var n=function(){return H};return n.prototype=new e,t(n.prototype,i),n}function y(t,e,n,o){var r=ni.numberFormat,a=fe.lang,s=+t||0,l=-1===e?(s.toString().split(".")[1]||"").length:isNaN(e=Z(e))?2:e,h=void 0===n?a.decimalPoint:n,c=void 0===o?a.thousandsSep:o,d=0>s?"-":"",p=String(i(s=Z(s).toFixed(l))),u=p.length>3?p.length%3:0;return r!==y?r(t,e,n,o):d+(u?p.substr(0,u)+c:"")+p.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+c)+(l?h+Z(s-p).toFixed(l).slice(2):"")}function x(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function v(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function b(t,e){var i=/f$/,n=/\.([0-9])/,o=fe.lang,r;return i.test(t)?(r=t.match(n),r=r?r[1]:-1,null!==e&&(e=y(e,r,o.decimalPoint,t.indexOf(",")>-1?o.thousandsSep:""))):e=me(t,e),e}function k(t,e){for(var i="{",n=!1,o,r,a,s,l,h=[],c,d;-1!==(d=t.indexOf(i));){if(o=t.slice(0,d),n){for(r=o.split(":"),a=r.shift().split("."),l=a.length,c=e,s=0;l>s;s++)c=c[a[s]];r.length&&(c=b(r.join(":"),c)),h.push(c)}else h.push(o);t=t.slice(d+1),n=!n,i=n?"}":"{"}return h.push(t),h.join("")}function w(t){return N.pow(10,V(N.log(t)/N.LN10))}function P(t,e,i,n){var o,r;for(i=u(i,1),o=t/i,e||(e=[1,2,2.5,5,10],n===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),r=0;r<e.length&&(t=e[r],!(o<=(e[r]+(e[r+1]||e[r]))/2));r++);return t*=i}function S(t,e){var i=t.length,n,o;for(o=0;i>o;o++)t[o].ss_i=o;for(t.sort(function(t,i){return n=e(t,i),0===n?t.ss_i-i.ss_i:n}),o=0;i>o;o++)delete t[o].ss_i}function A(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function T(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function C(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function L(t){ge||(ge=f(Te)),t&&ge.appendChild(t),ge.innerHTML=""}function M(t){return parseFloat(t.toPrecision(14))}function I(t,e){ye=u(t,e.animation)}function D(){var t=fe.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";Ne=fe.global.Date||window.Date,Ve=6e4*(t&&fe.global.timezoneOffset||0),Fe=t?Ne.UTC:function(t,e,i,n,o,r){return new Ne(t,e,u(i,1),u(n,0),u(o,0),u(r,0)).getTime()},je=e+"Minutes",_e=e+"Hours",Ue=e+"Day",Ze=e+"Date",qe=e+"Month",Ke=e+"FullYear",$e=i+"Minutes",Je=i+"Hours",Qe=i+"Date",ti=i+"Month",ei=i+"FullYear"}function z(t){return fe=e(!0,fe,t),D(),fe}function O(){return fe}function R(){}function B(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||n||this.addLabel()}function X(){this.init.apply(this,arguments)}function W(){this.init.apply(this,arguments)}function Y(t,e,i,n,o){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=o,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:u(e.y,r?4:i?14:-6),x:u(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")}var H,G=document,E=window,N=Math,F=N.round,V=N.floor,j=N.ceil,_=N.max,U=N.min,Z=N.abs,q=N.cos,K=N.sin,$=N.PI,J=2*$/360,Q=navigator.userAgent,te=E.opera,ee=/msie/i.test(Q)&&!te,ie=8===G.documentMode,ne=/AppleWebKit/.test(Q),oe=/Firefox/.test(Q),re=/(Mobile|Android|Windows Phone)/.test(Q),ae="http://www.w3.org/2000/svg",se=!!G.createElementNS&&!!G.createElementNS(ae,"svg").createSVGRect,le=oe&&parseInt(Q.split("Firefox/")[1],10)<4,he=!se&&!ee&&!!G.createElement("canvas").getContext,ce,de,pe={},ue=0,ge,fe,me,ye,xe,ve,be,ke=function(){return H},we=[],Pe=0,Se="Highcharts",Ae="4.0.4",Te="div",Ce="absolute",Le="relative",Me="hidden",Ie="highcharts-",De="visible",ze="px",Oe="none",Re="M",Be="L",Xe=/^[0-9]+$/,We="",Ye="hover",He="select",Ge,Ee="stroke-width",Ne,Fe,Ve,je,_e,Ue,Ze,qe,Ke,$e,Je,Qe,ti,ei,ii={},ni;E.Highcharts?be(16,!0):ni=E.Highcharts={},me=function(e,i,n){if(!c(i)||isNaN(i))return"Invalid date";e=u(e,"%Y-%m-%d %H:%M:%S");var o=new Ne(i-Ve),r,a=o[_e](),s=o[Ue](),l=o[Ze](),h=o[qe](),d=o[Ke](),p=fe.lang,g=p.weekdays,f=t({a:g[s].substr(0,3),A:g[s],d:x(l),e:l,b:p.shortMonths[h],B:p.months[h],m:x(h+1),y:d.toString().substr(2,2),Y:d,H:x(a),I:x(a%12||12),l:a%12||12,M:x(o[je]()),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:x(o.getSeconds()),L:x(F(i%1e3),3)},ni.dateFormats);for(r in f)for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"==typeof f[r]?f[r](i):f[r]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},be=function(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;E.console&&console.log(i)},ve={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3},xe={init:function(t,e,i){e=e||"";var n=t.shift,o=e.indexOf("C")>-1,r=o?7:3,a,s,l,h=e.split(" "),c=[].concat(i),d,p,u=function(t){for(l=t.length;l--;)t[l]===Re&&t.splice(l+1,0,t[l+1],t[l+2],t[l+1],t[l+2])};if(o&&(u(h),u(c)),t.isArea&&(d=h.splice(h.length-6,6),p=c.splice(c.length-6,6)),n<=c.length/r&&h.length===c.length)for(;n--;)c=[].concat(c).splice(0,r).concat(c);if(t.shift=0,h.length)for(a=c.length;h.length<a;)s=[].concat(h).splice(h.length-r,r),o&&(s[r-6]=s[r-2],s[r-5]=s[r-1]),h=h.concat(s);return d&&(h=h.concat(d),c=c.concat(p)),[h,c]},step:function(t,e,i,n){var o=[],r=t.length,a;if(1===i)o=n;else if(r===e.length&&1>i)for(;r--;)a=parseFloat(t[r]),o[r]=isNaN(a)?t[r]:i*parseFloat(e[r]-a)+a;else o=e;return o}},function(e){E.HighchartsAdapter=E.HighchartsAdapter||e&&{init:function(t){var i=e.fx;e.extend(e.easing,{easeOutQuad:function(t,e,i,n,o){return-n*(e/=o)*(e-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,n){var o=i.step,r;"cur"===n?o=i.prototype:"_default"===n&&e.Tween&&(o=e.Tween.propHooks[n],n="set"),r=o[n],r&&(o[n]=function(e){var i;return e=t?e:this,"align"!==e.prop?(i=e.elem,i.attr?i.attr(e.prop,"cur"===n?H:e.now):r.apply(this,arguments)):void 0})}),v(e.cssHooks.opacity,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),this.addAnimSetter("d",function(e){var i=e.elem,n;e.started||(n=t.init(i,i.d,i.toD),e.start=n[0],e.end=n[1],e.started=!0),i.attr("d",t.step(e.start,e.end,e.pos,i.toD))}),this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){var i,n=t.length;for(i=0;n>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i},e.fn.highcharts=function(){var t="Chart",e=arguments,i,o,r;return this[0]&&(n(e[0])&&(t=e[0],e=Array.prototype.slice.call(e,1)),i=e[0],i!==H&&(i.chart=i.chart||{},i.chart.renderTo=this[0],r=new ni[t](i,e[1]),o=this),i===H&&(o=we[d(this[0],"data-highcharts-chart")])),o}},addAnimSetter:function(t,i){e.Tween?e.Tween.propHooks[t]={set:i}:e.fx.step[t]=i},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],n=0,o=t.length;o>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var o=G.removeEventListener?"removeEventListener":"detachEvent";G[o]&&t&&!t[o]&&(t[o]=function(){}),e(t).unbind(i,n)},fireEvent:function(i,n,o,r){var a=e.Event(n),s="detached"+n,l;!ee&&o&&(delete o.layerX,delete o.layerY,delete o.returnValue),t(a,o),i[n]&&(i[s]=i[n],i[n]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=a[e];a[e]=function(){try{i.call(a)}catch(t){"preventDefault"===e&&(l=!0)}}}),e(i).trigger(a),i[s]&&(i[n]=i[s],i[s]=null),!r||a.isDefaultPrevented()||l||r(a)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===H&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,n){var o=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),o.stop(),i.opacity!==H&&t.attr&&(i.opacity+="px"),t.hasAnim=1,o.animate(i,n)},stop:function(t){t.hasAnim&&e(t).stop()}}}(E.jQuery);var oi=E.HighchartsAdapter,ri=oi||{};oi&&oi.init.call(oi,xe);var ai=ri.adapterRun,si=ri.getScript,li=ri.inArray,hi=ri.each,ci=ri.grep,di=ri.offset,pi=ri.map,ui=ri.addEvent,gi=ri.removeEvent,fi=ri.fireEvent,mi=ri.washMouseEvent,yi=ri.animate,xi=ri.stop,vi={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};fe={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#8085e8","#8d4653","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(vi,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":y(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:Ce,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:Ce,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:Le,top:"45%"},style:{position:Ce,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:se,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:re?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var bi=fe.plotOptions,ki=bi.line;D();var wi=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Pi=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Si=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Ai=function(t){function n(t){t&&t.stops?c=pi(t.stops,function(t){return Ai(t[1])}):(h=wi.exec(t),h?l=[i(h[1]),i(h[2]),i(h[3]),parseFloat(h[4],10)]:(h=Pi.exec(t),h?l=[i(h[1],16),i(h[2],16),i(h[3],16),1]:(h=Si.exec(t),h&&(l=[i(h[1]),i(h[2]),i(h[3]),1]))))}function o(i){var n;return c?(n=e(t),n.stops=[].concat(n.stops),hi(c,function(t,e){n.stops[e]=[n.stops[e][0],t.get(i)]})):n=l&&!isNaN(l[0])?"rgb"===i?"rgb("+l[0]+","+l[1]+","+l[2]+")":"a"===i?l[3]:"rgba("+l.join(",")+")":t,n}function r(t){if(c)hi(c,function(e){e.brighten(t)});else if(a(t)&&0!==t){var e;for(e=0;3>e;e++)l[e]+=i(255*t),l[e]<0&&(l[e]=0),l[e]>255&&(l[e]=255)}return this}function s(t){return l[3]=t,this}var l=[],h,c;return n(t),{get:o,brighten:r,rgba:l,setOpacity:s}};R.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow","HcTextStroke"],init:function(t,e){var i=this;i.element="span"===e?f(e):G.createElementNS(ae,e),i.renderer=t},animate:function(t,i,n){var o=u(i,ye,!0);return xi(this),o?(o=e(o,{}),n&&(o.complete=n),yi(this,t,o)):(this.attr(t),n&&n()),this},colorGradient:function(t,i,n){var o=this.renderer,a,s,l,h,d,p,u,g,f,m,y,x=[];if(t.linearGradient?s="linearGradient":t.radialGradient&&(s="radialGradient"),s){l=t[s],h=o.gradients,p=t.stops,f=n.radialReference,r(l)&&(t[s]=l={x1:l[0],y1:l[1],x2:l[2],y2:l[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&f&&!c(l.gradientUnits)&&(l=e(l,{cx:f[0]-f[2]/2+l.cx*f[2],cy:f[1]-f[2]/2+l.cy*f[2],r:l.r*f[2],gradientUnits:"userSpaceOnUse"}));for(m in l)"id"!==m&&x.push(m,l[m]);for(m in p)x.push(p[m]);x=x.join(","),h[x]?y=h[x].attr("id"):(l.id=y=Ie+ue++,h[x]=d=o.createElement(s).attr(l).add(o.defs),d.stops=[],hi(p,function(t){var e;0===t[1].indexOf("rgba")?(a=Ai(t[1]),u=a.get("rgb"),g=a.get("a")):(u=t[1],g=1),e=o.createElement("stop").attr({offset:t[0],"stop-color":u,"stop-opacity":g}).add(d),d.stops.push(e)})),n.setAttribute(i,"url("+o.url+"#"+y+")")}},attr:function(t,e){var i,n,o=this.element,r,a=this,s;if("string"==typeof t&&e!==H&&(i=t,t={},t[i]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,o);else{for(i in t)n=t[i],s=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(r||(this.symbolAttr(t),r=!0),s=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),s||(this[i+"Setter"]||this._defaultSetter).call(this,n,i,o),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,n);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return a},updateShadows:function(t,e){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(t,"height"===t?_(e-(i[n].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,i=d(e,"class")||"";return-1===i.indexOf(t)&&d(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;hi(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=u(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Oe)},crisp:function(t){var e=this,i,n={},o,r=t.strokeWidth||e.strokeWidth||0;o=F(r)%2/2,t.x=V(t.x||e.x||0)+o,t.y=V(t.y||e.y||0)+o,t.width=V((t.width||e.width||0)-2*o),t.height=V((t.height||e.height||0)-2*o),t.strokeWidth=r;for(i in t)e[i]!==t[i]&&(e[i]=n[i]=t[i]);return n},css:function(e){var n=this,o=n.styles,r={},a=n.element,s,l,h="",c,p=!o;if(e&&e.color&&(e.fill=e.color),o)for(l in e)e[l]!==o[l]&&(r[l]=e[l],p=!0);if(p){if(s=n.textWidth=e&&e.width&&"text"===a.nodeName.toLowerCase()&&i(e.width),o&&(e=t(o,r)),n.styles=e,s&&(he||!se&&n.renderer.forExport)&&delete e.width,ee&&!se)g(n.element,e);else{c=function(t,e){return"-"+e.toLowerCase()};for(l in e)h+=l.replace(/([A-Z])/g,c)+":"+e[l]+";";d(a,"style",h)}s&&n.added&&n.renderer.buildText(n)}return n},on:function(t,e){var i=this,n=i.element;return de&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Ne.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===Q.indexOf("Android")||Ne.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},updateTransform:function(){var t=this,e=t.translateX||0,i=t.translateY||0,n=t.scaleX,o=t.scaleY,r=t.inverted,a=t.rotation,s=t.element,l;r&&(e+=t.attr("width"),i+=t.attr("height")),l=["translate("+e+","+i+")"],r?l.push("rotate(90) scale(-1,1)"):a&&l.push("rotate("+a+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(c(n)||c(o))&&l.push("scale("+u(n,1)+" "+u(o,1)+")"),l.length&&s.setAttribute("transform",l.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var o,r,a,s,l={},c,d=this.renderer,p=d.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,(!i||n(i))&&(this.alignTo=c=i||"renderer",h(p,this),p.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,c=this.alignTo),i=u(i,d[c],d),o=t.align,r=t.verticalAlign,a=(i.x||0)+(t.x||0),s=(i.y||0)+(t.y||0),("right"===o||"center"===o)&&(a+=(i.width-(t.width||0))/{right:1,center:2}[o]),l[e?"translateX":"x"]=F(a),("bottom"===r||"middle"===r)&&(s+=(i.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),l[e?"translateY":"y"]=F(s),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(){var e=this,i=e.bBox,n=e.renderer,o,r,a=e.rotation,s=e.element,l=e.styles,h=a*J,c=e.textStr,d;if((""===c||Xe.test(c))&&(d="num."+c.toString().length+(l?"|"+l.fontSize+"|"+l.fontFamily:"")),d&&(i=n.cache[d]),!i){if(s.namespaceURI===ae||n.forExport){try{i=s.getBBox?t({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight}}catch(p){}(!i||i.width<0)&&(i={width:0,height:0})}else i=e.htmlGetBBox();n.isSVG&&(o=i.width,r=i.height,ee&&l&&"11px"===l.fontSize&&"16.9"===r.toPrecision(3)&&(i.height=r=14),a&&(i.width=Z(r*K(h))+Z(o*q(h)),i.height=Z(r*q(h))+Z(o*K(h)))),e.bBox=i,d&&(n.cache[d]=i)}return i},show:function(t){return t&&this.element.namespaceURI===ae?this.element.removeAttribute("visibility"):this.attr({visibility:t?"inherit":De}),this},hide:function(){return this.attr({visibility:Me})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e=this.renderer,n=t||e,o=n.element||e.box,r,a=this.element,s=this.zIndex,l,h,p,u;if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&e.buildText(this),s&&(n.handleZ=!0,s=i(s)),n.handleZ)for(r=o.childNodes,p=0;p<r.length;p++)if(l=r[p],h=d(l,"zIndex"),l!==a&&(i(h)>s||!c(s)&&c(h))){o.insertBefore(a,l),u=!0;break}return u||o.appendChild(a),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.shadows,n=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,o,r,a;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,xi(t),t.clipPath&&(t.clipPath=t.clipPath.destroy()),t.stops){for(a=0;a<t.stops.length;a++)t.stops[a]=t.stops[a].destroy();t.stops=null}for(t.safeRemoveChild(e),i&&hi(i,function(e){t.safeRemoveChild(e)});n&&n.div&&0===n.div.childNodes.length;)o=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=o;t.alignTo&&h(t.renderer.alignedObjects,t);for(r in t)delete t[r];return null},shadow:function(t,e,i){var n=[],o,r,a=this.element,s,l,h,c;if(t){for(l=u(t.width,3),h=(t.opacity||.15)/l,c=this.parentInverted?"(-1,-1)":"("+u(t.offsetX,1)+", "+u(t.offsetY,1)+")",o=1;l>=o;o++)r=a.cloneNode(0),s=2*l+1-2*o,d(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":h*o,"stroke-width":s,transform:"translate"+c,fill:Oe}),i&&(d(r,"height",_(d(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):a.parentNode.insertBefore(r,a),n.push(r);this.shadows=n}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){var e=u(this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e;if(t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=i(t[e])*this["stroke-width"];t=t.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=G.createElementNS(ae,"title"),this.element.appendChild(e)),e.textContent=u(t,"").replace(/<[^>]*>/g,"")},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},zIndexSetter:function(t,e,i){i.setAttribute(e,t),this[e]=t},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},R.prototype.yGetter=R.prototype.xGetter,R.prototype.translateXSetter=R.prototype.translateYSetter=R.prototype.rotationSetter=R.prototype.verticalAlignSetter=R.prototype.scaleXSetter=R.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},R.prototype["stroke-widthSetter"]=R.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],R.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var Ti=function(){this.init.apply(this,arguments)};Ti.prototype={Element:R,init:function(t,e,i,n,o){var r=this,a=location,s,l,h;s=r.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n)),l=s.element,t.appendChild(l),-1===t.innerHTML.indexOf("xmlns")&&d(l,"xmlns",ae),r.isSVG=!0,r.box=l,r.boxWrapper=s,r.alignedObjects=[],r.url=(oe||ne)&&G.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",h=this.createElement("desc").add(),h.element.appendChild(G.createTextNode("Created with "+Se+" "+Ae)),r.defs=this.createElement("defs").add(),r.forExport=o,r.gradients={},r.cache={},r.setSize(e,i,!1);var c,p;oe&&t.getBoundingClientRect&&(r.subPixelFix=c=function(){g(t,{left:0,top:0}),p=t.getBoundingClientRect(),g(t,{left:j(p.left)-p.left+ze,top:j(p.top)-p.top+ze})},c(),ui(E,"resize",c))},getStyle:function(e){return this.style=t({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),C(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&gi(E,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,n=this,o=n.forExport,r=u(t.textStr,"").toString(),a=-1!==r.indexOf("<"),s,l=e.childNodes,h,c,p=d(e,"x"),f=t.styles,m=t.textWidth,y=f&&f.lineHeight,x=f&&f.HcTextStroke,v=l.length,b=function(t){return y?i(y):n.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:f&&f.fontSize||n.style.fontSize||12,t).h};v--;)e.removeChild(l[v]);return a||x||-1!==r.indexOf(" ")?(h=/<.*style="([^"]+)".*>/,c=/<.*href="(http[^"]+)".*>/,m&&!t.added&&this.box.appendChild(e),s=a?r.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[r],""===s[s.length-1]&&s.pop(),hi(s,function(i,r){var a,s=0;i=i.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),a=i.split("|||"),hi(a,function(i){if(""!==i||1===a.length){var l={},u=G.createElementNS(ae,"tspan"),y;if(h.test(i)&&(y=i.match(h)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),d(u,"style",y)),c.test(i)&&!o&&(d(u,"onclick",'location.href="'+i.match(c)[1]+'"'),g(u,{cursor:"pointer"})),i=(i.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==i){if(u.appendChild(G.createTextNode(i)),s?l.dx=0:r&&null!==p&&(l.x=p),d(u,l),e.appendChild(u),!s&&r&&(!se&&o&&g(u,{display:"block"}),d(u,"dy",b(u))),m)for(var x=i.replace(/([^\^])-/g,"$1- ").split(" "),v=a.length>1||x.length>1&&"nowrap"!==f.whiteSpace,k,w,P=f.HcHeight,S=[],A=b(u),T=1,C;v&&(x.length||S.length);)delete t.bBox,C=t.getBBox(),w=C.width,!se&&n.forExport&&(w=n.measureSpanWidth(u.firstChild.data,t.styles)),k=w>m,k&&1!==x.length?(u.removeChild(u.firstChild),S.unshift(x.pop())):(x=S,S=[],x.length&&(T++,P&&T*A>P?(x=["..."],t.attr("title",t.textStr)):(u=G.createElementNS(ae,"tspan"),d(u,{dy:A,x:p}),y&&d(u,"style",y),e.appendChild(u))),w>m&&(m=w)),x.length&&u.appendChild(G.createTextNode(x.join(" ").replace(/- /g,"-")));s++}}})}),void 0):void e.appendChild(G.createTextNode(r))},button:function(i,n,o,r,a,s,l,h,c){var d=this.label(i,n,o,c,null,null,null,null,"button"),p=0,u,g,f,m,y,x,v={x1:0,y1:0,x2:0,y2:1};return a=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:v,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a),f=a.style,delete a.style,s=e(a,{stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),m=s.style,delete s.style,l=e(a,{stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),y=l.style,delete l.style,h=e(a,{style:{color:"#CCC"}},h),x=h.style,delete h.style,ui(d.element,ee?"mouseover":"mouseenter",function(){3!==p&&d.attr(s).css(m)}),ui(d.element,ee?"mouseout":"mouseleave",function(){3!==p&&(u=[a,s,l][p],g=[f,m,y][p],d.attr(u).css(g))}),d.setState=function(t){d.state=p=t,t?2===t?d.attr(l).css(y):3===t&&d.attr(h).css(x):d.attr(a).css(f)},d.on("click",function(){3!==p&&r.call(d)}).attr(a).css(t({cursor:"default"},f))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=F(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=F(t[2])+e%2/2),t},path:function(e){var i={fill:Oe};return r(e)?i.d=e:o(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){var n=o(t)?t:{x:t,y:e,r:i},r=this.createElement("circle");return r.xSetter=function(t){this.element.setAttribute("cx",t)},r.ySetter=function(t){this.element.setAttribute("cy",t)},r.attr(n)},arc:function(t,e,i,n,r,a){var s;return o(t)&&(e=t.y,i=t.r,n=t.innerR,r=t.start,a=t.end,t=t.x),s=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:r||0,end:a||0}),s.r=i,s},rect:function(t,e,i,n,r,a){r=o(t)?t.r:r;var s=this.createElement("rect"),l=o(t)?t:t===H?{}:{x:t,y:e,width:_(i,0),height:_(n,0)};return a!==H&&(l.strokeWidth=a,l=s.crisp(l)),r&&(l.r=r),s.rSetter=function(t){d(this.element,{rx:t,ry:t})},s.attr(l)},setSize:function(t,e,i){var n=this,o=n.alignedObjects,r=o.length;for(n.width=t,n.height=e,n.boxWrapper[u(i,!0)?"animate":"attr"]({width:t,height:e});r--;)o[r].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({"class":Ie+t}):e},image:function(e,i,n,o,r){var a={preserveAspectRatio:Oe},s;return arguments.length>1&&t(a,{x:i,y:n,width:o,height:r}),s=this.createElement("image").attr(a),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):s.element.setAttribute("hc-svg-href",e),s},symbol:function(e,i,n,o,r,a){var s,l=this.symbols[e],h=l&&l(F(i),F(n),o,r,a),c,d=/^url\((.*?)\)$/,p,u,g;return h?(s=this.path(h),t(s,{symbolName:e,x:i,y:n,width:o,height:r}),a&&t(s,a)):d.test(e)&&(g=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(F((o-e[0])/2),F((r-e[1])/2)))},p=e.match(d)[1],u=pe[p]||a&&a.width&&a.height&&[a.width,a.height],s=this.image(p).attr({x:i,y:n}),s.isImg=!0,u?g(s,u):(s.attr({width:0,height:0}),c=f("img",{onload:function(){g(s,pe[p]=[this.width,this.height])},src:p}))),s},symbols:{circle:function(t,e,i,n){var o=.166*i;return[Re,t+i/2,e,"C",t+i+o,e,t+i+o,e+n,t+i/2,e+n,"C",t-o,e+n,t-o,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[Re,t,e,Be,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Re,t+i/2,e,Be,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Re,t,e,Be,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Re,t+i/2,e,Be,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,o){var r=o.start,a=o.r||i||n,s=o.end-.001,l=o.innerR,h=o.open,c=q(r),d=K(r),p=q(s),u=K(s),g=o.end-r<$?0:1;return[Re,t+a*c,e+a*d,"A",a,a,0,g,1,t+a*p,e+a*u,h?Re:Be,t+l*p,e+l*u,"A",l,l,0,g,0,t+l*c,e+l*d,h?"":"Z"]},callout:function(t,e,i,n,o){var r=6,a=6,s=U(o&&o.r||0,i,n),l=s+a,h=o&&o.anchorX,c=o&&o.anchorY,d,p=F(o.strokeWidth||0)%2/2;return t+=p,e+=p,d=["M",t+s,e,"L",t+i-s,e,"C",t+i,e,t+i,e,t+i,e+s,"L",t+i,e+n-s,"C",t+i,e+n,t+i,e+n,t+i-s,e+n,"L",t+s,e+n,"C",t,e+n,t,e+n,t,e+n-s,"L",t,e+s,"C",t,e,t,e,t+s,e],h&&h>i&&c>e+l&&e+n-l>c?d.splice(13,3,"L",t+i,c-a,t+i+r,c,t+i,c+a,t+i,e+n-s):h&&0>h&&c>e+l&&e+n-l>c?d.splice(33,3,"L",t,c+a,t-r,c,t,c-a,t,e+s):c&&c>n&&h>t+l&&t+i-l>h?d.splice(23,3,"L",h+a,e+n,h,e+n+r,h-a,e+n,t+s,e+n):c&&0>c&&h>t+l&&t+i-l>h&&d.splice(3,3,"L",h-a,e,h,e-r,h+a,e,i-s,e),d}},clipRect:function(t,e,i,n){var o,r=Ie+ue++,a=this.createElement("clipPath").attr({id:r}).add(this.defs);return o=this.rect(t,e,i,n,0).add(a),o.id=r,o.clipPath=a,o},text:function(t,e,i,n){var o=this,r=he||!se&&o.forExport,a,s={};return n&&!o.forExport?o.html(t,e,i):(s.x=Math.round(e||0),i&&(s.y=Math.round(i)),(t||0===t)&&(s.text=t),a=o.createElement("text").attr(s),r&&a.css({position:Ce}),n||(a.xSetter=function(t,e,i){var n=i.getElementsByTagName("tspan"),o,r=i.getAttribute(e),a;for(a=0;a<n.length;a++)o=n[a],o.getAttribute(e)===r&&o.setAttribute(e,t);i.setAttribute(e,t)}),a)},fontMetrics:function(t,e){t=t||this.style.fontSize,e&&E.getComputedStyle&&(e=e.element||e,t=E.getComputedStyle(e,"").fontSize),t=/px/.test(t)?i(t):/em/.test(t)?12*parseFloat(t):12;var n=24>t?t+4:F(1.2*t),o=F(.8*n);return{h:n,b:o,f:t}},label:function(i,n,o,r,a,s,l,h,d){function p(){var e,i,n=y.element.style;v=(void 0===P||void 0===S||m.styles.textAlign)&&y.textStr&&y.getBBox(),m.width=(P||v.width||0)+2*k+w,m.height=(S||v.height||0)+2*k,M=k+f.fontMetrics(n&&n.fontSize,y).b,I&&(x||(e=F(-b*k),i=h?-M:0,m.box=x=r?f.symbol(r,e,i,m.width,m.height,L):f.rect(e,i,m.width,m.height,0,L[Ee]),x.attr("fill",Oe).add(m)),x.isImg||x.attr(t({width:F(m.width),height:F(m.height)},L)),L=null)
}function u(){var t=m.styles,e=t&&t.textAlign,i=w+k*(1-b),n;n=h?0:M,c(P)&&v&&("center"===e||"right"===e)&&(i+={center:.5,right:1}[e]*(P-v.width)),(i!==y.x||n!==y.y)&&(y.attr("x",i),n!==H&&y.attr("y",n)),y.x=i,y.y=n}function g(t,e){x?x.attr(t,e):L[t]=e}var f=this,m=f.g(d),y=f.text("",0,0,l).attr({zIndex:1}),x,v,b=0,k=3,w=0,P,S,A,T,C=0,L={},M,I;m.onAdd=function(){y.add(m),m.attr({text:i||0===i?i:"",x:n,y:o}),x&&c(a)&&m.attr({anchorX:a,anchorY:s})},m.widthSetter=function(t){P=t},m.heightSetter=function(t){S=t},m.paddingSetter=function(t){c(t)&&t!==k&&(k=t,u())},m.paddingLeftSetter=function(t){c(t)&&t!==w&&(w=t,u())},m.alignSetter=function(t){b={left:0,center:.5,right:1}[t]},m.textSetter=function(t){t!==H&&y.textSetter(t),p(),u()},m["stroke-widthSetter"]=function(t,e){t&&(I=!0),C=t%2/2,g(e,t)},m.strokeSetter=m.fillSetter=m.rSetter=function(t,e){"fill"===e&&t&&(I=!0),g(e,t)},m.anchorXSetter=function(t,e){a=t,g(e,t+C-A)},m.anchorYSetter=function(t,e){s=t,g(e,t-T)},m.xSetter=function(t){m.x=t,b&&(t-=b*((P||v.width)+k)),A=F(t),m.attr("translateX",A)},m.ySetter=function(t){T=m.y=F(t),m.attr("translateY",T)};var D=m.css;return t(m,{css:function(t){if(t){var i={};t=e(t),hi(m.textProps,function(e){t[e]!==H&&(i[e]=t[e],delete t[e])}),y.css(i)}return D.call(m,t)},getBBox:function(){return{width:v.width+2*k,height:v.height+2*k,x:v.x-k,y:v.y-k}},shadow:function(t){return x&&x.shadow(t),m},destroy:function(){gi(m.element,"mouseenter"),gi(m.element,"mouseleave"),y&&(y=y.destroy()),x&&(x=x.destroy()),R.prototype.destroy.call(m),m=f=p=u=g=null}})}},ce=Ti,t(R.prototype,{htmlCss:function(e){var i=this,n=i.element,o=e&&"SPAN"===n.tagName&&e.width;return o&&(delete e.width,i.textWidth=o,i.updateTransform()),i.styles=t(i.styles,e),g(i.element,e),i},htmlGetBBox:function(){var t=this,e=t.element,i=t.bBox;return i||("text"===e.nodeName&&(e.style.position=Ce),i=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),i},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,e=t.renderer,n=t.element,o=t.translateX||0,r=t.translateY||0,a=t.x||0,s=t.y||0,l=t.textAlign||"left",h={left:0,center:.5,right:1}[l],d=t.shadows;if(g(n,{marginLeft:o,marginTop:r}),d&&hi(d,function(t){g(t,{marginLeft:o+1,marginTop:r+1})}),t.inverted&&hi(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var p,f=t.rotation,m,y=i(t.textWidth),x=[f,l,n.innerHTML,t.textWidth].join(",");x!==t.cTT&&(m=e.fontMetrics(n.style.fontSize).b,c(f)&&t.setSpanRotation(f,h,m),p=u(t.elemWidth,n.offsetWidth),p>y&&/[ \-]/.test(n.textContent||n.innerText)&&(g(n,{width:y+ze,display:"block",whiteSpace:"normal"}),p=y),t.getSpanCorrection(p,m,h,f,l)),g(n,{left:a+(t.xCorr||0)+ze,top:s+(t.yCorr||0)+ze}),ne&&(m=n.offsetHeight),t.cTT=x}},setSpanRotation:function(t,e,i){var n={},o=ee?"-ms-transform":ne?"-webkit-transform":oe?"MozTransform":te?"-o-transform":"";n[o]=n.transform="rotate("+t+"deg)",n[o+(oe?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",g(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),t(Ti.prototype,{html:function(e,i,n){var o=this.createElement("span"),r=o.element,a=o.renderer;return o.textSetter=function(t){t!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=t},o.xSetter=o.ySetter=o.alignSetter=o.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform()},o.attr({text:e,x:F(i),y:F(n)}).css({position:Ce,whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.css=o.htmlCss,a.isSVG&&(o.add=function(e){var i,n=a.box.parentNode,s,l=[];if(this.parentGroup=e,e){if(i=e.div,!i){for(s=e;s;)l.push(s),s=s.parentGroup;hi(l.reverse(),function(e){var o;i=e.div=e.div||f(Te,{className:d(e.element,"class")},{position:Ce,left:(e.translateX||0)+ze,top:(e.translateY||0)+ze},i||n),o=i.style,t(e,{translateXSetter:function(t,i){o.left=t+ze,e[i]=t,e.doTransform=!0},translateYSetter:function(t,i){o.top=t+ze,e[i]=t,e.doTransform=!0},visibilitySetter:function(t,e){o[e]=t}})})}}else i=n;return i.appendChild(r),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o}});var Ci,Li;if(!se&&!he){Li={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],o=["position: ",Ce,";"],r=e===Te;("shape"===e||r)&&o.push("left:0;top:0;width:1px;height:1px;"),o.push("visibility: ",r?Me:De),n.push(' style="',o.join(""),'"/>'),e&&(n=r||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=f(n)),i.renderer=t},add:function(t){var e=this,i=e.renderer,n=e.element,o=i.box,r=t&&t.inverted,a=t?t.element||t:o;return r&&i.invertChild(n,a),a.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),e},updateTransform:R.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=q(t*J),i=K(t*J);g(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):Oe})},getSpanCorrection:function(t,e,i,n,o){var r=n?q(n*J):1,a=n?K(n*J):0,s=u(this.elemHeight,this.element.offsetHeight),l,h=o&&"left"!==o;this.xCorr=0>r&&-t,this.yCorr=0>a&&-s,l=0>r*a,this.xCorr+=a*e*(l?1-i:i),this.yCorr-=r*e*(n?l?i:1-i:1),h&&(this.xCorr-=t*i*(0>r?-1:1),n&&(this.yCorr-=s*i*(0>a?-1:1)),g(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)a(t[e])?i[e]=F(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e=this,i,n;return t?(i=t.members,h(i,e),i.push(e),e.destroyClip=function(){h(i,e)},n=t.getCSS(e)):(e.destroyClip&&e.destroyClip(),n={clip:ie?"inherit":"rect(auto)"}),e.css(n)},css:R.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&L(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),R.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=E.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return t=t.split(/[ ,]/),n=t.length,(9===n||11===n)&&(t[n-4]=t[n-2]=i(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var o=[],r,a=this.element,s=this.renderer,l,h=a.style,c,d=a.path,p,g,m,y;if(d&&"string"!=typeof d.value&&(d="x"),g=d,t){for(m=u(t.width,3),y=(t.opacity||.15)/m,r=1;3>=r;r++)p=2*m+1-2*r,n&&(g=this.cutOffPath(d.value,p+.5)),c=['<shape isShadow="true" strokeweight="',p,'" filled="false" path="',g,'" coordsize="10 10" style="',a.style.cssText,'" />'],l=f(s.prepVML(c),null,{left:i(h.left)+u(t.offsetX,1),top:i(h.top)+u(t.offsetY,1)}),n&&(l.cutOff=p+1),c=['<stroke color="',t.color||"black",'" opacity="',y*r,'"/>'],f(s.prepVML(c),null,null,l),e?e.element.appendChild(l):a.parentNode.insertBefore(l,a),o.push(l);this.shadows=o}return this},updateShadows:ke,setAttr:function(t,e){ie?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){var n=i.getElementsByTagName("stroke")[0]||f(this.renderer.prepVML(["<stroke/>"]),null,null,i);n[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n,o=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),o)for(n=o.length;n--;)o[n].path=o[n].cutOff?this.cutOffPath(t,o[n].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled=t!==Oe,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},opacitySetter:ke,rotationSetter:function(t,e,i){var n=i.style;this[e]=n[e]=t,n.left=-F(K(t*J)+1)+ze,n.top=F(q(t*J))+ze},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,a(t)&&(t+=ze),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t=De),this.shadows&&hi(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t=t===Me?"-999em":0,ie||(i.style[e]=t?De:Me),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},ni.VMLElement=Li=m(R,Li),Li.prototype.ySetter=Li.prototype.widthSetter=Li.prototype.heightSetter=Li.prototype.xSetter;var Mi={Element:Li,isIE8:Q.indexOf("MSIE 8.0")>-1,init:function(e,i,n,o){var r=this,a,s,l;if(r.alignedObjects=[],a=r.createElement(Te).css(t(this.getStyle(o),{position:Le})),s=a.element,e.appendChild(a.element),r.isVML=!0,r.box=s,r.boxWrapper=a,r.cache={},r.setSize(i,n,!1),!G.namespaces.hcv){G.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),l="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{G.createStyleSheet().cssText=l}catch(h){G.styleSheets[0].cssText+=l}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,r){var a=this.createElement(),s=o(e);return t(a,{members:[],left:(s?e.x:e)+1,top:(s?e.y:i)+1,width:(s?e.width:n)-1,height:(s?e.height:r)-1,getCSS:function(e){var i=e.element,n=i.nodeName,o="shape"===n,r=e.inverted,a=this,s=a.top-(o?i.offsetTop:0),l=a.left,h=l+a.width,c=s+a.height,d={clip:"rect("+F(r?l:s)+"px,"+F(r?c:h)+"px,"+F(r?h:c)+"px,"+F(r?s:l)+"px)"};return!r&&ie&&"DIV"===n&&t(d,{width:h+ze,height:c+ze}),d},updateClipping:function(){hi(a.members,function(t){t.element&&t.css(a.getCSS(t))})}})},color:function(t,e,i,n){var o=this,r,a=/^rgba/,s,l,h=Oe;if(t&&t.linearGradient?l="gradient":t&&t.radialGradient&&(l="pattern"),l){var c,d,p=t.linearGradient||t.radialGradient,u,g,m,y,x,v,b,k,w="",P=t.stops,S,A,T=[],C=function(){s=['<fill colors="'+T.join(",")+'" opacity="',v,'" o:opacity2="',x,'" type="',l,'" ',w,'focus="100%" method="any" />'],f(o.prepVML(s),null,null,e)};if(S=P[0],A=P[P.length-1],S[0]>0&&P.unshift([0,S[1]]),A[0]<1&&P.push([1,A[1]]),hi(P,function(t,e){a.test(t[1])?(r=Ai(t[1]),c=r.get("rgb"),d=r.get("a")):(c=t[1],d=1),T.push(100*t[0]+"% "+c),e?(v=d,b=c):(x=d,k=c)}),"fill"===i)if("gradient"===l)u=p.x1||p[0]||0,g=p.y1||p[1]||0,m=p.x2||p[2]||0,y=p.y2||p[3]||0,w='angle="'+(90-180*N.atan((y-g)/(m-u))/$)+'"',C();else{var L=p.r,M=2*L,I=2*L,D=p.cx,z=p.cy,O=e.radialReference,R,B=function(){O&&(R=n.getBBox(),D+=(O[0]-R.x)/R.width-.5,z+=(O[1]-R.y)/R.height-.5,M*=O[2]/R.width,I*=O[2]/R.height),w='src="'+fe.global.VMLRadialGradientURL+'" size="'+M+","+I+'" origin="0.5,0.5" position="'+D+","+z+'" color2="'+k+'" ',C()};n.added?B():n.onAdd=B,h=b}else h=c}else if(a.test(t)&&"IMG"!==e.tagName)r=Ai(t),s=["<",i,' opacity="',r.get("a"),'"/>'],f(this.prepVML(s),null,null,e),h=r.get("rgb");else{var X=e.getElementsByTagName(i);X.length&&(X[0].opacity=1,X[0].type="solid"),h=t}return h},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),i?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Ti.prototype.html,path:function(e){var i={coordsize:"10 10"};return r(e)?i.d=e:o(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){var n=this.symbol("circle");return o(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e,i;return t&&(i={className:Ie+t,"class":Ie+t}),e=this.createElement(Te).attr(i)},image:function(t,e,i,n,o){var r=this.createElement("img").attr({src:t});return arguments.length>1&&r.attr({x:e,y:i,width:n,height:o}),r},createElement:function(t){return"rect"===t?this.symbol(t):Ti.prototype.createElement.call(this,t)},invertChild:function(t,e){var n=this,o=e.style,r="IMG"===t.tagName&&t.style;g(t,{flip:"x",left:i(o.width)-(r?i(r.top):1),top:i(o.height)-(r?i(r.left):1),rotation:-90}),hi(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,o){var r=o.start,a=o.end,s=o.r||i||n,l=o.innerR,h=q(r),c=K(r),d=q(a),p=K(a),u;return a-r===0?["x"]:(u=["wa",t-s,e-s,t+s,e+s,t+s*h,e+s*c,t+s*d,e+s*p],o.open&&!l&&u.push("e",Re,t,e),u.push("at",t-l,e-l,t+l,e+l,t+l*d,e+l*p,t+l*h,e+l*c,"x","e"),u.isArc=!0,u)},circle:function(t,e,i,n,o){return o&&(i=n=2*o.r),o&&o.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,o){return Ti.prototype.symbols[c(o)&&o.r?"callout":"square"].call(0,t,e,i,n,o)}}};ni.VMLRenderer=Ci=function(){this.init.apply(this,arguments)},Ci.prototype=e(Ti.prototype,Mi),ce=Ci}Ti.prototype.measureSpanWidth=function(t,e){var i=G.createElement("span"),n,o=G.createTextNode(t);return i.appendChild(o),g(i,e),this.box.appendChild(i),n=i.offsetWidth,L(i),n};var Ii,Di;he&&(ni.CanVGRenderer=Ii=function(){ae="http://www.w3.org/1999/xhtml"},Ii.prototype.symbols={},Di=function(){function t(){var t=e.length,i;for(i=0;t>i;i++)e[i]();e=[]}var e=[];return{push:function(i,n){0===e.length&&si(n,t),e.push(i)}}}(),ce=Ii),B.prototype={addLabel:function(){var e=this,i=e.axis,n=i.options,o=i.chart,r=i.horiz,s=i.categories,h=i.names,d=e.pos,p=n.labels,g=p.rotation,f,m=i.tickPositions,y=r&&s&&!p.step&&!p.staggerLines&&!p.rotation&&o.plotWidth/m.length||!r&&(o.margin[3]||.33*o.chartWidth),x=d===m[0],v=d===m[m.length-1],b,k,w=s?u(s[d],h[d],d):d,P=e.label,S=m.info,A;i.isDatetimeAxis&&S&&(A=n.dateTimeLabelFormats[S.higherRanks[d]||S.unitName]),e.isFirst=x,e.isLast=v,f=i.labelFormatter.call({axis:i,chart:o,isFirst:x,isLast:v,dateTimeLabelFormat:A,value:i.isLog?M(l(w)):w}),b=y&&{width:_(1,F(y-2*(p.padding||10)))+ze},c(P)?P&&P.attr({text:f}).css(b):(k={align:i.labelAlign},a(g)&&(k.rotation=g),y&&p.ellipsis&&(b.HcHeight=i.len/m.length),e.label=P=c(f)&&p.enabled?o.renderer.text(f,0,0,p.useHTML).attr(k).css(t(b,p.style)).add(i.labelGroup):null,i.tickBaseline=o.renderer.fontMetrics(p.style.fontSize,P).b,g&&2===i.side&&(i.tickBaseline*=q(g*J))),e.yOffset=P?u(p.y,i.tickBaseline+(2===i.side?8:-(P.getBBox().height/2))):0},getLabelSize:function(){var t=this.label,e=this.axis;return t?t.getBBox()[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.label.getBBox(),e=this.axis,i=e.horiz,n=e.options,o=n.labels,r=i?t.width:t.height,a=i?o.x-r*{left:0,center:.5,right:1}[e.labelAlign]:0,s=i?r+a:r;return[a,s]},handleOverflow:function(t,e){var i=!0,n=this.axis,o=this.isFirst,r=this.isLast,a=n.horiz,s=a?e.x:e.y,l=n.reversed,h=n.tickPositions,c=this.getLabelSides(),d=c[0],p=c[1],u,g,f,m,y=this.label.line,x=y||0,v=n.labelEdge,b=n.justifyLabels&&(o||r),k;if(v[x]===H||s+d>v[x]?v[x]=s+p:b||(i=!1),b){k=n.justifyToPlot,u=k?n.pos:0,g=k?u+n.len:n.chart.chartWidth;do t+=o?1:-1,f=n.ticks[h[t]];while(h[t]&&(!f||!f.label||f.label.line!==y));m=f&&f.label.xy&&f.label.xy.x+f.getLabelSides()[o?0:1],o&&!l||r&&l?u>s+d&&(s=u-d,f&&s+p>m&&(i=!1)):s+p>g&&(s=g-p,f&&m>s+d&&(i=!1)),e.x=s}return i},getPosition:function(t,e,i,n){var o=this.axis,r=o.chart,a=n&&r.oldChartHeight||r.chartHeight;return{x:t?o.translate(e+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&r.oldChartWidth||r.chartWidth)-o.right-o.left:0),y:t?a-o.bottom+o.offset-(o.opposite?o.height:0):a-o.translate(e+i,null,null,n)-o.transB}},getLabelPosition:function(t,e,i,n,o,r,a,s){var l=this.axis,h=l.transA,c=l.reversed,d=l.staggerLines;return t=t+o.x-(r&&n?r*h*(c?-1:1):0),e=e+this.yOffset-(r&&!n?r*h*(c?1:-1):0),d&&(i.line=a/(s||1)%d,e+=i.line*(l.labelOffset/d)),{x:t,y:e}},getMarkPath:function(t,e,i,n,o,r){return r.crispLine([Re,t,e,Be,t+(o?0:-i),e+(o?i:0)],n)},render:function(t,e,i){var n=this,o=n.axis,r=o.options,a=o.chart,s=a.renderer,l=o.horiz,h=n.type,c=n.label,d=n.pos,p=r.labels,g=n.gridLine,f=h?h+"Grid":"grid",m=h?h+"Tick":"tick",y=r[f+"LineWidth"],x=r[f+"LineColor"],v=r[f+"LineDashStyle"],b=r[m+"Length"],k=r[m+"Width"]||0,w=r[m+"Color"],P=r[m+"Position"],S,A=n.mark,T,C=p.step,L,M=!0,I=o.tickmarkOffset,D=n.getPosition(l,d,I,e),z=D.x,O=D.y,R=l&&z===o.pos+o.len||!l&&O===o.pos?-1:1;i=u(i,1),this.isActive=!0,y&&(S=o.getPlotLinePath(d+I,y*R,e,!0),g===H&&(L={stroke:x,"stroke-width":y},v&&(L.dashstyle=v),h||(L.zIndex=1),e&&(L.opacity=0),n.gridLine=g=y?s.path(S).attr(L).add(o.gridGroup):null),!e&&g&&S&&g[n.isNew?"attr":"animate"]({d:S,opacity:i})),k&&b&&("inside"===P&&(b=-b),o.opposite&&(b=-b),T=n.getMarkPath(z,O,b,k*R,l,s),A?A.animate({d:T,opacity:i}):n.mark=s.path(T).attr({stroke:w,"stroke-width":k,opacity:i}).add(o.axisGroup)),c&&!isNaN(z)&&(c.xy=D=n.getLabelPosition(z,O,c,l,p,I,t,C),n.isFirst&&!n.isLast&&!u(r.showFirstLabel,1)||n.isLast&&!n.isFirst&&!u(r.showLastLabel,1)?M=!1:o.isRadial||p.step||p.rotation||e||0===i||(M=n.handleOverflow(t,D)),C&&t%C&&(M=!1),M&&!isNaN(D.y)?(D.opacity=i,c[n.isNew?"attr":"animate"](D),n.isNew=!1):c.attr("y",-9999))},destroy:function(){C(this,this.axis)}},ni.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},ni.PlotLineOrBand.prototype={render:function(){var t=this,i=t.axis,n=i.horiz,o=(i.pointRange||0)/2,r=t.options,a=r.label,l=t.label,h=r.width,d=r.to,p=r.from,u=c(p)&&c(d),g=r.value,f=r.dashStyle,m=t.svgElem,y=[],x,v,b,k,w,P,S=r.color,C=r.zIndex,L=r.events,M={},I=i.chart.renderer;if(i.isLog&&(p=s(p),d=s(d),g=s(g)),h)y=i.getPlotLinePath(g,h),M={stroke:S,"stroke-width":h},f&&(M.dashstyle=f);else{if(!u)return;p=_(p,i.min-o),d=U(d,i.max+o),y=i.getPlotBandPath(p,d,r),S&&(M.fill=S),r.borderWidth&&(M.stroke=r.borderColor,M["stroke-width"]=r.borderWidth)}if(c(C)&&(M.zIndex=C),m)y?m.animate({d:y},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()},l&&(t.label=l=l.destroy()));else if(y&&y.length&&(t.svgElem=m=I.path(y).attr(M).add(),L)){x=function(e){m.on(e,function(i){L[e].apply(t,[i])})};for(v in L)x(v)}return a&&c(a.text)&&y&&y.length&&i.width>0&&i.height>0?(a=e({align:n&&u&&"center",x:n?!u&&4:10,verticalAlign:!n&&u&&"middle",y:n?u?16:10:u?6:-4,rotation:n&&!u&&90},a),l||(M={align:a.textAlign||a.align,rotation:a.rotation},c(C)&&(M.zIndex=C),t.label=l=I.text(a.text,0,0,a.useHTML).attr(M).css(a.style).add()),b=[y[1],y[4],u?y[6]:y[1]],k=[y[2],y[5],u?y[7]:y[2]],w=A(b),P=A(k),l.align(a,!1,{x:w,y:P,width:T(b)-w,height:T(k)-P}),l.show()):l&&l.hide(),t},destroy:function(){h(this.axis.plotLinesAndBands,this),delete this.axis,C(this)}},Ge={getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new ni.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();hi([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(o=e.length;o--;)e[o].id===t&&h(e,e[o])})}},X.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:vi,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return y(this.total,-1)},style:vi.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.horiz=t.inverted?!i:i,n.isXAxis=i,n.coll=i?"xAxis":"yAxis",n.opposite=e.opposite,n.side=e.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(e);var o=this.options,r=o.type,a="datetime"===r;n.labelFormatter=o.labels.formatter||n.defaultLabelFormatter,n.userOptions=e,n.minPixelPadding=0,n.chart=t,n.reversed=o.reversed,n.zoomEnabled=o.zoomEnabled!==!1,n.categories=o.categories||"category"===r,n.names=[],n.isLog="logarithmic"===r,n.isDatetimeAxis=a,n.isLinked=c(o.linkedTo),n.tickmarkOffset=n.categories&&"between"===o.tickmarkPlacement&&1===u(o.tickInterval,1)?.5:0,n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=o.minRange||o.maxZoom,n.range=o.range,n.offset=o.offset||0,n.stacks={},n.oldStacks={},n.max=null,n.min=null,n.crosshair=u(o.crosshair,p(t.options.tooltip.crosshairs)[i?0:1],!1);var h,d=n.options.events;-1===li(n,t.axes)&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,n):t.axes.push(n),t[n.coll].push(n)),n.series=n.series||[],t.inverted&&i&&n.reversed===H&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine;for(h in d)ui(n,h,d[h]);n.isLog&&(n.val2lin=s,n.lin2val=l)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(fe[this.coll],t))},defaultLabelFormatter:function(){var t=this.axis,e=this.value,i=t.categories,n=this.dateTimeLabelFormat,o=fe.lang.numericSymbols,r=o&&o.length,a,s,l=t.options.labels.format,h=t.isLog?e:t.tickInterval;if(l)s=k(l,this);else if(i)s=e;else if(n)s=me(n,e);else if(r&&h>=1e3)for(;r--&&s===H;)a=Math.pow(1e3,r+1),h>=a&&null!==o[r]&&(s=y(e/a,-1)+o[r]);return s===H&&(s=Z(e)>=1e4?y(e,0):y(e,-1,H,"")),s},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null,t.buildStacks&&t.buildStacks(),hi(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n=i.options,o,r=n.threshold,a,s;t.hasVisibleSeries=!0,t.isLog&&0>=r&&(r=null),t.isXAxis?(o=i.xData,o.length&&(t.dataMin=U(u(t.dataMin,o[0]),A(o)),t.dataMax=_(u(t.dataMax,o[0]),T(o)))):(i.getExtremes(),s=i.dataMax,a=i.dataMin,c(a)&&c(s)&&(t.dataMin=U(u(t.dataMin,a),a),t.dataMax=_(u(t.dataMax,s),s)),c(r)&&(t.dataMin>=r?(t.dataMin=r,t.ignoreMinPadding=!0):t.dataMax<r&&(t.dataMax=r,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,n,o,r){var s=this,l=1,h=0,c=n?s.oldTransA:s.transA,d=n?s.oldMin:s.min,p,u=s.minPixelPadding,g=(s.options.ordinal||s.isLog&&o)&&s.lin2val;return c||(c=s.transA),i&&(l*=-1,h=s.len),s.reversed&&(l*=-1,h-=l*(s.sector||s.len)),e?(t=t*l+h,t-=u,p=t/c+d,g&&(p=s.lin2val(p))):(g&&(t=s.val2lin(t)),"between"===r&&(r=.5),p=l*(t-d)*c+h+l*u+(a(r)?c*r*s.pointRange:0)),p},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,o){var r=this,a=r.chart,s=r.left,l=r.top,h,c,d,p,g=i&&a.oldChartHeight||a.chartHeight,f=i&&a.oldChartWidth||a.chartWidth,m,y=r.transB;return o=u(o,r.translate(t,null,null,i)),h=d=F(o+y),c=p=F(g-o-y),isNaN(o)?m=!0:r.horiz?(c=l,p=g-r.bottom,(s>h||h>s+r.width)&&(m=!0)):(h=s,d=f-r.right,(l>c||c>l+r.height)&&(m=!0)),m&&!n?null:a.renderer.crispLine([Re,h,c,Be,d,p],e||1)},getLinearTickPositions:function(t,e,i){var n,o,r=M(V(e/t)*t),s=M(j(i/t)*t),l=[];if(e===i&&a(e))return[e];for(n=r;s>=n&&(l.push(n),n=M(n+t),n!==o);)o=n;return l},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,n=t.minorTickInterval,o=[],r,a,s;if(t.isLog)for(s=i.length,a=1;s>a;a++)o=o.concat(t.getLogTickPositions(n,i[a-1],i[a],!0));else if(t.isDatetimeAxis&&"auto"===e.minorTickInterval)o=o.concat(t.getTimeTicks(t.normalizeTimeTickInterval(n),t.min,t.max,e.startOfWeek)),o[0]<t.min&&o.shift();else for(r=t.min+(i[0]-t.min)%n;r<=t.max;r+=n)o.push(r);return o},adjustForMinRange:function(){var t=this,e=t.options,i=t.min,n=t.max,o,r=t.dataMax-t.dataMin>=t.minRange,a,s,l,h,d,p,g;if(t.isXAxis&&t.minRange===H&&!t.isLog&&(c(e.min)||c(e.max)?t.minRange=null:(hi(t.series,function(t){for(h=t.xData,d=t.xIncrement?1:h.length-1,s=d;s>0;s--)l=h[s]-h[s-1],(a===H||a>l)&&(a=l)}),t.minRange=U(5*a,t.dataMax-t.dataMin))),n-i<t.minRange){var f=t.minRange;o=(f-n+i)/2,p=[i-o,u(e.min,i-o)],r&&(p[2]=t.dataMin),i=T(p),g=[i+f,u(e.max,i+f)],r&&(g[2]=t.dataMax),n=A(g),f>n-i&&(p[0]=n-f,p[1]=u(e.min,n-f),i=T(p))}t.min=i,t.max=n},setAxisTranslation:function(t){var e=this,i=e.max-e.min,o=e.axisPointRange||0,r,a=0,s=0,l=e.linkedParent,h,d=!!e.categories,p=e.transA;(e.isXAxis||d||o)&&(l?(a=l.minPointOffset,s=l.pointRangePadding):hi(e.series,function(t){var l=d?1:e.isXAxis?t.pointRange:e.axisPointRange||0,h=t.options.pointPlacement,p=t.closestPointRange;l>i&&(l=0),o=_(o,l),a=_(a,n(h)?0:l/2),s=_(s,"on"===h?0:l),!t.noSharedTooltip&&c(p)&&(r=c(r)?U(r,p):p)}),h=e.ordinalSlope&&r?e.ordinalSlope/r:1,e.minPointOffset=a*=h,e.pointRangePadding=s*=h,e.pointRange=U(o,i),e.closestPointRange=r),t&&(e.oldTransA=p),e.translationSlope=e.transA=p=e.len/(i+s||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=p*a},setTickPositions:function(t){var e=this,i=e.chart,n=e.options,o=n.startOnTick,r=n.endOnTick,l=e.isLog,h=e.isDatetimeAxis,d=e.isXAxis,p=e.isLinked,g=e.options.tickPositioner,f=n.maxPadding,m=n.minPadding,y,x,v=n.tickInterval,b=n.minTickInterval,k=n.tickPixelInterval,S,A,T=e.categories;if(p?(e.linkedParent=i[e.coll][n.linkedTo],x=e.linkedParent.getExtremes(),e.min=u(x.min,x.dataMin),e.max=u(x.max,x.dataMax),n.type!==e.linkedParent.options.type&&be(11,1)):(e.min=u(e.userMin,n.min,e.dataMin),e.max=u(e.userMax,n.max,e.dataMax)),l&&(!t&&U(e.min,u(e.dataMin,e.min))<=0&&be(10,1),e.min=M(s(e.min)),e.max=M(s(e.max))),e.range&&c(e.max)&&(e.userMin=e.min=_(e.min,e.max-e.range),e.userMax=e.max,e.range=null),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),T||e.axisPointRange||e.usePercentage||p||!c(e.min)||!c(e.max)||(y=e.max-e.min,y&&(c(n.min)||c(e.userMin)||!m||!(e.dataMin<0)&&e.ignoreMinPadding||(e.min-=y*m),c(n.max)||c(e.userMax)||!f||!(e.dataMax>0)&&e.ignoreMaxPadding||(e.max+=y*f))),a(n.floor)&&(e.min=_(e.min,n.floor)),a(n.ceiling)&&(e.max=U(e.max,n.ceiling)),e.min===e.max||void 0===e.min||void 0===e.max?e.tickInterval=1:p&&!v&&k===e.linkedParent.options.tickPixelInterval?e.tickInterval=e.linkedParent.tickInterval:(e.tickInterval=u(v,T?1:(e.max-e.min)*k/_(e.len,k)),!c(v)&&e.len<k&&!this.isRadial&&!this.isLog&&!T&&o&&r&&(A=!0,e.tickInterval/=4)),d&&!t&&hi(e.series,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)}),e.setAxisTranslation(!0),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.postProcessTickInterval&&(e.tickInterval=e.postProcessTickInterval(e.tickInterval)),e.pointRange&&(e.tickInterval=_(e.pointRange,e.tickInterval)),!v&&e.tickInterval<b&&(e.tickInterval=b),h||l||v||(e.tickInterval=P(e.tickInterval,null,w(e.tickInterval),u(n.allowDecimals,!(e.tickInterval>1&&e.tickInterval<5&&e.max>1e3&&e.max<9999)))),e.minorTickInterval="auto"===n.minorTickInterval&&e.tickInterval?e.tickInterval/5:n.minorTickInterval,e.tickPositions=S=n.tickPositions?[].concat(n.tickPositions):g&&g.apply(e,[e.min,e.max]),S||(!e.ordinalPositions&&(e.max-e.min)/e.tickInterval>_(2*e.len,200)&&be(19,!0),S=h?e.getTimeTicks(e.normalizeTimeTickInterval(e.tickInterval,n.units),e.min,e.max,n.startOfWeek,e.ordinalPositions,e.closestPointRange,!0):l?e.getLogTickPositions(e.tickInterval,e.min,e.max):e.getLinearTickPositions(e.tickInterval,e.min,e.max),A&&S.splice(1,S.length-2),e.tickPositions=S),!p){var C=S[0],L=S[S.length-1],I=e.minPointOffset||0,D;o?e.min=C:e.min-I>C&&S.shift(),r?e.max=L:e.max+I<L&&S.pop(),0===S.length&&c(C)&&S.push((L+C)/2),1===S.length&&(D=Z(e.max)>1e13?1:.001,e.min-=D,e.max+=D)}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&this.options.alignTicks!==!1&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,i=t._maxTicksKey,n=t.tickPositions,o=e.maxTicks;if(o&&o[i]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==!1&&this.min!==H){var r=t.tickAmount,a=n.length,s;if(t.tickAmount=s=o[i],s>a){for(;n.length<s;)n.push(M(n[n.length-1]+t.tickInterval));t.transA*=(a-1)/(s-1),t.max=n[n.length-1]}c(r)&&s!==r&&(t.isDirty=!0)}},setScale:function(){var t=this,e=t.stacks,i,n,o,r;if(t.oldMin=t.min,t.oldMax=t.max,t.oldAxisLength=t.len,t.setAxisSize(),r=t.len!==t.oldAxisLength,hi(t.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(o=!0)}),r||o||t.isLinked||t.forceRedraw||t.userMin!==t.oldUserMin||t.userMax!==t.oldUserMax){if(!t.isXAxis)for(i in e)for(n in e[i])e[i][n].total=null,e[i][n].cum=0;t.forceRedraw=!1,t.getSeriesExtremes(),t.setTickPositions(),t.oldUserMin=t.userMin,t.oldUserMax=t.userMax,t.isDirty||(t.isDirty=r||t.min!==t.oldMin||t.max!==t.oldMax)}else if(!t.isXAxis){t.oldStacks&&(e=t.stacks=t.oldStacks);for(i in e)for(n in e[i])e[i][n].cum=e[i][n].total}t.setMaxTicks()},setExtremes:function(e,i,n,o,r){var a=this,s=a.chart;n=u(n,!0),r=t(r,{min:e,max:i}),fi(a,"setExtremes",r,function(){a.userMin=e,a.userMax=i,a.eventArgs=r,a.isDirtyExtremes=!0,n&&s.redraw(o)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,o=this.options;return this.allowZoomOutside||(c(i)&&t<=U(i,u(o.min,i))&&(t=H),c(n)&&e>=_(n,u(o.max,n))&&(e=H)),this.displayBtn=t!==H||e!==H,this.setExtremes(t,e,!1,H,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=e.offsetRight||0,o=this.horiz,r=u(e.width,t.plotWidth-i+n),a=u(e.height,t.plotHeight),s=u(e.top,t.plotTop),l=u(e.left,t.plotLeft+i),h=/%$/;h.test(a)&&(a=parseInt(a,10)/100*t.plotHeight),h.test(s)&&(s=parseInt(s,10)/100*t.plotHeight+t.plotTop),this.left=l,this.top=s,this.width=r,this.height=a,this.bottom=t.chartHeight-a-s,this.right=t.chartWidth-r-l,this.len=_(o?r:a,0),this.pos=o?l:s},getExtremes:function(){var t=this,e=t.isLog;return{min:e?M(l(t.min)):t.min,max:e?M(l(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?l(e.min):e.min,o=i?l(e.max):e.max;return n>t||null===t?t=n:t>o&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,i=(u(t,0)-90*this.side+720)%360;return e=i>15&&165>i?"right":i>195&&345>i?"left":"center"},getOffset:function(){var t=this,e=t.chart,i=e.renderer,n=t.options,o=t.tickPositions,r=t.ticks,a=t.horiz,s=t.side,l=e.inverted?[1,0,3,2][s]:s,h,d,p=0,g,f=0,m=n.title,y=n.labels,x=0,v,b=e.axisOffset,k=e.clipOffset,w=[-1,1,1,-1][s],P,S,A=1,T=u(y.maxStaggerLines,5),C,L,M,I,D,z,O,R,X;if(t.hasData=h=t.hasVisibleSeries||c(t.min)&&c(t.max)&&!!o,t.showAxis=d=h||u(n.showEmpty,!0),t.staggerLines=t.horiz&&y.staggerLines,t.axisGroup||(t.gridGroup=i.g("grid").attr({zIndex:n.gridZIndex||1}).add(),t.axisGroup=i.g("axis").attr({zIndex:n.zIndex||2}).add(),t.labelGroup=i.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass(Ie+t.coll.toLowerCase()+"-labels").add()),h||t.isLinked){if(t.labelAlign=u(y.align||t.autoLabelAlign(y.rotation)),hi(o,function(e){r[e]?r[e].addLabel():r[e]=new B(t,e)}),t.horiz&&!t.staggerLines&&T&&!y.rotation){for(C=t.reversed?[].concat(o).reverse():o;T>A;){for(L=[],M=!1,S=0;S<C.length;S++)I=C[S],D=r[I].label&&r[I].label.getBBox(),O=D?D.width:0,R=S%A,O&&(z=t.translate(I),L[R]!==H&&z<L[R]&&(M=!0),L[R]=z+O);if(!M)break;A++}A>1&&(t.staggerLines=A)}hi(o,function(e){(0===s||2===s||{1:"left",3:"right"}[s]===t.labelAlign)&&(x=_(r[e].getLabelSize(),x))}),t.staggerLines&&(x*=t.staggerLines,t.labelOffset=x)}else for(P in r)r[P].destroy(),delete r[P];m&&m.text&&m.enabled!==!1&&(t.axisTitle||(t.axisTitle=i.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass(Ie+this.coll.toLowerCase()+"-title").css(m.style).add(t.axisGroup),t.axisTitle.isNew=!0),d&&(p=t.axisTitle.getBBox()[a?"height":"width"],g=m.offset,f=c(g)?0:u(m.margin,a?5:10)),t.axisTitle[d?"show":"hide"]()),t.offset=w*u(n.offset,b[s]),X=2===s?t.tickBaseline:0,v=x+f+(x&&w*(a?u(y.y,t.tickBaseline+8):y.x)-X),t.axisTitleMargin=u(g,v),b[s]=_(b[s],t.axisTitleMargin+p+w*t.offset,v),k[l]=_(k[l],2*V(n.lineWidth/2))
},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,o=this.horiz,r=this.left+(i?this.width:0)+n,a=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine([Re,o?this.left:r,o?a:this.top,Be,o?e.chartWidth-this.right:r,o?a:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,o=this.len,r=this.options.title,a=t?e:n,s=this.opposite,l=this.offset,h=i(r.style.fontSize||12),c={low:a+(t?0:o),middle:a+o/2,high:a+(t?o:0)}[r.align],d=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?c:d+(s?this.width:0)+l+(r.x||0),y:t?d-(s?this.height:0)+l:c+(r.y||0)}},render:function(){var t=this,e=t.horiz,i=t.reversed,n=t.chart,o=n.renderer,r=t.options,a=t.isLog,s=t.isLinked,h=t.tickPositions,d,p=t.axisTitle,u=t.ticks,g=t.minorTicks,f=t.alternateBands,m=r.stackLabels,y=r.alternateGridColor,x=t.tickmarkOffset,v=r.lineWidth,b,k=n.hasRendered,w=k&&c(t.oldMin)&&!isNaN(t.oldMin),P=t.hasData,S=t.showAxis,A,T=r.labels.overflow,C=t.justifyLabels=e&&T!==!1,L;t.labelEdge.length=0,t.justifyToPlot="justify"===T,hi([u,g,f],function(t){var e;for(e in t)t[e].isActive=!1}),(P||s)&&(t.minorTickInterval&&!t.categories&&hi(t.getMinorTickPositions(),function(e){g[e]||(g[e]=new B(t,e,"minor")),w&&g[e].isNew&&g[e].render(null,!0),g[e].render(null,!1,1)}),h.length&&(d=h.slice(),(e&&i||!e&&!i)&&d.reverse(),C&&(d=d.slice(1).concat([d[0]])),hi(d,function(e,i){C&&(i=i===d.length-1?0:i+1),(!s||e>=t.min&&e<=t.max)&&(u[e]||(u[e]=new B(t,e)),w&&u[e].isNew&&u[e].render(i,!0,.1),u[e].render(i))}),x&&0===t.min&&(u[-1]||(u[-1]=new B(t,-1,null,!0)),u[-1].render(-1))),y&&hi(h,function(e,i){i%2===0&&e<t.max&&(f[e]||(f[e]=new ni.PlotLineOrBand(t)),A=e+x,L=h[i+1]!==H?h[i+1]+x:t.max,f[e].options={from:a?l(A):A,to:a?l(L):L,color:y},f[e].render(),f[e].isActive=!0)}),t._addedPlotLB||(hi((r.plotLines||[]).concat(r.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0)),hi([u,g,f],function(t){var e,i,o=[],r=ye?ye.duration||500:0,a=function(){for(i=o.length;i--;)t[o[i]]&&!t[o[i]].isActive&&(t[o[i]].destroy(),delete t[o[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,o.push(e));t!==f&&n.hasRendered&&r?r&&setTimeout(a,r):a()}),v&&(b=t.getLinePath(v),t.axisLine?t.axisLine.animate({d:b}):t.axisLine=o.path(b).attr({stroke:r.lineColor,"stroke-width":v,zIndex:7}).add(t.axisGroup),t.axisLine[S?"show":"hide"]()),p&&S&&(p[p.isNew?"attr":"animate"](t.getTitlePosition()),p.isNew=!1),m&&m.enabled&&t.renderStackTotals(),t.isDirty=!1},redraw:function(){this.render(),hi(this.plotLinesAndBands,function(t){t.render()}),hi(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e=this,i=e.stacks,n,o=e.plotLinesAndBands,r;t||gi(e);for(n in i)C(i[n]),i[n]=null;for(hi([e.ticks,e.minorTicks,e.alternateBands],function(t){C(t)}),r=o.length;r--;)o[r].destroy();hi(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){if(this.crosshair){if((c(e)||!u(this.crosshair.snap,!0))===!1)return void this.hideCrosshair();var i,n=this.crosshair,o=n.animation,r;if(u(n.snap,!0)?c(e)&&(r=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):r=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:u(e.stackY,e.y)):this.getPlotLinePath(null,null,null,null,r),null===i)return void this.hideCrosshair();if(this.cross)this.cross.attr({visibility:De})[o?"animate":"attr"]({d:i},o);else{var a={"stroke-width":n.width||1,stroke:n.color||"#C0C0C0",zIndex:n.zIndex||2};n.dashStyle&&(a.dashstyle=n.dashStyle),this.cross=this.chart.renderer.path(i).attr(a).add()}}},hideCrosshair:function(){this.cross&&this.cross.hide()}},t(X.prototype,Ge),X.prototype.getTimeTicks=function(e,i,n,o){var r=[],a,s={},l=fe.global.useUTC,h,d=new Ne(i-Ve),p=e.unitRange,g=e.count;if(c(i)){p>=ve.second&&(d.setMilliseconds(0),d.setSeconds(p>=ve.minute?0:g*V(d.getSeconds()/g))),p>=ve.minute&&d[$e](p>=ve.hour?0:g*V(d[je]()/g)),p>=ve.hour&&d[Je](p>=ve.day?0:g*V(d[_e]()/g)),p>=ve.day&&d[Qe](p>=ve.month?1:g*V(d[Ze]()/g)),p>=ve.month&&(d[ti](p>=ve.year?0:g*V(d[qe]()/g)),h=d[Ke]()),p>=ve.year&&(h-=h%g,d[ei](h)),p===ve.week&&d[Qe](d[Ze]()-d[Ue]()+u(o,1)),a=1,Ve&&(d=new Ne(d.getTime()+Ve)),h=d[Ke]();for(var f=d.getTime(),m=d[qe](),y=d[Ze](),x=(ve.day+(l?Ve:60*d.getTimezoneOffset()*1e3))%ve.day;n>f;)r.push(f),p===ve.year?f=Fe(h+a*g,0):p===ve.month?f=Fe(h,m+a*g):l||p!==ve.day&&p!==ve.week?f+=p*g:f=Fe(h,m,y+a*g*(p===ve.day?1:7)),a++;r.push(f),hi(ci(r,function(t){return p<=ve.hour&&t%ve.day===x}),function(t){s[t]="day"})}return r.info=t(e,{higherRanks:s,totalRange:p*g}),r},X.prototype.normalizeTimeTickInterval=function(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],n=i[i.length-1],o=ve[n[0]],r=n[1],a,s;for(s=0;s<i.length;s++)if(n=i[s],o=ve[n[0]],r=n[1],i[s+1]){var l=(o*r[r.length-1]+ve[i[s+1][0]])/2;if(l>=t)break}return o===ve.year&&5*o>t&&(r=[1,2,5]),a=P(t/o,r,"year"===n[0]?_(w(t/o),1):1),{unitRange:o,count:a,unitName:n[0]}},X.prototype.getLogTickPositions=function(t,e,i,n){var o=this,r=o.options,a=o.len,h=[];if(n||(o._minorAutoInterval=null),t>=.5)t=F(t),h=o.getLinearTickPositions(t,e,i);else if(t>=.08){var c=V(e),d,p,g,f,m,y,x;for(d=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],p=c;i+1>p&&!x;p++)for(f=d.length,g=0;f>g&&!x;g++)m=s(l(p)*d[g]),m>e&&(!n||i>=y)&&y!==H&&h.push(y),y>i&&(x=!0),y=m}else{var v=l(e),b=l(i),k=r[n?"minorTickInterval":"tickInterval"],S="auto"===k?null:k,A=r.tickPixelInterval/(n?5:1),T=n?a/o.tickPositions.length:a;t=u(S,o._minorAutoInterval,(b-v)*A/(T||1)),t=P(t,null,w(t)),h=pi(o.getLinearTickPositions(t,v,b),s),n||(o._minorAutoInterval=t/5)}return n||(o.tickInterval=t),h};var zi=ni.Tooltip=function(){this.init.apply(this,arguments)};zi.prototype={init:function(t,e){var n=e.borderWidth,o=e.style,r=i(o.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:r,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(o).css({padding:0}).add().attr({y:-9999}),he||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,n,o){var r=this,a=r.now,s=r.options.animation!==!1&&!r.isHidden&&(Z(e-a.x)>1||Z(i-a.y)>1),l=r.followPointer||r.len>1;t(a,{x:s?(2*a.x+e)/3:e,y:s?(a.y+i)/2:i,anchorX:l?H:s?(2*a.anchorX+n)/3:n,anchorY:l?H:s?(a.anchorY+o)/2:o}),r.label.attr(a),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(e,i,n,o)},32))},hide:function(t){var e=this,i;clearTimeout(this.hideTimer),this.isHidden||(i=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},u(t,this.options.hideDelay,500)),i&&hi(i,function(t){t.setState()}),this.chart.hoverPoints=null)},getAnchor:function(t,e){var i,n=this.chart,o=n.inverted,r=n.plotTop,a=0,s=0,l;return t=p(t),i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===H&&(e=n.pointer.normalize(e)),i=[e.chartX-n.plotLeft,e.chartY-r]),i||(hi(t,function(t){l=t.series.yAxis,a+=t.plotX,s+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&l?l.top-r:0)}),a/=t.length,s/=t.length,i=[o?n.plotWidth-s:a,this.shared&&!o&&t.length>1&&e?e.chartY-r:o?n.plotHeight-a:s]),pi(i,F)},getPosition:function(t,e,i){var n=this.chart,o=this.distance,r={},a,s=["y",n.chartHeight,e,i.plotY+n.plotTop],l=["x",n.chartWidth,t,i.plotX+n.plotLeft],h=i.ttBelow||n.inverted&&!i.negative||!n.inverted&&i.negative,c=function(t,e,i,n){var a=n-o>i,s=e>n+o+i,l=n-o-i,c=n+o;if(h&&s)r[t]=c;else if(!h&&a)r[t]=l;else if(a)r[t]=l;else{if(!s)return!1;r[t]=c}},d=function(t,e,i,n){return o>n||n>e-o?!1:void(r[t]=i/2>n?1:n>e-i/2?e-i-2:n-i/2)},p=function(t){var e=s;s=l,l=e,a=t},u=function(){c.apply(0,s)!==!1?d.apply(0,l)!==!1||a||(p(!0),u()):a?r.x=r.y=0:(p(!0),u())};return(n.inverted||this.len>1)&&p(),u(),r},defaultFormatter:function(t){var e=this.points||p(this),i=e[0].series,n;return n=[t.tooltipHeaderFormatter(e[0])],hi(e,function(t){i=t.series,n.push(i.tooltipFormatter&&i.tooltipFormatter(t)||t.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),n.push(t.options.footerFormat||""),n.join("")},refresh:function(t,e){var i=this,n=i.chart,o=i.label,r=i.options,a,s,l,h={},c,d=[],g=r.formatter||i.defaultFormatter,f=n.hoverPoints,m,y=i.shared,x;clearTimeout(this.hideTimer),i.followPointer=p(t)[0].series.tooltipOptions.followPointer,l=i.getAnchor(t,e),a=l[0],s=l[1],!y||t.series&&t.series.noSharedTooltip?h=t.getLabelConfig():(n.hoverPoints=t,f&&hi(f,function(t){t.setState()}),hi(t,function(t){t.setState(Ye),d.push(t.getLabelConfig())}),h={x:t[0].category,y:t[0].y},h.points=d,this.len=d.length,t=t[0]),c=g.call(h,i),x=t.series,this.distance=u(x.tooltipOptions.distance,16),c===!1?this.hide():(i.isHidden&&(xi(o),o.attr("opacity",1).show()),o.attr({text:c}),m=r.borderColor||t.color||x.color||"#606060",o.attr({stroke:m}),i.updatePosition({plotX:a,plotY:s,negative:t.negative,ttBelow:t.ttBelow}),this.isHidden=!1),fi(n,"tooltipRefresh",{text:c,x:a+n.plotLeft,y:s+n.plotTop,borderColor:m})},updatePosition:function(t){var e=this.chart,i=this.label,n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(F(n.x),F(n.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)},tooltipHeaderFormatter:function(t){var e=t.series,i=e.tooltipOptions,n=i.dateTimeLabelFormats,o=i.xDateFormat,r=e.xAxis,s=r&&"datetime"===r.options.type&&a(t.key),l=i.headerFormat,h=r&&r.closestPointRange,c;if(s&&!o){if(h){for(c in ve)if(ve[c]>=h||ve[c]<=ve.day&&t.key%ve[c]>0){o=n[c];break}}else o=n.day;o=o||n.year}return s&&o&&(l=l.replace("{point.key}","{point.key:"+o+"}")),k(l,{point:t,series:e})}};var Oi;de=G.documentElement.ontouchstart!==H;var Ri=ni.Pointer=function(t,e){this.init(t,e)};if(Ri.prototype={init:function(t,e){var i=e.chart,n=i.events,o=he?"":i.zoomType,r=t.inverted,a,s;this.options=e,this.chart=t,this.zoomX=a=/x/.test(o),this.zoomY=s=/y/.test(o),this.zoomHor=a&&!r||s&&r,this.zoomVert=s&&!r||a&&r,this.hasZoom=a||s,this.runChartClick=n&&!!n.click,this.pinchDown=[],this.lastValidTouch={},ni.Tooltip&&e.tooltip.enabled&&(t.tooltip=new zi(t,e.tooltip),this.followTouchMove=e.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(e,i){var n,o,r;return e=e||window.event,e=mi(e),e.target||(e.target=e.srcElement),r=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,i||(this.chartPosition=i=di(this.chart.container)),r.pageX===H?(n=_(e.x,e.clientX-i.left),o=e.y):(n=r.pageX-i.left,o=r.pageY-i.top),t(e,{chartX:F(n),chartY:F(o)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return hi(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e=this,i=e.chart,n=i.series,o=i.tooltip,r,a,s,l=i.hoverPoint,h=i.hoverSeries,c,d,p=i.chartWidth,g=e.getIndex(t),f;if(o&&e.options.tooltip.shared&&(!h||!h.noSharedTooltip)){for(s=[],c=n.length,d=0;c>d;d++)n[d].visible&&n[d].options.enableMouseTracking!==!1&&!n[d].noSharedTooltip&&n[d].singularTooltips!==!0&&n[d].tooltipPoints.length&&(a=n[d].tooltipPoints[g],a&&a.series&&(a._dist=Z(g-a.clientX),p=U(p,a._dist),s.push(a)));for(c=s.length;c--;)s[c]._dist>p&&s.splice(c,1);s.length&&s[0].clientX!==e.hoverX&&(o.refresh(s,t),e.hoverX=s[0].clientX)}r=h&&h.tooltipOptions.followPointer,h&&h.tracker&&!r?(a=h.tooltipPoints[g],a&&a!==l&&a.onMouseOver(t)):o&&r&&!o.isHidden&&(f=o.getAnchor([{}],t),o.updatePosition({plotX:f[0],plotY:f[1]})),o&&!e._onDocumentMouseMove&&(e._onDocumentMouseMove=function(t){we[Oi]&&we[Oi].pointer.onDocumentMouseMove(t)},ui(G,"mousemove",e._onDocumentMouseMove)),hi(i.axes,function(e){e.drawCrosshair(t,u(a,l))})},reset:function(t,e){var i=this,n=i.chart,o=n.hoverSeries,r=n.hoverPoint,a=n.tooltip,s=a&&a.shared?n.hoverPoints:r;t=t&&a&&s,t&&p(s)[0].plotX===H&&(t=!1),t?(a.refresh(s),r&&r.setState(r.state,!0)):(r&&r.onMouseOut(),o&&o.onMouseOut(),a&&a.hide(e),i._onDocumentMouseMove&&(gi(G,"mousemove",i._onDocumentMouseMove),i._onDocumentMouseMove=null),hi(n.axes,function(t){t.hideCrosshair()}),i.hoverX=null)},scaleGroups:function(t,e){var i=this.chart,n;hi(i.series,function(o){n=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&(o.group.attr(n),o.markerGroup&&(o.markerGroup.attr(n),o.markerGroup.clip(e?i.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e=this.chart,i=e.options.chart,n=t.chartX,o=t.chartY,r=this.zoomHor,a=this.zoomVert,s=e.plotLeft,l=e.plotTop,h=e.plotWidth,c=e.plotHeight,d,p,u=this.mouseDownX,g=this.mouseDownY,f=i.panKey&&t[i.panKey+"Key"];s>n?n=s:n>s+h&&(n=s+h),l>o?o=l:o>l+c&&(o=l+c),this.hasDragged=Math.sqrt(Math.pow(u-n,2)+Math.pow(g-o,2)),this.hasDragged>10&&(d=e.isInsidePlot(u-s,g-l),e.hasCartesianSeries&&(this.zoomX||this.zoomY)&&d&&!f&&(this.selectionMarker||(this.selectionMarker=e.renderer.rect(s,l,r?1:h,a?1:c,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&r&&(p=n-u,this.selectionMarker.attr({width:Z(p),x:(p>0?0:p)+u})),this.selectionMarker&&a&&(p=o-g,this.selectionMarker.attr({height:Z(p),y:(p>0?0:p)+g})),d&&!this.selectionMarker&&i.panning&&e.pan(t,i.panning))},drop:function(e){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},r=this.selectionMarker,a=r.attr?r.attr("x"):r.x,s=r.attr?r.attr("y"):r.y,l=r.attr?r.attr("width"):r.width,h=r.attr?r.attr("height"):r.height,c;(this.hasDragged||n)&&(hi(i.axes,function(t){if(t.zoomEnabled){var i=t.horiz,n="touchend"===e.type?t.minPixelPadding:0,r=t.toValue((i?a:s)+n),d=t.toValue((i?a+l:s+h)-n);isNaN(r)||isNaN(d)||(o[t.coll].push({axis:t,min:U(r,d),max:_(r,d)}),c=!0)}}),c&&fi(i,"selection",o,function(e){i.zoom(t(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(g(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){we[Oi]&&we[Oi].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries;t=this.normalize(t,i),i&&n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=we[Oi];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;Oi=e.index,t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=d(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf(Ie+"container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=t.relatedTarget||t.toElement,n=i&&i.point&&i.point.series;!e||e.options.stickyTracking||this.inClass(i,Ie+"tooltip")||n===e||e.onMouseOut()},onContainerClick:function(e){var i=this.chart,n=i.hoverPoint,o=i.plotLeft,r=i.plotTop;e=this.normalize(e),e.cancelBubble=!0,i.cancelClick||(n&&this.inClass(e.target,Ie+"tracker")?(fi(n.series,"click",t(e,{point:n})),i.hoverPoint&&n.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),i.isInsidePlot(e.chartX-o,e.chartY-r)&&fi(i,"click",e)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},ui(e,"mouseleave",t.onContainerMouseLeave),1===Pe&&ui(G,"mouseup",t.onDocumentMouseUp),de&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Pe&&ui(G,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;gi(this.chart.container,"mouseleave",this.onContainerMouseLeave),Pe||(gi(G,"mouseup",this.onDocumentMouseUp),gi(G,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},t(ni.Pointer.prototype,{pinchTranslate:function(t,e,i,n,o,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,o,r),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,o,r)},pinchTranslateDirection:function(t,e,i,n,o,r,a,s){var l=this.chart,h=t?"x":"y",c=t?"X":"Y",d="chart"+c,p=t?"width":"height",u=l["plot"+(t?"Left":"Top")],g,f,m,y=s||1,x=l.inverted,v=l.bounds[t?"h":"v"],b=1===e.length,k=e[0][d],w=i[0][d],P=!b&&e[1][d],S=!b&&i[1][d],A,T,C,L=function(){!b&&Z(k-P)>20&&(y=s||Z(w-S)/Z(k-P)),m=(u-w)/y+k,g=l["plot"+(t?"Width":"Height")]/y};L(),f=m,f<v.min?(f=v.min,A=!0):f+g>v.max&&(f=v.max-g,A=!0),A?(w-=.8*(w-a[h][0]),b||(S-=.8*(S-a[h][1])),L()):a[h]=[w,S],x||(r[h]=m-u,r[p]=g),C=x?t?"scaleY":"scaleX":"scale"+c,T=x?1/y:y,o[p]=g,o[h]=f,n[C]=y,n["translate"+c]=T*u+(w-T*k)},pinch:function(e){var i=this,n=i.chart,o=i.pinchDown,r=i.followTouchMove,a=e.touches,s=a.length,l=i.lastValidTouch,h=i.hasZoom,c=i.selectionMarker,d={},p=1===s&&(i.inClass(e.target,Ie+"tracker")&&n.runTrackerClick||i.runChartClick),g={};!h&&!r||p||e.preventDefault(),pi(a,function(t){return i.normalize(t)}),"touchstart"===e.type?(hi(a,function(t,e){o[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[o[0].chartX,o[1]&&o[1].chartX],l.y=[o[0].chartY,o[1]&&o[1].chartY],hi(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,o=t.toPixels(u(t.options.min,t.dataMin)),r=t.toPixels(u(t.options.max,t.dataMax)),a=U(o,r),s=_(o,r);e.min=U(t.pos,a-i),e.max=_(t.pos+t.len,s+i)}}),i.res=!0):o.length&&(c||(i.selectionMarker=c=t({destroy:ke},n.plotBox)),i.pinchTranslate(o,a,d,c,g,l),i.hasPinched=h,i.scaleGroups(d,g),!h&&r&&1===s?this.runPointActions(i.normalize(e)):i.res&&(i.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(t){var e=this.chart;Oi=e.index,1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){we[Oi]&&we[Oi].pointer.drop(t)}}),E.PointerEvent||E.MSPointerEvent){var Bi={},Xi=!!E.PointerEvent,Wi=function(){var t,e=[];e.item=function(t){return this[t]};for(t in Bi)Bi.hasOwnProperty(t)&&e.push({pageX:Bi[t].pageX,pageY:Bi[t].pageY,target:Bi[t].target});return e},Yi=function(t,e,i,n){var o;t=t.originalEvent||t,"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!we[Oi]||(n(t),o=we[Oi].pointer,o[e]({type:i,target:t.currentTarget,preventDefault:ke,touches:Wi()}))};t(Ri.prototype,{onContainerPointerDown:function(t){Yi(t,"onContainerTouchStart","touchstart",function(t){Bi[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){Yi(t,"onContainerTouchMove","touchmove",function(t){Bi[t.pointerId]={pageX:t.pageX,pageY:t.pageY},Bi[t.pointerId].target||(Bi[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){Yi(t,"onContainerTouchEnd","touchend",function(t){delete Bi[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,Xi?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,Xi?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(G,Xi?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),v(Ri.prototype,"init",function(t,e,i){t.call(this,e,i),(this.hasZoom||this.followTouchMove)&&g(e.container,{"-ms-touch-action":Oe,"touch-action":Oe})}),v(Ri.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(ui)}),v(Ri.prototype,"destroy",function(t){this.batchMSEvents(gi),t.call(this)})}var Hi=ni.Legend=function(t,e){this.init(t,e)};Hi.prototype={init:function(t,i){var n=this,o=i.itemStyle,r=u(i.padding,8),a=i.itemMarginTop||0;this.options=i,i.enabled&&(n.itemStyle=o,n.itemHiddenStyle=e(o,i.itemHiddenStyle),n.itemMarginTop=a,n.padding=r,n.initialItemX=r,n.initialItemY=r-5,n.maxItemWidth=0,n.chart=t,n.itemHeight=0,n.lastLineHeight=0,n.symbolWidth=u(i.symbolWidth,16),n.pages=[],n.render(),ui(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(t,e){var i=this,n=i.options,o=t.legendItem,r=t.legendLine,a=t.legendSymbol,s=i.itemHiddenStyle.color,l=e?n.itemStyle.color:s,h=e?t.legendColor||t.color||"#CCC":s,c=t.options&&t.options.marker,d={fill:h},p,u;if(o&&o.css({fill:l,color:l}),r&&r.attr({stroke:h}),a){if(c&&a.isMarker){d.stroke=h,c=t.convertAttribs(c);for(p in c)u=c[p],u!==H&&(d[p]=u)}a.attr(d)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,o=!i.rtl,r=t._legendItemPos,a=r[0],s=r[1],l=t.checkbox;t.legendGroup&&t.legendGroup.translate(o?a:e.legendWidth-a-2*n-4,s),l&&(l.x=a,l.y=s)},destroyItem:function(t){var e=t.checkbox;hi(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&L(t.checkbox)},destroy:function(){var t=this,e=t.group,i=t.box;i&&(t.box=i.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e=this.group.alignAttr,i,n=this.clipHeight||this.legendHeight;e&&(i=e.translateY,hi(this.allItems,function(o){var r=o.checkbox,a;r&&(a=i+r.y+(t||0)+3,g(r,{left:e.translateX+o.checkboxOffset+r.x-20+ze,top:a+ze,display:a>i-6&&i+n-6>a?"":Oe}))}))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,n=0,o;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),o=this.title.getBBox(),n=o.height,this.offsetWidth=o.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},renderItem:function(t){var i=this,n=i.chart,o=n.renderer,r=i.options,a="horizontal"===r.layout,s=i.symbolWidth,l=r.symbolPadding,h=i.itemStyle,c=i.itemHiddenStyle,d=i.padding,p=a?u(r.itemDistance,20):0,g=!r.rtl,f,m=r.width,y=r.itemMarginBottom||0,x=i.itemMarginTop,v=i.initialItemX,b,w,P=t.legendItem,S=t.series&&t.series.drawLegendSymbol?t.series:t,A=S.options,T=i.createCheckboxForItem&&A&&A.showCheckbox,C=r.useHTML;P||(t.legendGroup=o.g("legend-item").attr({zIndex:1}).add(i.scrollGroup),t.legendItem=P=o.text(r.labelFormat?k(r.labelFormat,t):r.labelFormatter.call(t),g?s+l:-l,i.baseline||0,C).css(e(t.visible?h:c)).attr({align:g?"left":"right",zIndex:2}).add(t.legendGroup),i.baseline||(i.baseline=o.fontMetrics(h.fontSize,P).f+3+x,P.attr("y",i.baseline)),S.drawLegendSymbol(i,t),i.setItemEvents&&i.setItemEvents(t,P,C,h,c),i.colorizeItem(t,t.visible),T&&i.createCheckboxForItem(t)),b=P.getBBox(),w=t.checkboxOffset=r.itemWidth||t.legendItemWidth||s+l+b.width+p+(T?20:0),i.itemHeight=f=F(t.legendItemHeight||b.height),a&&i.itemX-v+w>(m||n.chartWidth-2*d-v-r.x)&&(i.itemX=v,i.itemY+=x+i.lastLineHeight+y,i.lastLineHeight=0),i.maxItemWidth=_(i.maxItemWidth,w),i.lastItemY=x+i.itemY+y,i.lastLineHeight=_(f,i.lastLineHeight),t._legendItemPos=[i.itemX,i.itemY],a?i.itemX+=w:(i.itemY+=x+f+y,i.lastLineHeight=f),i.offsetWidth=m||_((a?i.itemX-v-p:w)+d,i.offsetWidth)},getAllItems:function(){var t=[];return hi(this.chart.series,function(e){var i=e.options;u(i.showInLegend,c(i.linkedTo)?!1:H,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},render:function(){var e=this,i=e.chart,n=i.renderer,o=e.group,r,a,s,l,h=e.box,c=e.options,d=e.padding,p=c.borderWidth,u=c.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,o||(e.group=o=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(o),e.scrollGroup=n.g().add(e.contentGroup)),e.renderTitle(),r=e.getAllItems(),S(r,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&r.reverse(),e.allItems=r,e.display=a=!!r.length,hi(r,function(t){e.renderItem(t)}),s=c.width||e.offsetWidth,l=e.lastItemY+e.lastLineHeight+e.titleHeight,l=e.handleOverflow(l),(p||u)&&(s+=d,l+=d,h?s>0&&l>0&&(h[h.isNew?"attr":"animate"](h.crisp({width:s,height:l})),h.isNew=!1):(e.box=h=n.rect(0,0,s,l,c.borderRadius,p||0).attr({stroke:c.borderColor,"stroke-width":p||0,fill:u||Oe}).add(o).shadow(c.shadow),h.isNew=!0),h[a?"show":"hide"]()),e.legendWidth=s,e.legendHeight=l,hi(r,function(t){e.positionItem(t)}),a&&o.align(t({width:s,height:l},c),!0,"spacingBox"),i.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e=this,i=this.chart,n=i.renderer,o=this.options,r=o.y,a="top"===o.verticalAlign,s=i.spacingBox.height+(a?-r:r)-this.padding,l=o.maxHeight,h,c=this.clipRect,d=o.navigation,p=u(d.animation,!0),g=d.arrowSize||12,f=this.nav,m=this.pages,y,x=this.allItems;return"horizontal"===o.layout&&(s/=2),l&&(s=U(s,l)),m.length=0,t>s&&!o.useHTML?(this.clipHeight=h=_(s-20-this.titleHeight-this.padding,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,hi(x,function(t,e){var i=t._legendItemPos[1],n=F(t.legendItem.getBBox().height),o=m.length;(!o||i-m[o-1]>h&&(y||i)!==m[o-1])&&(m.push(y||i),o++),e===x.length-1&&i+n-m[o-1]>h&&m.push(i),i!==y&&(y=i)}),c||(c=e.clipRect=n.clipRect(0,this.padding,9999,0),e.contentGroup.clip(c)),c.attr({height:h}),f||(this.nav=f=n.g().attr({zIndex:1}).add(this.group),this.up=n.symbol("triangle",0,0,g,g).on("click",function(){e.scroll(-1,p)}).add(f),this.pager=n.text("",15,10).css(d.style).add(f),this.down=n.symbol("triangle-down",0,0,g,g).on("click",function(){e.scroll(1,p)}).add(f)),e.scroll(0),t=s):f&&(c.attr({height:i.chartHeight}),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,o=this.currentPage+t,r=this.clipHeight,a=this.options.navigation,s=a.activeColor,l=a.inactiveColor,h=this.pager,c=this.padding,d;o>n&&(o=n),o>0&&(e!==H&&I(e,this.chart),this.nav.attr({translateX:c,translateY:r+this.padding+7+this.titleHeight,visibility:De}),this.up.attr({fill:1===o?l:s}).css({cursor:1===o?"default":"pointer"}),h.attr({text:o+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===n?l:s}).css({cursor:o===n?"default":"pointer"}),d=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:d}),this.currentPage=o,this.positionCheckboxes(d))}};var Gi=ni.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-i/2,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,i=e.marker,n,o=t.options,r,a=t.symbolWidth,s=this.chart.renderer,l=this.legendGroup,h=t.baseline-F(.3*s.fontMetrics(o.itemStyle.fontSize,this.legendItem).b),c;e.lineWidth&&(c={"stroke-width":e.lineWidth},e.dashStyle&&(c.dashstyle=e.dashStyle),this.legendLine=s.path([Re,0,h,Be,a,h]).attr(c).add(l)),i&&i.enabled!==!1&&(n=i.radius,this.legendSymbol=r=s.symbol(this.symbol,a/2-n,h-n,2*n,2*n).add(l),r.isMarker=!0)}};(/Trident\/7\.0/.test(Q)||oe)&&v(Hi.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)}),W.prototype={init:function(t,i){var n,o=t.series;t.series=null,n=e(fe,t),n.series=t.series=o,this.userOptions=t;var r=n.chart;this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var a=r.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var s=this,l;if(s.index=we.length,we.push(s),Pe++,r.reflow!==!1&&ui(s,"load",function(){s.initReflow()}),a)for(l in a)ui(s,l,a[l]);s.xAxis=[],s.yAxis=[],s.animation=he?!1:u(r.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(t){var e=this,i=e.options.chart,n=t.type||i.type||i.defaultSeriesType,o,r=ii[n];return r||be(17,!0),o=new r,o.init(this,t),o},isInsidePlot:function(t,e,i){var n=i?e:t,o=i?t:e;return n>=0&&n<=this.plotWidth&&o>=0&&o<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&hi(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var i=this,n=i.axes,o=i.series,r=i.pointer,a=i.legend,s=i.isDirtyLegend,l,h,c=i.hasCartesianSeries,d=i.isDirtyBox,p=o.length,u=p,g,f=i.renderer,m=f.isHidden(),y=[];for(I(e,i),m&&i.cloneRenderTo(),i.layOutTitles();u--;)if(g=o[u],g.options.stacking&&(l=!0,g.isDirty)){h=!0;break}if(h)for(u=p;u--;)g=o[u],g.options.stacking&&(g.isDirty=!0);hi(o,function(t){t.isDirty&&"point"===t.options.legendType&&(s=!0)}),s&&a.options.enabled&&(a.render(),i.isDirtyLegend=!1),l&&i.getStacks(),c&&(i.isResizing||(i.maxTicks=null,hi(n,function(t){t.setScale()})),i.adjustTickAmounts()),i.getMargins(),c&&(hi(n,function(t){t.isDirty&&(d=!0)}),hi(n,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,y.push(function(){fi(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(d||l)&&e.redraw()})),d&&i.drawChartBox(),hi(o,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),r&&r.reset(!0),f.draw(),fi(i,"redraw"),m&&i.cloneRenderTo(!0),hi(y,function(t){t.call()})},get:function(t){var e=this,i=e.axes,n=e.series,o,r,a;for(o=0;o<i.length;o++)if(i[o].options.id===t)return i[o];for(o=0;o<n.length;o++)if(n[o].options.id===t)return n[o];for(o=0;o<n.length;o++)for(a=n[o].points||[],r=0;r<a.length;r++)if(a[r].id===t)return a[r];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=p(e.xAxis||{}),n=e.yAxis=p(e.yAxis||{}),o,r;hi(i,function(t,e){t.index=e,t.isX=!0}),hi(n,function(t,e){t.index=e}),o=i.concat(n),hi(o,function(e){r=new X(t,e)}),t.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return hi(this.series,function(e){t=t.concat(ci(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return ci(this.series,function(t){return t.selected})},getStacks:function(){var t=this;hi(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),hi(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+u(e.options.stack,""))})},setTitle:function(t,i,n){var o=this,r=o.options,a,s;a=r.title=e(r.title,t),s=r.subtitle=e(r.subtitle,i),hi([["title",t,a],["subtitle",i,s]],function(t){var e=t[0],i=o[e],n=t[1],r=t[2];i&&n&&(o[e]=i=i.destroy()),r&&r.text&&!i&&(o[e]=o.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,"class":Ie+e,zIndex:r.zIndex||4}).css(r.style).add())}),o.layOutTitles(n)},layOutTitles:function(e){var i=0,n=this.title,o=this.subtitle,r=this.options,a=r.title,s=r.subtitle,l,h=this.renderer,c=this.spacingBox.width-44;n&&(n.css({width:(a.width||c)+ze}).align(t({y:h.fontMetrics(a.style.fontSize,n).b-3},a),!1,"spacingBox"),a.floating||a.verticalAlign||(i=n.getBBox().height)),o&&(o.css({width:(s.width||c)+ze}).align(t({y:i+(a.margin-13)+h.fontMetrics(a.style.fontSize,o).b},s),!1,"spacingBox"),s.floating||s.verticalAlign||(i=j(i+o.getBBox().height))),l=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&l&&(this.isDirtyBox=l,this.hasRendered&&u(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,e=t.options.chart,i=e.width,n=e.height,o=t.renderToClone||t.renderTo;c(i)||(t.containerWidth=ai(o,"width")),c(n)||(t.containerHeight=ai(o,"height")),t.chartWidth=_(0,i||t.containerWidth||600),t.chartHeight=_(0,u(n,t.containerHeight>19?t.containerHeight:400))
},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),L(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),g(e,{position:Ce,top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),G.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e=this,o,r=e.options.chart,a,s,l,h="data-highcharts-chart",c,p;e.renderTo=l=r.renderTo,p=Ie+ue++,n(l)&&(e.renderTo=l=G.getElementById(l)),l||be(13,!0),c=i(d(l,h)),!isNaN(c)&&we[c]&&we[c].hasRendered&&we[c].destroy(),d(l,h,e.index),l.innerHTML="",r.skipClone||l.offsetWidth||e.cloneRenderTo(),e.getChartSize(),a=e.chartWidth,s=e.chartHeight,e.container=o=f(Te,{className:Ie+"container"+(r.className?" "+r.className:""),id:p},t({position:Le,overflow:Me,width:a+ze,height:s+ze,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),e.renderToClone||l),e._cursor=o.style.cursor,e.renderer=r.forExport?new Ti(o,a,s,r.style,!0):new ce(o,a,s,r.style),he&&e.renderer.create(e,o,a,s)},getMargins:function(){var t=this,e=t.spacing,i,n=t.legend,o=t.margin,r=t.options.legend,a=u(r.margin,20),s=r.x,l=r.y,h=r.align,d=r.verticalAlign,p=t.titleOffset;t.resetMargins(),i=t.axisOffset,p&&!c(o[0])&&(t.plotTop=_(t.plotTop,p+t.options.title.margin+e[0])),n.display&&!r.floating&&("right"===h?c(o[1])||(t.marginRight=_(t.marginRight,n.legendWidth-s+a+e[1])):"left"===h?c(o[3])||(t.plotLeft=_(t.plotLeft,n.legendWidth+s+a+e[3])):"top"===d?c(o[0])||(t.plotTop=_(t.plotTop,n.legendHeight+l+a+e[0])):"bottom"===d&&(c(o[2])||(t.marginBottom=_(t.marginBottom,n.legendHeight-l+a+e[2])))),t.extraBottomMargin&&(t.marginBottom+=t.extraBottomMargin),t.extraTopMargin&&(t.plotTop+=t.extraTopMargin),t.hasCartesianSeries&&hi(t.axes,function(t){t.getOffset()}),c(o[3])||(t.plotLeft+=i[3]),c(o[0])||(t.plotTop+=i[0]),c(o[2])||(t.marginBottom+=i[2]),c(o[1])||(t.marginRight+=i[1]),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,o=i.width||ai(n,"width"),r=i.height||ai(n,"height"),a=t?t.target:E,s=function(){e.container&&(e.setSize(o,r,!1),e.hasUserSize=null)};e.hasUserSize||!o||!r||a!==E&&a!==G||((o!==e.containerWidth||r!==e.containerHeight)&&(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(s,100):s()),e.containerWidth=o,e.containerHeight=r)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};ui(E,"resize",e),ui(t,"destroy",function(){gi(E,"resize",e)})},setSize:function(t,e,i){var n=this,o,r,a;n.isResizing+=1,a=function(){n&&fi(n,"endResize",null,function(){n.isResizing-=1})},I(i,n),n.oldChartHeight=n.chartHeight,n.oldChartWidth=n.chartWidth,c(t)&&(n.chartWidth=o=_(0,F(t)),n.hasUserSize=!!o),c(e)&&(n.chartHeight=r=_(0,F(e))),(ye?yi:g)(n.container,{width:o+ze,height:r+ze},ye),n.setChartSize(!0),n.renderer.setSize(o,r,i),n.maxTicks=null,hi(n.axes,function(t){t.isDirty=!0,t.setScale()}),hi(n.series,function(t){t.isDirty=!0}),n.isDirtyLegend=!0,n.isDirtyBox=!0,n.layOutTitles(),n.getMargins(),n.redraw(i),n.oldChartHeight=null,fi(n,"resize"),ye===!1?a():setTimeout(a,ye&&ye.duration||500)},setChartSize:function(t){var e=this,i=e.inverted,n=e.renderer,o=e.chartWidth,r=e.chartHeight,a=e.options.chart,s=e.spacing,l=e.clipOffset,h,c,d,p,u,g,f;e.plotLeft=d=F(e.plotLeft),e.plotTop=p=F(e.plotTop),e.plotWidth=u=_(0,F(o-d-e.marginRight)),e.plotHeight=g=_(0,F(r-p-e.marginBottom)),e.plotSizeX=i?g:u,e.plotSizeY=i?u:g,e.plotBorderWidth=a.plotBorderWidth||0,e.spacingBox=n.spacingBox={x:s[3],y:s[0],width:o-s[3]-s[1],height:r-s[0]-s[2]},e.plotBox=n.plotBox={x:d,y:p,width:u,height:g},f=2*V(e.plotBorderWidth/2),h=j(_(f,l[3])/2),c=j(_(f,l[0])/2),e.clipBox={x:h,y:c,width:V(e.plotSizeX-_(f,l[1])/2-h),height:_(0,V(e.plotSizeY-_(f,l[2])/2-c))},t||hi(e.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.spacing,i=t.margin;t.plotTop=u(i[0],e[0]),t.marginRight=u(i[1],e[1]),t.marginBottom=u(i[2],e[2]),t.plotLeft=u(i[3],e[3]),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t=this,e=t.options.chart,i=t.renderer,n=t.chartWidth,o=t.chartHeight,r=t.chartBackground,a=t.plotBackground,s=t.plotBorder,l=t.plotBGImage,h=e.borderWidth||0,c=e.backgroundColor,d=e.plotBackgroundColor,p=e.plotBackgroundImage,u=e.plotBorderWidth||0,g,f,m=t.plotLeft,y=t.plotTop,x=t.plotWidth,v=t.plotHeight,b=t.plotBox,k=t.clipRect,w=t.clipBox;g=h+(e.shadow?8:0),(h||c)&&(r?r.animate(r.crisp({width:n-g,height:o-g})):(f={fill:c||Oe},h&&(f.stroke=e.borderColor,f["stroke-width"]=h),t.chartBackground=i.rect(g/2,g/2,n-g,o-g,e.borderRadius,h).attr(f).addClass(Ie+"background").add().shadow(e.shadow))),d&&(a?a.animate(b):t.plotBackground=i.rect(m,y,x,v,0).attr({fill:d}).add().shadow(e.plotShadow)),p&&(l?l.animate(b):t.plotBGImage=i.image(p,m,y,x,v).add()),k?k.animate({width:w.width,height:w.height}):t.clipRect=i.clipRect(w),u&&(s?s.animate(s.crisp({x:m,y:y,width:x,height:v,strokeWidth:-u})):t.plotBorder=i.rect(m,y,x,v,0,-u).attr({stroke:e.plotBorderColor,"stroke-width":u,fill:Oe,zIndex:1}).add()),t.isDirtyBox=!1},propFromSeries:function(){var t=this,e=t.options.chart,i,n=t.options.series,o,r;hi(["inverted","angular","polar"],function(a){for(i=ii[e.type||e.defaultSeriesType],r=t[a]||e[a]||i&&i.prototype[a],o=n&&n.length;!r&&o--;)i=ii[n[o].type],i&&i.prototype[a]&&(r=!0);t[a]=r})},linkSeries:function(){var t=this,e=t.series;hi(e,function(t){t.linkedSeries.length=0}),hi(e,function(e){var i=e.options.linkedTo;n(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i),i&&(i.linkedSeries.push(e),e.linkedParent=i))})},renderSeries:function(){hi(this.series,function(t){t.translate(),t.setTooltipPoints&&t.setTooltipPoints(),t.render()})},renderLabels:function(){var e=this,n=e.options.labels;n.items&&hi(n.items,function(o){var r=t(n.style,o.style),a=i(r.left)+e.plotLeft,s=i(r.top)+e.plotTop+12;delete r.left,delete r.top,e.renderer.text(o.html,a,s).attr({zIndex:2}).css(r).add()})},render:function(){var t=this,e=t.axes,i=t.renderer,n=t.options;t.setTitle(),t.legend=new Hi(t,n.legend),t.getStacks(),hi(e,function(t){t.setScale()}),t.getMargins(),t.maxTicks=null,hi(e,function(t){t.setTickPositions(!0),t.setMaxTicks()}),t.adjustTickAmounts(),t.getMargins(),t.drawChartBox(),t.hasCartesianSeries&&hi(e,function(t){t.render()}),t.seriesGroup||(t.seriesGroup=i.g("series-group").attr({zIndex:3}).add()),t.renderSeries(),t.renderLabels(),t.showCredits(n.credits),t.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var t=this,e=t.axes,i=t.series,n=t.container,o,r=n&&n.parentNode;for(fi(t,"destroy"),we[t.index]=H,Pe--,t.renderTo.removeAttribute("data-highcharts-chart"),gi(t),o=e.length;o--;)e[o]=e[o].destroy();for(o=i.length;o--;)i[o]=i[o].destroy();hi(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var i=t[e];i&&i.destroy&&(t[e]=i.destroy())}),n&&(n.innerHTML="",gi(n),r&&L(n));for(o in t)delete t[o]},isReadyToRender:function(){var t=this;return!se&&E==E.top&&"complete"!==G.readyState||he&&!E.canvg?(he?Di.push(function(){t.firstRender()},t.options.global.canvasToolsURL):G.attachEvent("onreadystatechange",function(){G.detachEvent("onreadystatechange",t.firstRender),"complete"===G.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),fi(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),hi(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),fi(t,"beforeRender"),ni.Pointer&&(t.pointer=new Ri(t,e)),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),hi(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),fi(t,"load"))},splashArray:function(t,e){var i=e[t],n=o(i)?i:[i,i,i,i];return[u(e[t+"Top"],n[0]),u(e[t+"Right"],n[1]),u(e[t+"Bottom"],n[2]),u(e[t+"Left"],n[3])]}},W.prototype.callbacks=[];var Ei=ni.CenteredSeriesMixin={getCenter:function(){var t=this.options,e=this.chart,n=2*(t.slicedOffset||0),o,r=e.plotWidth-2*n,a=e.plotHeight-2*n,s=t.center,l=[u(s[0],"50%"),u(s[1],"50%"),t.size||"100%",t.innerSize||0],h=U(r,a),c;return pi(l,function(t,e){return c=/%$/.test(t),o=2>e||2===e&&c,(c?[r,a,h,h][e]*i(t)/100:t)+(o?n:0)})}},Ni=function(){};Ni.prototype={init:function(t,e,i){var n=this,o;return n.series=t,n.applyOptions(e,i),n.pointAttr={},t.options.colorByPoint&&(o=t.options.colors||t.chart.options.colors,n.color=n.color||o[t.colorCounter++],t.colorCounter===o.length&&(t.colorCounter=0)),t.chart.pointCount++,n},applyOptions:function(e,i){var n=this,o=n.series,r=o.options.pointValKey||o.pointValKey;return e=Ni.prototype.optionsToObject.call(this,e),t(n,e),n.options=n.options?t(n.options,e):e,r&&(n.y=n[r]),n.x===H&&o&&(n.x=i===H?o.autoIncrement():i),n},optionsToObject:function(t){var e={},i=this.series,n=i.pointArrayMap||["y"],o=n.length,a,s=0,l=0;if("number"==typeof t||null===t)e[n[0]]=t;else if(r(t))for(t.length>o&&(a=typeof t[0],"string"===a?e.name=t[0]:"number"===a&&(e.x=t[0]),s++);o>l;)e[n[l++]]=t[s++];else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t=this,e=t.series,i=e.chart,n=i.hoverPoints,o;i.pointCount--,n&&(t.setState(),h(n,t),n.length||(i.hoverPoints=null)),t===i.hoverPoint&&t.onMouseOut(),(t.graphic||t.dataLabel)&&(gi(t),t.destroyElements()),t.legendItem&&i.legend.destroyItem(t);for(o in t)t[o]=null},destroyElements:function(){for(var t=this,e=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],i,n=6;n--;)i=e[n],t[i]&&(t[i]=t[i].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=u(i.valueDecimals,""),o=i.valuePrefix||"",r=i.valueSuffix||"";return hi(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||r)&&(t=t.replace(e+"}",o+e+"}"+r)),t=t.replace(e+"}",e+":,."+n+"f}")}),k(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,o=this.series,r=o.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),fi(this,t,e,i)}};var Fi=function(){};Fi.prototype={isCartesian:!0,type:"line",pointClass:Ni,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,i){var n=this,o,r,a=e.series,s=function(t,e){return u(t.options.index,t._i)-u(e.options.index,e._i)};n.chart=e,n.options=i=n.setOptions(i),n.linkedSeries=[],n.bindAxes(),t(n,{name:i.name,state:We,pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),he&&(i.animation=!1),r=i.events;for(o in r)ui(n,o,r[o]);(r&&r.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),n.getColor(),n.getSymbol(),hi(n.parallelArrays,function(t){n[t+"Data"]=[]}),n.setData(i.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),a.push(n),n._i=a.length-1,S(a,s),this.yAxis&&S(this.yAxis.series,s),hi(a,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t=this,e=t.options,i=t.chart,n;hi(t.axisTypes||[],function(o){hi(i[o],function(i){n=i.options,(e[o]===n.index||e[o]!==H&&e[o]===n.id||e[o]===H&&0===n.index)&&(i.series.push(t),t[o]=i,i.isDirty=!0)}),t[o]||t.optionalAxis===o||be(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,o="number"==typeof e?function(n){var o="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=o}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};hi(i.parallelArrays,o)},autoIncrement:function(){var t=this,e=t.options,i=t.xIncrement;return i=u(i,e.pointStart,0),t.pointInterval=u(t.pointInterval,e.pointInterval,1),t.xIncrement=i+t.pointInterval,i},getSegments:function(){var t=this,e=-1,i=[],n,o=t.points,r=o.length;if(r)if(t.options.connectNulls){for(n=r;n--;)null===o[n].y&&o.splice(n,1);o.length&&(i=[o])}else hi(o,function(t,n){null===t.y?(n>e+1&&i.push(o.slice(e+1,n)),e=n):n===r-1&&i.push(o.slice(e+1,n+1))});t.segments=i},setOptions:function(t){var i=this.chart,n=i.options,o=n.plotOptions,r=i.userOptions||{},a=r.plotOptions||{},s=o[this.type],l;return this.userOptions=t,l=e(s,o.series,t),this.tooltipOptions=e(fe.tooltip,fe.plotOptions[this.type].tooltip,r.tooltip,a.series&&a.series.tooltip,a[this.type]&&a[this.type].tooltip,t.tooltip),null===s.marker&&delete l.marker,l},getCyclic:function(t,e,i){var n,o=this.userOptions,r="_"+t+"Index",a=t+"Counter";e||(c(o[r])?n=o[r]:(o[r]=n=this.chart[a]%i.length,this.chart[a]+=1),e=i[n]),this[t]=e},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||bi[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:Gi.drawLineMarker,setData:function(t,e,i,o){var s=this,l=s.points,h=l&&l.length||0,c,d=s.options,p=s.chart,g=null,f=s.xAxis,m=f&&!!f.categories,y=s.tooltipPoints,x,v=d.turboThreshold,b,k=this.xData,w=this.yData,P=s.pointArrayMap,S=P&&P.length;if(t=t||[],c=t.length,e=u(e,!0),o===!1||!c||h!==c||s.cropped||s.hasGroupedData){if(s.xIncrement=null,s.pointRange=m?1:d.pointRange,s.colorCounter=0,hi(this.parallelArrays,function(t){s[t+"Data"].length=0}),v&&c>v){for(x=0;null===g&&c>x;)g=t[x],x++;if(a(g)){var A=u(d.pointStart,0),T=u(d.pointInterval,1);for(x=0;c>x;x++)k[x]=A,w[x]=t[x],A+=T;s.xIncrement=A}else if(r(g))if(S)for(x=0;c>x;x++)b=t[x],k[x]=b[0],w[x]=b.slice(1,S+1);else for(x=0;c>x;x++)b=t[x],k[x]=b[0],w[x]=b[1];else be(12)}else for(x=0;c>x;x++)t[x]!==H&&(b={series:s},s.pointClass.prototype.applyOptions.apply(b,[t[x]]),s.updateParallelArrays(b,x),m&&b.name&&(f.names[b.x]=b.name));for(n(w[0])&&be(14,!0),s.data=[],s.options.data=t,x=h;x--;)l[x]&&l[x].destroy&&l[x].destroy();y&&(y.length=0),f&&(f.minRange=f.userMinRange),s.isDirty=s.isDirtyData=p.isDirtyBox=!0,i=!1}else hi(t,function(t,e){l[e].update(t,!1,null,!1)});e&&p.redraw(i)},processData:function(t){var e=this,i=e.xData,n=e.yData,o=i.length,r,a=0,s,l,h,c=e.xAxis,d,p=e.options,u=p.cropThreshold,g=0,f=e.isCartesian,m,y,x;if(f&&!e.isDirty&&!c.isDirty&&!e.yAxis.isDirty&&!t)return!1;for(c&&(m=c.getExtremes(),y=m.min,x=m.max),f&&e.sorted&&(!u||o>u||e.forceCrop)&&(i[o-1]<y||i[0]>x?(i=[],n=[]):(i[0]<y||i[o-1]>x)&&(r=this.cropData(e.xData,e.yData,y,x),i=r.xData,n=r.yData,a=r.start,s=!0,g=i.length)),d=i.length-1;d>=0;d--)l=i[d]-i[d-1],!s&&i[d]>y&&i[d]<x&&g++,l>0&&(h===H||h>l)?h=l:0>l&&e.requireSorting&&be(15);e.cropped=s,e.cropStart=a,e.processedXData=i,e.processedYData=n,e.activePointCount=g,null===p.pointRange&&(e.pointRange=h||1),e.closestPointRange=h},cropData:function(t,e,i,n){var o=t.length,r=0,a=o,s=u(this.cropShoulder,1),l;for(l=0;o>l;l++)if(t[l]>=i){r=_(0,l-s);break}for(;o>l;l++)if(t[l]>n){a=l+s;break}return{xData:t.slice(r,a),yData:e.slice(r,a),start:r,end:a}},generatePoints:function(){var t=this,e=t.options,i=e.data,n=t.data,o,r=t.processedXData,a=t.processedYData,s=t.pointClass,l=r.length,h=t.cropStart||0,c,d=t.hasGroupedData,u,g=[],f;if(!n&&!d){var m=[];m.length=i.length,n=t.data=m}for(f=0;l>f;f++)c=h+f,d?g[f]=(new s).init(t,[r[f]].concat(p(a[f]))):(n[c]?u=n[c]:i[c]!==H&&(n[c]=u=(new s).init(t,i[c],r[f])),g[f]=u),g[f].index=c;if(n&&(l!==(o=n.length)||d))for(f=0;o>f;f++)f!==h||d||(f+=l),n[f]&&(n[f].destroyElements(),n[f].plotX=H);t.data=n,t.points=g},getExtremes:function(t){var e=this.xAxis,i=this.yAxis,n=this.processedXData,o,r=[],a=0,s=e.getExtremes(),l=s.min,h=s.max,c,d,p,g,f,m,y,x;for(t=t||this.stackedYData||this.processedYData,o=t.length,y=0;o>y;y++)if(f=n[y],m=t[y],c=null!==m&&m!==H&&(!i.isLog||m.length||m>0),d=this.getExtremesFromAll||this.cropped||(n[y+1]||f)>=l&&(n[y-1]||f)<=h,c&&d)if(x=m.length)for(;x--;)null!==m[x]&&(r[a++]=m[x]);else r[a++]=m;this.dataMin=u(p,A(r)),this.dataMax=u(g,T(r))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t=this,e=t.options,i=e.stacking,n=t.xAxis,o=n.categories,r=t.yAxis,s=t.points,l=s.length,h=!!t.modifyValue,d,p=e.pointPlacement,g="between"===p||a(p),f=e.threshold;for(d=0;l>d;d++){var m=s[d],y=m.x,x=m.y,v=m.low,b=i&&r.stacks[(t.negStacks&&f>x?"-":"")+t.stackKey],k,w;r.isLog&&0>=x&&(m.y=x=null,be(10)),m.plotX=n.translate(y,0,0,0,1,p,"flags"===this.type),i&&t.visible&&b&&b[y]&&(k=b[y],w=k.points[t.index+","+d],v=w[0],x=w[1],0===v&&(v=u(f,r.min)),r.isLog&&0>=v&&(v=null),m.total=m.stackTotal=k.total,m.percentage=k.total&&m.y/k.total*100,m.stackY=x,k.setOffset(t.pointXOffset||0,t.barW||0)),m.yBottom=c(v)?r.translate(v,0,1,0,1):null,h&&(x=t.modifyValue(x,m)),m.plotY="number"==typeof x&&1/0!==x?r.translate(x,0,1,0,1):H,m.clientX=g?n.translate(y,0,0,0,1):m.plotX,m.negative=m.y<(f||0),m.category=o&&o[m.x]!==H?o[m.x]:m.x}t.getSegments()},animate:function(e){var i=this,n=i.chart,r=n.renderer,a,s,l=i.options.animation,h=i.clipBox||n.clipBox,c=n.inverted,d;l&&!o(l)&&(l=bi[i.type].animation),d=["_sharedClip",l.duration,l.easing,h.height].join(","),e?(a=n[d],s=n[d+"m"],a||(n[d]=a=r.clipRect(t(h,{width:0})),n[d+"m"]=s=r.clipRect(-99,c?-n.plotLeft:-n.plotTop,99,c?n.chartWidth:n.chartHeight)),i.group.clip(a),i.markerGroup.clip(s),i.sharedClipKey=d):(a=n[d],a&&a.animate({width:n.plotSizeX},l),n[d+"m"]&&n[d+"m"].animate({width:n.plotSizeX+99},l),i.animate=null)},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group,n=this.clipBox;i&&this.options.clip!==!1&&(e&&n||i.clip(n?t.renderer.clipRect(n):t.clipRect),this.markerGroup.clip()),fi(this,"afterAnimate"),setTimeout(function(){e&&t[e]&&(n||(t[e]=t[e].destroy()),t[e+"m"]&&(t[e+"m"]=t[e+"m"].destroy()))},100)},drawPoints:function(){var e=this,i,n=e.points,o=e.chart,r,a,s,l,h,c,d,p,g=e.options,f=g.marker,m=e.pointAttr[""],y,x,v,b,k=e.markerGroup,w=u(f.enabled,!e.requireSorting||e.activePointCount<.5*e.xAxis.len/f.radius);if(f.enabled!==!1||e._hasPointMarkers)for(s=n.length;s--;)l=n[s],r=V(l.plotX),a=l.plotY,p=l.graphic,y=l.marker||{},x=!!l.marker,v=w&&y.enabled===H||y.enabled,b=o.isInsidePlot(F(r),a,o.inverted),v&&a!==H&&!isNaN(a)&&null!==l.y?(i=l.pointAttr[l.selected?He:We]||m,h=i.r,c=u(y.symbol,e.symbol),d=0===c.indexOf("url"),p?p[b?"show":"hide"](!0).animate(t({x:r-h,y:a-h},p.symbolName?{width:2*h,height:2*h}:{})):b&&(h>0||d)&&(l.graphic=p=o.renderer.symbol(c,r-h,a-h,2*h,2*h,x?y:f).attr(i).add(k))):p&&(l.graphic=p.destroy())},convertAttribs:function(t,e,i,n){var o=this.pointAttrToOptions,r,a,s={};t=t||{},e=e||{},i=i||{},n=n||{};for(r in o)a=o[r],s[r]=u(t[a],e[r],i[r],n[r]);return s},getAttribs:function(){var e=this,i=e.options,n=bi[e.type].marker?i.marker:i,o=n.states,r=o[Ye],a,s=e.color,l={stroke:s,fill:s},h=e.points||[],d,p,u=[],g,f=e.pointAttrToOptions,m=e.hasPointSpecificOptions,y=i.negativeColor,x=n.lineColor,v=n.fillColor,b=i.turboThreshold,k,w;if(i.marker?(r.radius=r.radius||n.radius+r.radiusPlus,r.lineWidth=r.lineWidth||n.lineWidth+r.lineWidthPlus):r.color=r.color||Ai(r.color||s).brighten(r.brightness).get(),u[We]=e.convertAttribs(n,l),hi([Ye,He],function(t){u[t]=e.convertAttribs(o[t],u[We])}),e.pointAttr=u,d=h.length,!b||b>d||m)for(;d--;){if(p=h[d],n=p.options&&p.options.marker||p.options,n&&n.enabled===!1&&(n.radius=0),p.negative&&y&&(p.color=p.fillColor=y),m=i.colorByPoint||p.color,p.options)for(w in f)c(n[f[w]])&&(m=!0);m?(n=n||{},g=[],o=n.states||{},a=o[Ye]=o[Ye]||{},i.marker||(a.color=a.color||!p.options.color&&r.color||Ai(p.color).brighten(a.brightness||r.brightness).get()),k={color:p.color},v||(k.fillColor=p.color),x||(k.lineColor=p.color),g[We]=e.convertAttribs(t(k,n),u[We]),g[Ye]=e.convertAttribs(o[Ye],u[Ye],g[We]),g[He]=e.convertAttribs(o[He],u[He],g[We])):g=u,p.pointAttr=g}},destroy:function(){var t=this,e=t.chart,i=/AppleWebKit\/533/.test(Q),n,o,r=t.data||[],a,s,l;for(fi(t,"destroy"),gi(t),hi(t.axisTypes||[],function(e){l=t[e],l&&(h(l.series,t),l.isDirty=l.forceRedraw=!0)}),t.legendItem&&t.chart.legend.destroyItem(t),o=r.length;o--;)a=r[o],a&&a.destroy&&a.destroy();t.points=null,clearTimeout(t.animationTimeout),hi(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(e){t[e]&&(n=i&&"group"===e?"hide":"destroy",t[e][n]())}),e.hoverSeries===t&&(e.hoverSeries=null),h(e.series,t);for(s in t)delete t[s]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return hi(t,function(o,r){var a=o.plotX,s=o.plotY,l;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,o,r)):(i.push(r?Be:Re),n&&r&&(l=t[r-1],"right"===n?i.push(l.plotX,s):"center"===n?i.push((l.plotX+a)/2,l.plotY,(l.plotX+a)/2,s):i.push(a,l.plotY)),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var t=this,e=[],i,n=[];return hi(t.segments,function(o){i=t.getSegmentPath(o),o.length>1?e=e.concat(i):n.push(o[0])}),t.singlePoints=n,t.graphPath=e,e},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],n=e.lineWidth,o=e.dashStyle,r="square"!==e.linecap,a=this.getGraphPath(),s=e.negativeColor;s&&i.push(["graphNeg",s]),hi(i,function(i,s){var l=i[0],h=t[l],c;h?(xi(h),h.animate({d:a})):n&&a.length&&(c={stroke:i[1],"stroke-width":n,fill:Oe,zIndex:1},o?c.dashstyle=o:r&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(a).attr(c).add(t.group).shadow(!s&&e.shadow))})},clipNeg:function(){var t=this.options,e=this.chart,i=e.renderer,n=t.negativeColor||t.negativeFillColor,o,r,a,s=this.graph,l=this.area,h=this.posClip,c=this.negClip,d=e.chartWidth,p=e.chartHeight,u=_(d,p),g=this.yAxis,f,m;n&&(s||l)&&(o=F(g.toPixels(t.threshold||0,!0)),0>o&&(u-=o),f={x:0,y:0,width:u,height:o},m={x:0,y:o,width:u,height:u},e.inverted&&(f.height=m.y=e.plotWidth-o,i.isVML&&(f={x:e.plotWidth-o-e.plotLeft,y:0,width:d,height:p},m={x:o+e.plotLeft-d,y:0,width:e.plotLeft+o,height:d})),g.reversed?(r=m,a=f):(r=f,a=m),h?(h.animate(r),c.animate(a)):(this.posClip=h=i.clipRect(r),this.negClip=c=i.clipRect(a),s&&this.graphNeg&&(s.clip(h),this.graphNeg.clip(c)),l&&(l.clip(h),this.areaNeg.clip(c))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};hi(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(ui(i,"resize",t),ui(e,"destroy",function(){gi(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,o){var r=this[t],a=!r;return a&&(this[t]=r=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(o)),r[a?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t=this,e=t.chart,i,n=t.options,o=n.animation,r=o&&!!t.animate&&e.renderer.isSVG&&u(o.duration,500)||0,a=t.visible?De:Me,s=n.zIndex,l=t.hasRendered,h=e.seriesGroup;i=t.plotGroup("group","series",a,s,h),t.markerGroup=t.plotGroup("markerGroup","markers",a,s,h),r&&t.animate(!0),t.getAttribs(),i.inverted=t.isCartesian?e.inverted:!1,t.drawGraph&&(t.drawGraph(),t.clipNeg()),hi(t.points,function(t){t.redraw&&t.redraw()}),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&t.options.enableMouseTracking!==!1&&t.drawTracker(),e.inverted&&t.invertGroups(),n.clip===!1||t.sharedClipKey||l||i.clip(e.clipRect),r&&t.animate(),l||(r?t.animationTimeout=setTimeout(function(){t.afterAnimate()},r):t.afterAnimate()),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirtyData,n=t.group,o=t.xAxis,r=t.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:u(o&&o.left,e.plotLeft),translateY:u(r&&r.top,e.plotTop)})),t.translate(),t.setTooltipPoints&&t.setTooltipPoints(!0),t.render(),i&&fi(t,"updatedData")}},Y.prototype={destroy:function(){C(this,this.axis)},render:function(t){var e=this.options,i=e.format,n=i?k(i,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:Me}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:Me}).add(t)},setOffset:function(t,e){var i=this,n=i.axis,o=n.chart,r=o.inverted,a=this.isNegative,s=n.translate(n.usePercentage?100:this.total,0,0,0,1),l=n.translate(0),h=Z(s-l),c=o.xAxis[0].translate(this.x)+t,d=o.plotHeight,p={x:r?a?s:s-h:c,y:r?d-c-e:a?d-s-h:d-s,width:r?h:e,height:r?e:h},u=this.label,g;u&&(u.align(this.alignOptions,null,p),g=u.alignAttr,u[this.options.crop===!1||o.isInsidePlot(g.x,g.y)?"show":"hide"](!0))}},X.prototype.buildStacks=function(){var t=this.series,e=u(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)t[e?i:t.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<t.length;i++)t[i].setPercentStacks()}},X.prototype.renderStackTotals=function(){var t=this,e=t.chart,i=e.renderer,n=t.stacks,o,r,a,s=t.stackTotalGroup;s||(t.stackTotalGroup=s=i.g("stack-labels").attr({visibility:De,zIndex:6}).add()),s.translate(e.plotLeft,e.plotTop);for(o in n){r=n[o];for(a in r)r[a].render(s)}},Fi.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t=this,e=t.processedXData,i=t.processedYData,n=[],o=i.length,r=t.options,a=r.threshold,s=r.stack,l=r.stacking,h=t.stackKey,c="-"+h,d=t.negStacks,p=t.yAxis,u=p.stacks,g=p.oldStacks,f,m,y,x,v,b,k,w;for(b=0;o>b;b++)k=e[b],w=i[b],v=t.index+","+b,f=d&&a>w,x=f?c:h,u[x]||(u[x]={}),u[x][k]||(g[x]&&g[x][k]?(u[x][k]=g[x][k],u[x][k].total=null):u[x][k]=new Y(p,p.options.stackLabels,f,k,s)),m=u[x][k],m.points[v]=[m.cum||0],"percent"===l?(y=f?h:c,d&&u[y]&&u[y][k]?(y=u[y][k],m.total=y.total=_(y.total,m.total)+Z(w)||0):m.total=M(m.total+(Z(w)||0))):m.total=M(m.total+(w||0)),m.cum=(m.cum||0)+(w||0),m.points[v].push(m.cum),n[b]=m.cum;"percent"===l&&(p.usePercentage=!0),this.stackedYData=n,p.oldStacks={}}},Fi.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,i=t.yAxis.stacks,n=t.processedXData;hi([e,"-"+e],function(e){for(var o=n.length,r,a,s,l;o--;)r=n[o],a=i[e]&&i[e][r],s=a&&a.points[t.index+","+o],s&&(l=a.total?100/a.total:0,s[0]=M(s[0]*l),s[1]=M(s[1]*l),t.stackedYData[o]=s[1])})},t(W.prototype,{addSeries:function(t,e,i){var n,o=this;return t&&(e=u(e,!0),fi(o,"addSeries",{options:t},function(){n=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),e&&o.redraw(i)})),n},addAxis:function(t,i,n,o){var r=i?"xAxis":"yAxis",a=this.options,s;s=new X(this,e(t,{index:this[r].length,isX:i})),a[r]=p(a[r]||{}),a[r].push(t),u(n,!0)&&this.redraw(o)},showLoading:function(e){var i=this,n=i.options,o=i.loadingDiv,r=n.loading,a=function(){o&&g(o,{left:i.plotLeft+ze,top:i.plotTop+ze,width:i.plotWidth+ze,height:i.plotHeight+ze})};o||(i.loadingDiv=o=f(Te,{className:Ie+"loading"},t(r.style,{zIndex:10,display:Oe}),i.container),i.loadingSpan=f("span",null,r.labelStyle,o),ui(i,"redraw",a)),i.loadingSpan.innerHTML=e||n.lang.loading,i.loadingShown||(g(o,{opacity:0,display:""}),yi(o,{opacity:r.style.opacity},{duration:r.showDuration||0}),i.loadingShown=!0),a()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&yi(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){g(e,{display:Oe})}}),this.loadingShown=!1}}),t(Ni.prototype,{update:function(t,e,i,n){function a(){s.applyOptions(t),o(t)&&!r(t)&&(s.redraw=function(){h&&(t&&t.marker&&t.marker.symbol?s.graphic=h.destroy():h.attr(s.pointAttr[s.state||""])),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.redraw=null}),c=s.index,l.updateParallelArrays(s,c),p.data[c]=s.options,l.isDirty=l.isDirtyData=!0,!l.fixedBox&&l.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===p.legendType&&d.legend.destroyItem(s),e&&d.redraw(i)}var s=this,l=s.series,h=s.graphic,c,d=l.chart,p=l.options;e=u(e,!0),n===!1?a():s.firePointEvent("update",{options:t},a)},remove:function(t,e){var i=this,n=i.series,o=n.points,r=n.chart,a,s=n.data;I(e,r),t=u(t,!0),i.firePointEvent("remove",null,function(){a=li(i,s),s.length===o.length&&o.splice(a,1),s.splice(a,1),n.options.data.splice(a,1),n.updateParallelArrays(i,"splice",a,1),i.destroy(),n.isDirty=!0,n.isDirtyData=!0,t&&r.redraw()})}}),t(Fi.prototype,{addPoint:function(t,e,i,n){var o=this,r=o.options,a=o.data,s=o.graph,l=o.area,h=o.chart,c=o.xAxis&&o.xAxis.names,d=s&&s.shift||0,p=r.data,g,f,m=o.xData,y,x;if(I(n,h),i&&hi([s,l,o.graphNeg,o.areaNeg],function(t){t&&(t.shift=d+1)}),l&&(l.isArea=!0),e=u(e,!0),g={series:o},o.pointClass.prototype.applyOptions.apply(g,[t]),y=g.x,x=m.length,o.requireSorting&&y<m[x-1])for(f=!0;x&&m[x-1]>y;)x--;o.updateParallelArrays(g,"splice",x,0,0),o.updateParallelArrays(g,x),c&&g.name&&(c[y]=g.name),p.splice(x,0,t),f&&(o.data.splice(x,0,null),o.processData()),"point"===r.legendType&&o.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),o.updateParallelArrays(g,"shift"),p.shift())),o.isDirty=!0,o.isDirtyData=!0,e&&(o.getAttribs(),h.redraw())},remove:function(t,e){var i=this,n=i.chart;t=u(t,!0),i.isRemoving||(i.isRemoving=!0,fi(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},update:function(i,n){var o=this,r=this.chart,a=this.userOptions,s=this.type,l=ii[s].prototype,h=["group","markerGroup","dataLabelsGroup"],c;hi(h,function(t){h[t]=o[t],delete o[t]}),i=e(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i),this.remove(!1);for(c in l)l.hasOwnProperty(c)&&(this[c]=H);t(this,ii[i.type||s].prototype),hi(h,function(t){o[t]=h[t]}),this.init(r,i),r.linkSeries(),u(n,!0)&&r.redraw(!1)}}),t(X.prototype,{update:function(i,n){var o=this.chart;i=o.options[this.coll][this.options.index]=e(this.userOptions,i),this.destroy(!0),this._addedPlotLB=H,this.init(o,t(i,{events:H})),o.isDirtyBox=!0,u(n,!0)&&o.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,o=n.length;o--;)n[o]&&n[o].remove(!1);h(e.axes,this),h(e[i],this),e.options[i].splice(this.options.index,1),hi(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,u(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var Vi=m(Fi);ii.line=Vi,bi.area=e(ki,{threshold:0});var ji=m(Fi,{type:"area",getSegments:function(){var t=this,e=[],i=[],n=[],o=this.xAxis,r=this.yAxis,a=r.stacks[this.stackKey],s={},l,h,c=this.points,d=this.options.connectNulls,p,u;if(this.options.stacking&&!this.cropped){for(p=0;p<c.length;p++)s[c[p].x]=c[p];for(u in a)null!==a[u].total&&n.push(+u);n.sort(function(t,e){return t-e}),hi(n,function(e){var n=0,c;if(!d||s[e]&&null!==s[e].y)if(s[e])i.push(s[e]);else{for(p=t.index;p<=r.series.length;p++)if(c=a[e].points[p+","+e]){n=c[1];break}l=o.translate(e),h=r.toPixels(n,!0),i.push({y:null,plotX:l,clientX:l,plotY:h,yBottom:h,onMouseOver:ke})}}),i.length&&e.push(i)}else Fi.prototype.getSegments.call(this),e=this.segments;this.segments=e},getSegmentPath:function(t){var e=Fi.prototype.getSegmentPath.call(this,t),i=[].concat(e),n,o=this.options,r=e.length,a=this.yAxis.getThreshold(o.threshold),s;if(3===r&&i.push(Be,e[1],e[2]),o.stacking&&!this.closedStacks)for(n=t.length-1;n>=0;n--)s=u(t[n].yBottom,a),n<t.length-1&&o.step&&i.push(t[n+1].plotX,s),i.push(t[n].plotX,s);else this.closeSegment(i,t,a);return this.areaPath=this.areaPath.concat(i),e},closeSegment:function(t,e,i){t.push(Be,e[e.length-1].plotX,i,Be,e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Fi.prototype.drawGraph.apply(this);
var t=this,e=this.areaPath,i=this.options,n=i.negativeColor,o=i.negativeFillColor,r=[["area",this.color,i.fillColor]];(n||o)&&r.push(["areaNeg",n,o]),hi(r,function(n){var o=n[0],r=t[o];r?r.animate({d:e}):t[o]=t.chart.renderer.path(e).attr({fill:u(n[2],Ai(n[1]).setOpacity(u(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:Gi.drawRectangle});ii.area=ji,bi.spline=e(ki);var _i=m(Fi,{type:"spline",getPointSpline:function(t,e,i){var n=1.5,o=n+1,r=e.plotX,a=e.plotY,s=t[i-1],l=t[i+1],h,c,d,p,u;if(s&&l){var g=s.plotX,f=s.plotY,m=l.plotX,y=l.plotY,x;h=(n*r+g)/o,c=(n*a+f)/o,d=(n*r+m)/o,p=(n*a+y)/o,x=(p-c)*(d-r)/(d-h)+a-p,c+=x,p+=x,c>f&&c>a?(c=_(f,a),p=2*a-c):f>c&&a>c&&(c=U(f,a),p=2*a-c),p>y&&p>a?(p=_(y,a),c=2*a-p):y>p&&a>p&&(p=U(y,a),c=2*a-p),e.rightContX=d,e.rightContY=p}return i?(u=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,h||r,c||a,r,a],s.rightContX=s.rightContY=null):u=[Re,r,a],u}});ii.spline=_i,bi.areaspline=e(bi.area);var Ui=ji.prototype,Zi=m(_i,{type:"areaspline",closedStacks:!0,getSegmentPath:Ui.getSegmentPath,closeSegment:Ui.closeSegment,drawGraph:Ui.drawGraph,drawLegendSymbol:Gi.drawRectangle});ii.areaspline=Zi,bi.column=e(ki,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});var qi=m(Fi,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Fi.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&hi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t=this,e=t.options,i=t.xAxis,n=t.yAxis,o=i.reversed,r,a={},s,l=0;e.grouping===!1?l=1:hi(t.chart.series,function(e){var i=e.options,o=e.yAxis;e.type===t.type&&e.visible&&n.len===o.len&&n.pos===o.pos&&(i.stacking?(r=e.stackKey,a[r]===H&&(a[r]=l++),s=a[r]):i.grouping!==!1&&(s=l++),e.columnIndex=s)});var h=U(Z(i.transA)*(i.ordinalSlope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),d=h*e.groupPadding,p=h-2*d,g=p/l,f=e.pointWidth,m=c(f)?(g-f)/2:g*e.pointPadding,y=u(f,g-2*m),x=(o?l-(t.columnIndex||0):t.columnIndex)||0,v=m+(d+x*g-h/2)*(o?-1:1);return t.columnMetrics={width:y,offset:v}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=u(i.borderWidth,t.activePointCount>.5*t.xAxis.len?0:1),o=t.yAxis,r=i.threshold,a=t.translatedThreshold=o.getThreshold(r),s=u(i.minPointLength,5),l=t.getColumnMetrics(),h=l.width,c=t.barW=_(h,1+2*n),d=t.pointXOffset=l.offset,p=-(n%2?.5:0),g=n%2?.5:1;e.renderer.isVML&&e.inverted&&(g+=1),i.pointPadding&&(c=j(c)),Fi.prototype.translate.apply(t),hi(t.points,function(i){var n=u(i.yBottom,a),r=U(_(-999-n,i.plotY),o.len+999+n),l=i.plotX+d,f=c,m=U(r,n),y,x,v,b=_(r,n)-m;Z(b)<s&&s&&(b=s,m=F(Z(m-a)>s?n-s:a-(o.translate(i.y,0,1,0,1)<=a?s:0))),i.barX=l,i.pointWidth=h,i.tooltipPos=e.inverted?[o.len-r,t.xAxis.len-l-f/2]:[l+f/2,r+o.pos-e.plotTop],y=F(l+f)+p,l=F(l)+p,f=y-l,v=Z(m)<.5,x=F(m+b)+g,m=F(m)+g,b=x-m,v&&(m-=1,b+=1),i.shapeType="rect",i.shapeArgs={x:l,y:m,width:f,height:b}})},getSymbol:ke,drawLegendSymbol:Gi.drawRectangle,drawGraph:ke,drawPoints:function(){var t=this,i=this.chart,n=t.options,o=i.renderer,r=n.animationLimit||250,a,s;hi(t.points,function(l){var h=l.plotY,d=l.graphic,p;h===H||isNaN(h)||null===l.y?d&&(l.graphic=d.destroy()):(a=l.shapeArgs,p=c(t.borderWidth)?{"stroke-width":t.borderWidth}:{},s=l.pointAttr[l.selected?He:We]||t.pointAttr[We],d?(xi(d),d.attr(p)[i.pointCount<r?"animate":"attr"](e(a))):l.graphic=d=o[l.shapeType](a).attr(s).attr(p).add(t.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius))})},animate:function(t){var e=this,i=this.yAxis,n=e.options,o=this.chart.inverted,r={},a;se&&(t?(r.scaleY=.001,a=U(i.pos+i.len,_(i.pos,i.toPixels(n.threshold))),o?r.translateX=a-i.len:r.translateY=a,e.group.attr(r)):(r.scaleY=1,r[o?"translateX":"translateY"]=i.pos,e.group.animate(r,e.options.animation),e.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&hi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Fi.prototype.remove.apply(t,arguments)}});ii.column=qi,bi.bar=e(bi.column);var Ki=m(qi,{type:"bar",inverted:!0});ii.bar=Ki,bi.scatter=e(ki,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});var $i=m(Fi,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&Fi.prototype.drawGraph.call(this)}});ii.scatter=$i,bi.pie=e(ki,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Ji=m(Ni,{init:function(){Ni.prototype.init.apply(this,arguments);var e=this,i;return e.y<0&&(e.y=null),t(e,{visible:e.visible!==!1,name:u(e.name,"Slice")}),i=function(t){e.slice("select"===t.type)},ui(e,"select",i),ui(e,"unselect",i),e},setVisible:function(t){var e=this,i=e.series,n=i.chart;e.visible=e.options.visible=t=t===H?!e.visible:t,i.options.data[li(e,i.data)]=e.options,hi(["graphic","dataLabel","connector","shadowGroup"],function(i){e[i]&&e[i][t?"show":"hide"](!0)}),e.legendItem&&n.legend.colorizeItem(e,t),!i.isDirty&&i.options.ignoreHiddenPoint&&(i.isDirty=!0,n.redraw())},slice:function(t,e,i){var n=this,o=n.series,r=o.chart,a;I(i,r),e=u(e,!0),n.sliced=n.options.sliced=t=c(t)?t:!n.sliced,o.options.data[li(n,o.data)]=n.options,a=t?n.slicedTranslation:{translateX:0,translateY:0},n.graphic.animate(a),n.shadowGroup&&n.shadowGroup.animate(a)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),Qi={type:"pie",isCartesian:!1,pointClass:Ji,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:ke,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(hi(i,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},setData:function(t,e,i,n){Fi.prototype.setData.call(this,t,!1,i,n),this.processData(),this.generatePoints(),u(e,!0)&&this.chart.redraw(i)},generatePoints:function(){var t,e=0,i,n,o,r=this.options.ignoreHiddenPoint;for(Fi.prototype.generatePoints.call(this),i=this.points,n=i.length,t=0;n>t;t++)o=i[t],e+=r&&!o.visible?0:o.y;for(this.total=e,t=0;n>t;t++)o=i[t],o.percentage=e>0?o.y/e*100:0,o.total=e},translate:function(t){this.generatePoints();var e=this,i=0,n=1e3,o=e.options,r=o.slicedOffset,a=r+o.borderWidth,s,l,h,c=o.startAngle||0,d=e.startAngleRad=$/180*(c-90),p=e.endAngleRad=$/180*(u(o.endAngle,c+360)-90),g=p-d,f=e.points,m,y,x=o.dataLabels.distance,v=o.ignoreHiddenPoint,b,k=f.length,w;for(t||(e.center=t=e.getCenter()),e.getX=function(e,i){return h=N.asin(U((e-t[1])/(t[2]/2+x),1)),t[0]+(i?-1:1)*q(h)*(t[2]/2+x)},b=0;k>b;b++)w=f[b],s=d+i*g,(!v||w.visible)&&(i+=w.percentage/100),l=d+i*g,w.shapeType="arc",w.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:F(s*n)/n,end:F(l*n)/n},h=(l+s)/2,h>1.5*$?h-=2*$:-$/2>h&&(h+=2*$),w.slicedTranslation={translateX:F(q(h)*r),translateY:F(K(h)*r)},m=q(h)*t[2]/2,y=K(h)*t[2]/2,w.tooltipPos=[t[0]+.7*m,t[1]+.7*y],w.half=-$/2>h||h>$/2?1:0,w.angle=h,a=U(a,x/2),w.labelPos=[t[0]+m+q(h)*x,t[1]+y+K(h)*x,t[0]+m+q(h)*a,t[1]+y+K(h)*a,t[0]+m,t[1]+y,0>x?"center":w.half?"right":"left",h]},drawGraph:null,drawPoints:function(){var e=this,i=e.chart,n=i.renderer,o,r,a=e.options.shadow,s,l;a&&!e.shadowGroup&&(e.shadowGroup=n.g("shadow").add(e.group)),hi(e.points,function(i){r=i.graphic,l=i.shapeArgs,s=i.shadowGroup,a&&!s&&(s=i.shadowGroup=n.g("shadow").add(e.shadowGroup)),o=i.sliced?i.slicedTranslation:{translateX:0,translateY:0},s&&s.attr(o),r?r.animate(t(l,o)):i.graphic=r=n[i.shapeType](l).setRadialReference(e.center).attr(i.pointAttr[i.selected?He:We]).attr({"stroke-linejoin":"round"}).attr(o).add(e.group).shadow(a,s),void 0!==i.visible&&i.setVisible(i.visible)})},sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:Gi.drawRectangle,getCenter:Ei.getCenter,getSymbol:ke};Qi=m(Fi,Qi),ii.pie=Qi,Fi.prototype.drawDataLabels=function(){var i=this,n=i.options,o=n.cursor,r=n.dataLabels,a=i.points,s,l,h=i.hasRendered||0,d,p;(r.enabled||i._hasPointLabels)&&(i.dlProcessOptions&&i.dlProcessOptions(r),p=i.plotGroup("dataLabelsGroup","data-labels",r.defer?Me:De,r.zIndex||6),u(r.defer,!0)&&(p.attr({opacity:+h}),h||ui(i,"afterAnimate",function(){i.visible&&p.show(),p[n.animation?"animate":"attr"]({opacity:1},{duration:200})})),l=r,hi(a,function(n){var a,h=n.dataLabel,g,f,m,y,x=n.connector,v=!0;if(s=n.options&&n.options.dataLabels,a=u(s&&s.enabled,l.enabled),h&&!a)n.dataLabel=h.destroy();else if(a){if(r=e(l,s),y=r.rotation,g=n.getLabelConfig(),d=r.format?k(r.format,g):r.formatter.call(g,r),r.style.color=u(r.color,r.style.color,i.color,"black"),h)c(d)?(h.attr({text:d}),v=!1):(n.dataLabel=h=h.destroy(),x&&(n.connector=x.destroy()));else if(c(d)){f={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:y,padding:r.padding,zIndex:1};for(m in f)f[m]===H&&delete f[m];h=n.dataLabel=i.chart.renderer[y?"text":"label"](d,0,-999,null,null,null,r.useHTML).attr(f).css(t(r.style,o&&{cursor:o})).add(p).shadow(r.shadow)}h&&i.alignDataLabel(n,h,r,null,v)}}))},Fi.prototype.alignDataLabel=function(e,i,n,o,r){var a=this.chart,s=a.inverted,l=u(e.plotX,-999),h=u(e.plotY,-999),c=i.getBBox(),d=this.visible&&(e.series.forceDL||a.isInsidePlot(l,F(h),s)||o&&a.isInsidePlot(l,s?o.x+1:o.y+o.height-1,s)),p;d&&(o=t({x:s?a.plotWidth-h:l,y:F(s?a.plotHeight-l:h),width:0,height:0},o),t(n,{width:c.width,height:c.height}),n.rotation?i[r?"attr":"animate"]({x:o.x+n.x+o.width/2,y:o.y+n.y+o.height/2}).attr({align:n.align}):(i.align(n,null,o),p=i.alignAttr,"justify"===u(n.overflow,"justify")?this.justifyDataLabel(i,n,p,c,o,r):u(n.crop,!0)&&(d=a.isInsidePlot(p.x,p.y)&&a.isInsidePlot(p.x+c.width,p.y+c.height)))),d||(i.attr({y:-999}),i.placed=!1)},Fi.prototype.justifyDataLabel=function(t,e,i,n,o,r){var a=this.chart,s=e.align,l=e.verticalAlign,h,c;h=i.x,0>h&&("right"===s?e.align="left":e.x=-h,c=!0),h=i.x+n.width,h>a.plotWidth&&("left"===s?e.align="right":e.x=a.plotWidth-h,c=!0),h=i.y,0>h&&("bottom"===l?e.verticalAlign="top":e.y=-h,c=!0),h=i.y+n.height,h>a.plotHeight&&("top"===l?e.verticalAlign="bottom":e.y=a.plotHeight-h,c=!0),c&&(t.placed=!r,t.align(e,null,o))},ii.pie&&(ii.pie.prototype.drawDataLabels=function(){var t=this,e=t.data,i,n=t.chart,o=t.options.dataLabels,r=u(o.connectorPadding,10),a=u(o.connectorWidth,1),s=n.plotWidth,l=n.plotHeight,h,c,d=u(o.softConnector,!0),p=o.distance,g=t.center,f=g[2]/2,m=g[1],y=p>0,x,v,b,k,w=[[],[]],P,S,A,C,L,M,I=[0,0,0,0],D=function(t,e){return e.y-t.y};if(t.visible&&(o.enabled||t._hasPointLabels)){for(Fi.prototype.drawDataLabels.apply(t),hi(e,function(t){t.dataLabel&&t.visible&&w[t.half].push(t)}),L=2;L--;){var z=[],O,R=[],B=w[L],X,W,Y=B.length,H;if(Y){for(t.sortByAngle(B,L-.5),M=k=0;!k&&B[M];)k=B[M]&&B[M].dataLabel&&(B[M].dataLabel.getBBox().height||21),M++;if(p>0){for(W=U(m+f+p,n.plotHeight),X=_(0,m-f-p);W>=X;X+=k)z.push(X);if(O=z.length,Y>O){for(C=[].concat(B),C.sort(D),M=Y;M--;)C[M].rank=M;for(M=Y;M--;)B[M].rank>=O&&B.splice(M,1);Y=B.length}for(M=0;Y>M;M++){i=B[M],b=i.labelPos;var G=9999,E,N;for(N=0;O>N;N++)E=Z(z[N]-b[1]),G>E&&(G=E,H=N);if(M>H&&null!==z[M])H=M;else if(Y-M+H>O&&null!==z[M])for(H=O-Y+M;null===z[H];)H++;else for(;null===z[H];)H++;R.push({i:H,y:z[H]}),z[H]=null}R.sort(D)}for(M=0;Y>M;M++){var V,j;i=B[M],b=i.labelPos,x=i.dataLabel,A=i.visible===!1?Me:De,j=b[1],p>0?(V=R.pop(),H=V.i,S=V.y,(j>S&&null!==z[H+1]||S>j&&null!==z[H-1])&&(S=U(_(0,j),n.plotHeight))):S=j,P=o.justify?g[0]+(L?-1:1)*(f+p):t.getX(S===m-f-p||S===m+f+p?j:S,L),x._attr={visibility:A,align:b[6]},x._pos={x:P+o.x+({left:r,right:-r}[b[6]]||0),y:S+o.y-10},x.connX=P,x.connY=S,null===this.options.size&&(v=x.width,r>P-v?I[3]=_(F(v-P+r),I[3]):P+v>s-r&&(I[1]=_(F(P+v-s+r),I[1])),0>S-k/2?I[0]=_(F(-S+k/2),I[0]):S+k/2>l&&(I[2]=_(F(S+k/2-l),I[2])))}}}(0===T(I)||this.verifyDataLabelOverflow(I))&&(this.placeDataLabels(),y&&a&&hi(this.points,function(e){h=e.connector,b=e.labelPos,x=e.dataLabel,x&&x._pos?(A=x._attr.visibility,P=x.connX,S=x.connY,c=d?[Re,P+("left"===b[6]?5:-5),S,"C",P,S,2*b[2]-b[4],2*b[3]-b[5],b[2],b[3],Be,b[4],b[5]]:[Re,P+("left"===b[6]?5:-5),S,Be,b[2],b[3],Be,b[4],b[5]],h?(h.animate({d:c}),h.attr("visibility",A)):e.connector=h=t.chart.renderer.path(c).attr({"stroke-width":a,stroke:o.connectorColor||e.color||"#606060",visibility:A}).add(t.dataLabelsGroup)):h&&(e.connector=h.destroy())}))}},ii.pie.prototype.placeDataLabels=function(){hi(this.points,function(t){var e=t.dataLabel,i;e&&(i=e._pos,i?(e.attr(e._attr),e[e.moved?"animate":"attr"](i),e.moved=!0):e&&e.attr({y:-999}))})},ii.pie.prototype.alignDataLabel=ke,ii.pie.prototype.verifyDataLabelOverflow=function(t){var e=this.center,i=this.options,n=i.center,o=i.minSize||80,r=o,a;return null!==n[0]?r=_(e[2]-_(t[1],t[3]),o):(r=_(e[2]-t[1]-t[3],o),e[0]+=(t[3]-t[1])/2),null!==n[1]?r=_(U(r,e[2]-_(t[0],t[2])),o):(r=_(U(r,e[2]-t[0]-t[2]),o),e[1]+=(t[0]-t[2])/2),r<e[2]?(e[2]=r,this.translate(e),hi(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):a=!0,a}),ii.column&&(ii.column.prototype.alignDataLabel=function(t,i,n,o,r){var a=this.chart,s=a.inverted,l=t.dlBox||t.shapeArgs,h=t.below||t.plotY>u(this.translatedThreshold,a.plotSizeY),c=u(n.inside,!!this.options.stacking);l&&(o=e(l),s&&(o={x:a.plotWidth-o.y-o.height,y:a.plotHeight-o.x-o.width,width:o.height,height:o.width}),c||(s?(o.x+=h?0:o.width,o.width=0):(o.y+=h?o.height:0,o.height=0))),n.align=u(n.align,!s||c?"center":h?"right":"left"),n.verticalAlign=u(n.verticalAlign,s||c?"middle":h?"top":"bottom"),Fi.prototype.alignDataLabel.call(this,t,i,n,o,r)});var tn=ni.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,o=n&&{cursor:n},r=function(i){var n=i.target,o;for(e.hoverSeries!==t&&t.onMouseOver();n&&!o;)o=n.point,n=n.parentNode;o!==H&&o!==e.hoverPoint&&o.onMouseOver(i)};hi(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(hi(t.trackerGroups,function(e){t[e]&&(t[e].addClass(Ie+"tracker").on("mouseover",r).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(o),de&&t[e].on("touchstart",r))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t=this,e=t.options,i=e.trackByArea,n=[].concat(i?t.areaPath:t.graphPath),o=n.length,r=t.chart,a=r.pointer,s=r.renderer,l=r.options.tooltip.snap,h=t.tracker,c=e.cursor,d=c&&{cursor:c},p=t.singlePoints,u,g,f=function(){r.hoverSeries!==t&&t.onMouseOver()},m="rgba(192,192,192,"+(se?1e-4:.002)+")";if(o&&!i)for(g=o+1;g--;)n[g]===Re&&n.splice(g+1,0,n[g+1]-l,n[g+2],Be),(g&&n[g]===Re||g===o)&&n.splice(g,0,Be,n[g-2]+l,n[g-1]);for(g=0;g<p.length;g++)u=p[g],n.push(Re,u.plotX-l,u.plotY,Be,u.plotX+l,u.plotY);h?h.attr({d:n}):(t.tracker=s.path(n).attr({"stroke-linejoin":"round",visibility:t.visible?De:Me,stroke:m,fill:i?m:Oe,"stroke-width":e.lineWidth+(i?0:2*l),zIndex:2}).add(t.group),hi([t.tracker,t.markerGroup],function(t){t.addClass(Ie+"tracker").on("mouseover",f).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(d),de&&t.on("touchstart",f)}))}};ii.column&&(qi.prototype.drawTracker=tn.drawTrackerPoint),ii.pie&&(ii.pie.prototype.drawTracker=tn.drawTrackerPoint),ii.scatter&&($i.prototype.drawTracker=tn.drawTrackerPoint),t(Hi.prototype,{setItemEvents:function(t,e,i,n,o){var r=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState(Ye),e.css(r.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:o),t.setState()}).on("click",function(e){var i="legendItemClick",n=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):fi(t,i,e,n)})},createCheckboxForItem:function(t){var e=this;t.checkbox=f("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),ui(t.checkbox,"click",function(e){var i=e.target;fi(t,"checkboxClick",{checked:i.checked},function(){t.select()})})}}),fe.legend.itemStyle.cursor="pointer",t(W.prototype,{showResetZoom:function(){var t=this,e=fe.lang,i=t.options.chart.resetZoomButton,n=i.theme,o=n.states,r="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,r)},zoomOut:function(){var t=this;fi(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e=this,i,n=e.pointer,r=!1,a;!t||t.resetSelection?hi(e.axes,function(t){i=t.zoom()}):hi(t.xAxis.concat(t.yAxis),function(t){var e=t.axis,o=e.isXAxis;(n[o?"zoomX":"zoomY"]||n[o?"pinchX":"pinchY"])&&(i=e.zoom(t.min,t.max),e.displayBtn&&(r=!0))}),a=e.resetZoomButton,r&&!a?e.showResetZoom():!r&&o(a)&&(e.resetZoomButton=a.destroy()),i&&e.redraw(u(e.options.chart.animation,t&&t.animation,e.pointCount<100))},pan:function(t,e){var i=this,n=i.hoverPoints,o;n&&hi(n,function(t){t.setState()}),hi("xy"===e?[1,0]:[1],function(e){var n=t[e?"chartX":"chartY"],r=i[e?"xAxis":"yAxis"][0],a=i[e?"mouseDownX":"mouseDownY"],s=(r.pointRange||0)/2,l=r.getExtremes(),h=r.toValue(a-n,!0)+s,c=r.toValue(a+i[e?"plotWidth":"plotHeight"]-n,!0)-s;r.series.length&&h>U(l.dataMin,l.min)&&c<_(l.dataMax,l.max)&&(r.setExtremes(h,c,!1,!1,{trigger:"pan"}),o=!0),i[e?"mouseDownX":"mouseDownY"]=n}),o&&i.redraw(!1),g(i.container,{cursor:"move"})}}),t(Ni.prototype,{select:function(t,e){var i=this,n=i.series,o=n.chart;t=u(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[li(i,n.data)]=i.options,i.setState(t&&He),e||hi(o.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[li(t,n.data)]=t.options,t.setState(We),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,i=e.series,n=i.chart,o=n.tooltip,r=n.hoverPoint;r&&r!==e&&r.onMouseOut(),e.firePointEvent("mouseOver"),!o||o.shared&&!i.noSharedTooltip||o.refresh(e,t),e.setState(Ye),n.hoverPoint=e},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==li(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t=this,i=e(t.series.options.point,t.options),n=i.events,o;t.events=n;for(o in n)ui(t,o,n[o]);this.hasImportedEvents=!0}},setState:function(i,n){var o=this,r=o.plotX,a=o.plotY,s=o.series,l=s.options.states,h=bi[s.type].marker&&s.options.marker,c=h&&!h.enabled,d=h&&h.states[i],p=d&&d.enabled===!1,u=s.stateMarkerGraphic,g=o.marker||{},f=s.chart,m,y=s.halo,x,v,b;i=i||We,b=o.pointAttr[i]||s.pointAttr[i],i===o.state&&!n||o.selected&&i!==He||l[i]&&l[i].enabled===!1||i&&(p||c&&d.enabled===!1)||i&&g.states&&g.states[i]&&g.states[i].enabled===!1||(o.graphic?(m=h&&o.graphic.symbolName&&b.r,o.graphic.attr(e(b,m?{x:r-m,y:a-m,width:2*m,height:2*m}:{})),u&&u.hide()):(i&&d&&(m=d.radius,v=g.symbol||s.symbol,u&&u.currentSymbol!==v&&(u=u.destroy()),u?u[n?"animate":"attr"]({x:r-m,y:a-m}):v&&(s.stateMarkerGraphic=u=f.renderer.symbol(v,r-m,a-m,2*m,2*m).attr(b).add(s.markerGroup),u.currentSymbol=v)),u&&u[i&&f.isInsidePlot(r,a,f.inverted)?"show":"hide"]()),x=l[i]&&l[i].halo,x&&x.size?(y||(s.halo=y=f.renderer.path().add(s.seriesGroup)),y.attr(t({fill:Ai(o.color||s.color).setOpacity(x.opacity).get()},x.attributes))[n?"animate":"attr"]({d:o.haloPath(x.size)})):y&&y.attr({d:[]}),o.state=i)},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),o=i.inverted;return i.renderer.symbols.circle(n.translateX+(o?e.yAxis.len-this.plotY:this.plotX)-t,n.translateY+(o?e.xAxis.len-this.plotX:this.plotY)-t,2*t,2*t)}}),t(Fi.prototype,{onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&fi(t,"mouseOver"),t.setState(Ye),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,o=i.hoverPoint;o&&o.onMouseOut(),t&&e.events.mouseOut&&fi(t,"mouseOut"),!n||e.stickyTracking||n.shared&&!t.noSharedTooltip||n.hide(),t.setState(),i.hoverSeries=null},setState:function(t){var e=this,i=e.options,n=e.graph,o=e.graphNeg,r=i.states,a=i.lineWidth,s;if(t=t||We,e.state!==t){if(e.state=t,r[t]&&r[t].enabled===!1)return;t&&(a=r[t].lineWidth||a+(r[t].lineWidthPlus||0)),n&&!n.dashstyle&&(s={"stroke-width":a},n.attr(s),o&&o.attr(s))}},setVisible:function(t,e){var i=this,n=i.chart,o=i.legendItem,r,a=n.options.chart.ignoreHiddenSeries,s=i.visible;i.visible=t=i.userOptions.visible=t===H?!s:t,r=t?"show":"hide",hi(["group","dataLabelsGroup","markerGroup","tracker"],function(t){i[t]&&i[t][r]()}),n.hoverSeries===i&&i.onMouseOut(),o&&n.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&hi(n.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),hi(i.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(n.isDirtyBox=!0),e!==!1&&n.redraw(),fi(i,r)},setTooltipPoints:function(t){var e=this,i=[],n,o,r,a=e.xAxis,s=a&&a.getExtremes(),l=a?a.tooltipLen||a.len:e.chart.plotSizeX,h,c,d,p,u=[];if(e.options.enableMouseTracking!==!1&&!e.singularTooltips){for(t&&(e.tooltipPoints=null),hi(e.segments||e.points,function(t){i=i.concat(t)}),a&&a.reversed&&(i=i.reverse()),e.orderTooltipPoints&&e.orderTooltipPoints(i),n=i.length,p=0;n>p;p++)if(h=i[p],c=h.x,c>=s.min&&c<=s.max)for(d=i[p+1],o=r===H?0:r+1,r=i[p+1]?U(_(0,V((h.clientX+(d?d.wrappedClientX||d.clientX:l))/2)),l):l;o>=0&&r>=o;)u[o++]=h;e.tooltipPoints=u}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===H?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),fi(e,t?"select":"unselect")},drawTracker:tn.drawTrackerGraph}),t(ni,{Axis:X,Chart:W,Color:Ai,Point:Ni,Tick:B,Renderer:ce,Series:Fi,SVGElement:R,SVGRenderer:Ti,arrayMin:A,arrayMax:T,charts:we,dateFormat:me,format:k,pathAnim:xe,getOptions:O,hasBidiBug:le,isTouchDevice:re,numberFormat:y,seriesTypes:ii,setOptions:z,addEvent:ui,removeEvent:gi,createElement:f,discardElement:L,css:g,each:hi,extend:t,map:pi,merge:e,pick:u,splat:p,extendClass:m,pInt:i,wrap:v,svg:se,canvas:he,vml:!se&&!he,product:Se,version:Ae})}()}).call(this),function(){!function(t,e){function i(t,e,i){this.init.call(this,t,e,i)}var n=t.arrayMin,o=t.arrayMax,r=t.each,a=t.extend,s=t.merge,l=t.map,h=t.pick,c=t.pInt,d=t.getOptions().plotOptions,p=t.seriesTypes,u=t.extendClass,g=t.splat,f=t.wrap,m=t.Axis,y=t.Tick,x=t.Point,v=t.Pointer,b=t.CenteredSeriesMixin,k=t.TrackerMixin,w=t.Series,P=Math,S=P.round,A=P.floor,T=P.max,C=t.Color,L=function(){};a(i.prototype,{init:function(t,e,i){var n=this,o,a=n.defaultOptions;n.chart=e,e.angular&&(a.background={}),n.options=t=s(a,t),o=t.background,o&&r([].concat(g(o)).reverse(),function(t){var e=t.backgroundColor;t=s(n.defaultBackgroundOptions,t),e&&(t.backgroundColor=e),t.color=t.backgroundColor,i.options.plotBands.unshift(t)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var M=m.prototype,I=y.prototype,D={getOffset:L,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:L,setCategories:L,setTitle:L},z={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){var e=this.options=s(this.defaultOptions,this.defaultRadialOptions,t);e.plotBands||(e.plotBands=[])},getOffset:function(){M.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=b.getCenter.call(this.pane)},getLinePath:function(t,e){var i=this.center;return e=h(e,i[2]/2-this.offset),this.chart.renderer.symbols.arc(this.left+i[0],this.top+i[1],e,e,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){M.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){M.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=t.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*h(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):0,h(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var i=this.chart,n=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+n[0]+Math.cos(t)*e,y:i.plotTop+n[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,i){var n=this.center,o=this.startAngleRad,r=n[2]/2,a=[h(i.outerRadius,"100%"),i.innerRadius,h(i.thickness,10)],s=/%$/,d,p,u,g=this.isCircular,f;return"polygon"===this.options.gridLineInterpolation?f=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(g||(a[0]=this.translate(t),a[1]=this.translate(e)),a=l(a,function(t){return s.test(t)&&(t=c(t,10)*r/100),t}),"circle"!==i.shape&&g?(d=o+this.translate(t),p=o+this.translate(e)):(d=-Math.PI/2,p=1.5*Math.PI,u=!0),f=this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],a[0],a[0],{start:d,end:p,innerR:h(a[1],a[0]-a[2]),open:u})),f},getPlotLinePath:function(t,e){var i=this,n=i.center,o=i.chart,a=i.getPosition(t),s,l,h,c;return i.isCircular?c=["M",n[0]+o.plotLeft,n[1]+o.plotTop,"L",a.x,a.y]:"circle"===i.options.gridLineInterpolation?(t=i.translate(t),t&&(c=i.getLinePath(0,t))):(r(o.xAxis,function(t){t.pane===i.pane&&(s=t)}),c=[],t=i.translate(t),h=s.tickPositions,s.autoConnect&&(h=h.concat([h[0]])),e&&(h=[].concat(h).reverse()),r(h,function(e,i){l=s.getPosition(e,t),c.push(i?"L":"M",l.x,l.y)})),c},getTitlePosition:function(){var t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}};f(M,"init",function(t,n,o){var r=this,l=n.angular,c=n.polar,d=o.isX,p=l&&d,u,f,m,y,x=n.options,v=o.pane||0,b,k;l?(a(this,p?D:z),u=!d,u&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):c&&(a(this,z),u=d,this.defaultRadialOptions=d?this.defaultRadialXOptions:s(this.defaultYAxisOptions,this.defaultRadialYOptions)),t.call(this,n,o),p||!l&&!c||(y=this.options,n.panes||(n.panes=[]),this.pane=b=n.panes[v]=n.panes[v]||new i(g(x.pane)[v],n,r),k=b.options,n.inverted=!1,x.chart.zoomType=null,this.startAngleRad=f=(k.startAngle-90)*Math.PI/180,this.endAngleRad=m=(h(k.endAngle,k.startAngle+360)-90)*Math.PI/180,this.offset=y.offset||0,this.isCircular=u,u&&o.max===e&&m-f===2*Math.PI&&(this.autoConnect=!0))}),f(I,"getPosition",function(t,e,i,n,o){var r=this.axis;return r.getPosition?r.getPosition(i):t.call(this,e,i,n,o)}),f(I,"getLabelPosition",function(t,e,i,n,o,r,a,s,l){var c=this.axis,d=r.y,p,u=r.align,g=(c.translate(this.pos)+c.startAngleRad+Math.PI/2)/Math.PI*180%360;return c.isRadial?(p=c.getPosition(this.pos,c.center[2]/2+h(r.distance,-25)),"auto"===r.rotation?n.attr({rotation:g}):null===d&&(d=c.chart.renderer.fontMetrics(n.styles.fontSize).b-n.getBBox().height/2),null===u&&(u=c.isCircular?g>20&&160>g?"left":g>200&&340>g?"right":"center":"center",n.attr({align:u})),p.x+=r.x,p.y+=d):p=t.call(this,e,i,n,o,r,a,s,l),p}),f(I,"getMarkPath",function(t,e,i,n,o,r,a){var s=this.axis,l,h;return s.isRadial?(l=s.getPosition(this.pos,s.center[2]/2+n),h=["M",e,i,"L",l.x,l.y]):h=t.call(this,e,i,n,o,r,a),h}),d.arearange=s(d.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),p.arearange=u(p.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",getSegments:function(){var t=this;r(t.points,function(e){t.options.connectNulls||null!==e.low&&null!==e.high?null===e.low&&null!==e.high&&(e.y=e.high):e.y=null}),w.prototype.getSegments.call(this)},translate:function(){var t=this,e=t.yAxis;p.area.prototype.translate.apply(t),r(t.points,function(t){var i=t.low,n=t.high,o=t.plotY;null===n&&null===i?t.y=null:null===i?(t.plotLow=t.plotY=null,t.plotHigh=e.translate(n,0,1,0,1)):null===n?(t.plotLow=o,t.plotHigh=null):(t.plotLow=o,t.plotHigh=e.translate(n,0,1,0,1))})},getSegmentPath:function(t){var e,i=[],n=t.length,o=w.prototype.getSegmentPath,r,a,s,l=this.options,h=l.step,c;for(e=HighchartsAdapter.grep(t,function(t){return null!==t.plotLow});n--;)r=t[n],null!==r.plotHigh&&i.push({plotX:r.plotX,plotY:r.plotHigh});return s=o.call(this,e),h&&(h===!0&&(h="left"),l.step={left:"right",center:"center",right:"left"}[h]),c=o.call(this,i),l.step=h,a=[].concat(s,c),c[0]="L",this.areaPath=this.areaPath.concat(s,c),a},drawDataLabels:function(){var t=this.data,e=t.length,i,n=[],o=w.prototype,r=this.options.dataLabels,a=r.align,s,l=this.chart.inverted;if(r.enabled||this._hasPointLabels){for(i=e;i--;)s=t[i],s.y=s.high,s._plotY=s.plotY,s.plotY=s.plotHigh,n[i]=s.dataLabel,s.dataLabel=s.dataLabelUpper,s.below=!1,l?(a||(r.align="left"),r.x=r.xHigh):r.y=r.yHigh;for(o.drawDataLabels&&o.drawDataLabels.apply(this,arguments),i=e;i--;)s=t[i],s.dataLabelUpper=s.dataLabel,s.dataLabel=n[i],s.y=s.low,s.plotY=s._plotY,s.below=!0,l?(a||(r.align="right"),r.x=r.xLow):r.y=r.yLow;o.drawDataLabels&&o.drawDataLabels.apply(this,arguments)}r.align=a},alignDataLabel:function(){p.column.prototype.alignDataLabel.apply(this,arguments)},getSymbol:L,drawPoints:L}),d.areasplinerange=s(d.arearange),p.areasplinerange=u(p.arearange,{type:"areasplinerange",getPointSpline:p.spline.prototype.getPointSpline}),function(){var t=p.column.prototype;d.columnrange=s(d.column,d.arearange,{lineWidth:1,pointRange:null}),p.columnrange=u(p.arearange,{type:"columnrange",translate:function(){var e=this,i=e.yAxis,n;t.translate.apply(e),r(e.points,function(t){var o=t.shapeArgs,r=e.options.minPointLength,a,s,l;t.tooltipPos=null,t.plotHigh=n=i.translate(t.high,0,1,0,1),t.plotLow=t.plotY,l=n,s=t.plotY-n,r>s&&(a=r-s,s+=a,l-=a/2),o.height=s,o.y=l})},trackerGroups:["group","dataLabelsGroup"],drawGraph:L,pointAttrToOptions:t.pointAttrToOptions,drawPoints:t.drawPoints,drawTracker:t.drawTracker,animate:t.animate,getColumnMetrics:t.getColumnMetrics})}(),d.gauge=s(d.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});
var O=u(x,{setState:function(t){this.state=t}}),R={type:"gauge",pointClass:O,angular:!0,drawGraph:L,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this,e=t.yAxis,i=t.options,n=e.center;t.generatePoints(),r(t.points,function(t){var o=s(i.dial,t.dial),r=c(h(o.radius,80))*n[2]/200,a=c(h(o.baseLength,70))*r/100,l=c(h(o.rearLength,10))*r/100,d=o.baseWidth||3,p=o.topWidth||1,u=i.overshoot,g=e.startAngleRad+e.translate(t.y,null,null,null,!0);u&&"number"==typeof u?(u=u/180*Math.PI,g=Math.max(e.startAngleRad-u,Math.min(e.endAngleRad+u,g))):i.wrap===!1&&(g=Math.max(e.startAngleRad,Math.min(e.endAngleRad,g))),g=180*g/Math.PI,t.shapeType="path",t.shapeArgs={d:o.path||["M",-l,-d/2,"L",a,-d/2,r,-p/2,r,p/2,a,d/2,-l,d/2,"z"],translateX:n[0],translateY:n[1],rotation:g},t.plotX=n[0],t.plotY=n[1]})},drawPoints:function(){var t=this,e=t.yAxis.center,i=t.pivot,n=t.options,o=n.pivot,a=t.chart.renderer;r(t.points,function(e){var i=e.graphic,o=e.shapeArgs,r=o.d,l=s(n.dial,e.dial);i?(i.animate(o),o.d=r):e.graphic=a[e.shapeType](o).attr({stroke:l.borderColor||"none","stroke-width":l.borderWidth||0,fill:l.backgroundColor||"black",rotation:o.rotation}).add(t.group)}),i?i.animate({translateX:e[0],translateY:e[1]}):t.pivot=a.circle(0,0,h(o.radius,5)).attr({"stroke-width":o.borderWidth||0,stroke:o.borderColor||"silver",fill:o.backgroundColor||"black"}).translate(e[0],e[1]).add(t.group)},animate:function(t){var e=this;t||(r(e.points,function(t){var i=t.graphic;i&&(i.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),i.animate({rotation:t.shapeArgs.rotation},e.options.animation))}),e.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),w.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){w.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),h(e,!0)&&this.chart.redraw()},drawTracker:k&&k.drawTrackerPoint};p.gauge=u(p.line,R),d.boxplot=s(d.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),p.boxplot=u(p.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:L,translate:function(){var t=this,e=t.yAxis,i=t.pointArrayMap;p.column.prototype.translate.apply(t),r(t.points,function(t){r(i,function(i){null!==t[i]&&(t[i+"Plot"]=e.translate(t[i],0,1,0,1))})})},drawPoints:function(){var t=this,i=t.points,n=t.options,o=t.chart,a=o.renderer,s,l,c,d,p,u,g,f,m,y,x,v,b,k,w,P,T,C,L,M,I,D,z=t.doQuartiles!==!1,O=parseInt(t.options.whiskerLength,10)/100;r(i,function(i){m=i.graphic,I=i.shapeArgs,x={},k={},P={},D=i.color||t.color,i.plotY!==e&&(s=i.pointAttr[i.selected?"selected":""],T=I.width,C=A(I.x),L=C+T,M=S(T/2),l=A(z?i.q1Plot:i.lowPlot),c=A(z?i.q3Plot:i.lowPlot),d=A(i.highPlot),p=A(i.lowPlot),x.stroke=i.stemColor||n.stemColor||D,x["stroke-width"]=h(i.stemWidth,n.stemWidth,n.lineWidth),x.dashstyle=i.stemDashStyle||n.stemDashStyle,k.stroke=i.whiskerColor||n.whiskerColor||D,k["stroke-width"]=h(i.whiskerWidth,n.whiskerWidth,n.lineWidth),P.stroke=i.medianColor||n.medianColor||D,P["stroke-width"]=h(i.medianWidth,n.medianWidth,n.lineWidth),P["stroke-linecap"]="round",g=x["stroke-width"]%2/2,f=C+M+g,y=["M",f,c,"L",f,d,"M",f,l,"L",f,p],z&&(g=s["stroke-width"]%2/2,f=A(f)+g,l=A(l)+g,c=A(c)+g,C+=g,L+=g,v=["M",C,c,"L",C,l,"L",L,l,"L",L,c,"L",C,c,"z"]),O&&(g=k["stroke-width"]%2/2,d+=g,p+=g,b=["M",f-M*O,d,"L",f+M*O,d,"M",f-M*O,p,"L",f+M*O,p]),g=P["stroke-width"]%2/2,u=S(i.medianPlot)+g,w=["M",C,u,"L",L,u],m?(i.stem.animate({d:y}),O&&i.whiskers.animate({d:b}),z&&i.box.animate({d:v}),i.medianShape.animate({d:w})):(i.graphic=m=a.g().add(t.group),i.stem=a.path(y).attr(x).add(m),O&&(i.whiskers=a.path(b).attr(k).add(m)),z&&(i.box=a.path(v).attr(s).add(m)),i.medianShape=a.path(w).attr(P).add(m)))})}}),d.errorbar=s(d.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),p.errorbar=u(p.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:p.arearange?p.arearange.prototype.drawDataLabels:L,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||p.column.prototype.getColumnMetrics.call(this)}}),d.waterfall=s(d.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",states:{hover:{lineWidthPlus:0}}}),p.waterfall=u(p.column,{type:"waterfall",upColorProp:"fill",pointArrayMap:["low","y"],pointValKey:"y",init:function(t,e){e.stacking=!0,p.column.prototype.init.call(this,t,e)},translate:function(){var t=this,e=t.options,i=t.yAxis,n,o,r,a,s,l,h,c,d,u,g=e.threshold,f;for(p.column.prototype.translate.apply(this),c=d=g,r=t.points,o=0,n=r.length;n>o;o++)a=r[o],s=a.shapeArgs,l=t.getStack(o),u=l.points[t.index+","+o],isNaN(a.y)&&(a.y=t.yData[o]),h=T(c,c+a.y)+u[0],s.y=i.translate(h,0,1),a.isSum?(s.y=i.translate(u[1],0,1),s.height=i.translate(u[0],0,1)-s.y):a.isIntermediateSum?(s.y=i.translate(u[1],0,1),s.height=i.translate(d,0,1)-s.y,d=u[1]):c+=l.total,s.height<0&&(s.y+=s.height,s.height*=-1),a.plotY=s.y=S(s.y)-t.borderWidth%2/2,s.height=T(S(s.height),.001),a.yBottom=s.y+s.height,f=a.plotY+(a.negative?s.height:0),t.chart.inverted?a.tooltipPos[0]=i.len-f:a.tooltipPos[1]=f},processData:function(t){var e=this,i=e.options,n=e.yData,o=e.points,r,a=n.length,s=i.threshold||0,l,h,c,d,p,u;for(h=l=c=d=s,u=0;a>u;u++)p=n[u],r=o&&o[u]?o[u]:{},"sum"===p||r.isSum?n[u]=h:"intermediateSum"===p||r.isIntermediateSum?n[u]=l:(h+=p,l+=p),c=Math.min(h,c),d=Math.max(h,d);w.prototype.processData.call(this,t),e.dataMin=c,e.dataMax=d},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},getAttribs:function(){p.column.prototype.getAttribs.apply(this,arguments);var e=this,i=e.options,n=i.states,o=i.upColor||e.color,a=t.Color(o).brighten(.1).get(),l=s(e.pointAttr),h=e.upColorProp;l[""][h]=o,l.hover[h]=n.hover.upColor||a,l.select[h]=n.select.upColor||o,r(e.points,function(t){t.y>0&&!t.color&&(t.pointAttr=l,t.color=o)})},getGraphPath:function(){var t=this.data,e=t.length,i=this.options.lineWidth+this.borderWidth,n=S(i)%2/2,o=[],r="M",a="L",s,l,h,c;for(h=1;e>h;h++)l=t[h].shapeArgs,s=t[h-1].shapeArgs,c=[r,s.x+s.width,s.y+n,a,l.x,s.y+n],t[h-1].y<0&&(c[2]+=s.height,c[5]+=s.height),o=o.concat(c);return o},getExtremes:L,getStack:function(t){var e=this.yAxis,i=e.stacks,n=this.stackKey;return this.processedYData[t]<this.options.threshold&&(n="-"+n),i[n][t]},drawGraph:w.prototype.drawGraph}),d.bubble=s(d.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,style:{color:"white",textShadow:"0px 0px 3px black"},verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0});var B=u(x,{haloPath:function(){return x.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)}});p.bubble=u(p.scatter,{type:"bubble",pointClass:B,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(t){var e=this.options.marker,i=h(e.fillOpacity,.5);return t=t||e.fillColor||this.color,1!==i&&(t=C(t).setOpacity(i).get("rgba")),t},convertAttribs:function(){var t=w.prototype.convertAttribs.apply(this,arguments);return t.fill=this.applyOpacity(t.fill),t},getRadii:function(t,e,i,n){var o,r,a,s=this.zData,l=[],h="width"!==this.options.sizeBy,c;for(r=0,o=s.length;o>r;r++)c=e-t,a=c>0?(s[r]-t)/(e-t):.5,h&&a>=0&&(a=Math.sqrt(a)),l.push(P.ceil(i+a*(n-i))/2);this.radii=l},animate:function(t){var e=this.options.animation;t||(r(this.points,function(t){var i=t.graphic,n=t.shapeArgs;i&&n&&(i.attr("r",1),i.animate({r:n.r},e))}),this.animate=null)},translate:function(){var t,i=this.data,n,o,r=this.radii;for(p.scatter.prototype.translate.call(this),t=i.length;t--;)n=i[t],o=r?r[t]:0,n.negative=n.z<(this.options.zThreshold||0),o>=this.minPxSize/2?(n.shapeType="circle",n.shapeArgs={x:n.plotX,y:n.plotY,r:o},n.dlBox={x:n.plotX-o,y:n.plotY-o,width:2*o,height:2*o}):n.shapeArgs=n.plotY=n.dlBox=e},drawLegendSymbol:function(t,e){var i=c(t.itemStyle.fontSize)/2;e.legendSymbol=this.chart.renderer.circle(i,t.baseline-i,i).attr({zIndex:3}).add(e.legendGroup),e.legendSymbol.isMarker=!0},drawPoints:p.column.prototype.drawPoints,alignDataLabel:p.column.prototype.alignDataLabel}),m.prototype.beforePadding=function(){var t=this,i=this.len,a=this.chart,s=0,l=i,d=this.isXAxis,p=d?"xData":"yData",u=this.min,g={},f=P.min(a.plotWidth,a.plotHeight),m=Number.MAX_VALUE,y=-Number.MAX_VALUE,x=this.max-u,v=i/x,b=[];this.tickPositions&&(r(this.series,function(e){var i=e.options,s;!e.bubblePadding||!e.visible&&a.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,b.push(e),d&&(r(["minSize","maxSize"],function(t){var e=i[t],n=/%$/.test(e);e=c(e),g[t]=n?f*e/100:e}),e.minPxSize=g.minSize,s=e.zData,s.length&&(m=h(i.zMin,P.min(m,P.max(n(s),i.displayNegative===!1?i.zThreshold:-Number.MAX_VALUE))),y=h(i.zMax,P.max(y,o(s))))))}),r(b,function(t){var e=t[p],i=e.length,n;if(d&&t.getRadii(m,y,g.minSize,g.maxSize),x>0)for(;i--;)"number"==typeof e[i]&&(n=t.radii[i],s=Math.min((e[i]-u)*v-n,s),l=Math.max((e[i]-u)*v+n,l))}),b.length&&x>0&&h(this.options.min,this.userMin)===e&&h(this.options.max,this.userMax)===e&&(l-=i,v*=(i+s-l)/i,this.min+=s/v,this.max+=l/v))},function(){function t(t,e,i){t.call(this,e,i),this.chart.polar&&(this.closeSegment=function(t){var e=this.xAxis.center;t.push("L",e[0],e[1])},this.closedStacks=!0)}function e(t,e){var i=this.chart,n=this.options.animation,o=this.group,r=this.markerGroup,a=this.xAxis.center,s=i.plotLeft,l=i.plotTop,h;i.polar?i.renderer.isSVG&&(n===!0&&(n={}),e?(h={translateX:a[0]+s,translateY:a[1]+l,scaleX:.001,scaleY:.001},o.attr(h),r&&r.attr(h)):(h={translateX:s,translateY:l,scaleX:1,scaleY:1},o.animate(h,n),r&&r.animate(h,n),this.animate=null)):t.call(this,e)}var i=w.prototype,n=v.prototype,o;i.toXY=function(t){var e,i=this.chart,n=t.plotX,o=t.plotY,r;t.rectPlotX=n,t.rectPlotY=o,r=(n/Math.PI*180+this.xAxis.pane.options.startAngle)%360,0>r&&(r+=360),t.clientX=r,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-o),t.plotX=t.polarPlotX=e.x-i.plotLeft,t.plotY=t.polarPlotY=e.y-i.plotTop},i.orderTooltipPoints=function(t){this.chart.polar&&(t.sort(function(t,e){return t.clientX-e.clientX}),t[0]&&(t[0].wrappedClientX=t[0].clientX+360,t.push(t[0])))},p.area&&f(p.area.prototype,"init",t),p.areaspline&&f(p.areaspline.prototype,"init",t),p.spline&&f(p.spline.prototype,"getPointSpline",function(t,e,i,n){var o,r=1.5,a=r+1,s,l,h,c,d,p,u,g,f,m,y,x,v,b,k,w,P;return this.chart.polar?(s=i.plotX,l=i.plotY,h=e[n-1],c=e[n+1],this.connectEnds&&(h||(h=e[e.length-2]),c||(c=e[1])),h&&c&&(d=h.plotX,p=h.plotY,u=c.plotX,g=c.plotY,f=(r*s+d)/a,m=(r*l+p)/a,y=(r*s+u)/a,x=(r*l+g)/a,v=Math.sqrt(Math.pow(f-s,2)+Math.pow(m-l,2)),b=Math.sqrt(Math.pow(y-s,2)+Math.pow(x-l,2)),k=Math.atan2(m-l,f-s),w=Math.atan2(x-l,y-s),P=Math.PI/2+(k+w)/2,Math.abs(k-P)>Math.PI/2&&(P-=Math.PI),f=s+Math.cos(P)*v,m=l+Math.sin(P)*v,y=s+Math.cos(Math.PI+P)*b,x=l+Math.sin(Math.PI+P)*b,i.rightContX=y,i.rightContY=x),n?(o=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,f||s,m||l,s,l],h.rightContX=h.rightContY=null):o=["M",s,l]):o=t.call(this,e,i,n),o}),f(i,"translate",function(t){if(t.call(this),this.chart.polar&&!this.preventPostTranslate)for(var e=this.points,i=e.length;i--;)this.toXY(e[i])}),f(i,"getSegmentPath",function(t,e){var i=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&e[e.length-1]===i[i.length-1]&&null!==i[0].y&&(this.connectEnds=!0,e=[].concat(e,[i[0]])),t.call(this,e)}),f(i,"animate",e),f(i,"setTooltipPoints",function(t,e){return this.chart.polar&&a(this.xAxis,{tooltipLen:360}),t.call(this,e)}),p.column&&(o=p.column.prototype,f(o,"animate",e),f(o,"translate",function(t){var e=this.xAxis,i=this.yAxis.len,n=e.center,o=e.startAngleRad,r=this.chart.renderer,a,s,l,c;if(this.preventPostTranslate=!0,t.call(this),e.isRadial)for(s=this.points,c=s.length;c--;)l=s[c],a=l.barX+o,l.shapeType="path",l.shapeArgs={d:r.symbols.arc(n[0],n[1],i-l.plotY,null,{start:a,end:a+l.pointWidth,innerR:i-h(l.yBottom,i)})},this.toXY(l),l.tooltipPos=[l.plotX,l.plotY],l.ttBelow=l.plotY>n[1]}),f(o,"alignDataLabel",function(t,e,n,o,r,a){if(this.chart.polar){var s=e.rectPlotX/Math.PI*180,l,h;null===o.align&&(l=s>20&&160>s?"left":s>200&&340>s?"right":"center",o.align=l),null===o.verticalAlign&&(h=45>s||s>315?"bottom":s>135&&225>s?"top":"middle",o.verticalAlign=h),i.alignDataLabel.call(this,e,n,o,r,a)}else t.call(this,e,n,o,r,a)})),f(n,"getIndex",function(t,e){var i,n=this.chart,o,r,a;return n.polar?(o=n.xAxis[0].center,r=e.chartX-o[0]-n.plotLeft,a=e.chartY-o[1]-n.plotTop,i=180-Math.round(Math.atan2(r,a)/Math.PI*180)):i=t.call(this,e),i}),f(n,"getCoordinates",function(t,e){var i=this.chart,n={xAxis:[],yAxis:[]};return i.polar?r(i.axes,function(t){var o=t.isXAxis,r=t.center,a=e.chartX-r[0]-i.plotLeft,s=e.chartY-r[1]-i.plotTop;n[o?"xAxis":"yAxis"].push({axis:t,value:t.translate(o?Math.PI-Math.atan2(a,s):Math.sqrt(Math.pow(a,2)+Math.pow(s,2)),!0)})}):n=t.call(this,e),n})}()}(Highcharts)}.call(this),function(){!function(t){"use strict";var e=t.getOptions().plotOptions,i=t.pInt,n=t.pick,o=t.each,r,a;e.solidgauge=t.merge(e.gauge,{colorByPoint:!0}),r={initDataClasses:function(e){var i=this,n=this.chart,r,a=0,s=this.options;this.dataClasses=r=[],o(e.dataClasses,function(o,l){var h;o=t.merge(o),r.push(o),o.color||("category"===s.dataClassColor?(h=n.options.colors,o.color=h[a++],a===h.length&&(a=0)):o.color=i.tweenColors(t.Color(s.minColor),t.Color(s.maxColor),l/(e.dataClasses.length-1)))})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]],o(this.stops,function(e){e.color=t.Color(e[1])})},toColor:function(t,e){var i,n=this.stops,o,r,s,l=this.dataClasses,h,c;if(l){for(c=l.length;c--;)if(h=l[c],o=h.from,r=h.to,(o===a||t>=o)&&(r===a||r>=t)){s=h.color,e&&(e.dataClass=c);break}}else{for(this.isLog&&(t=this.val2lin(t)),i=1-(this.max-t)/(this.max-this.min),c=n.length;c--&&!(i>n[c][0]););o=n[c]||n[c+1],r=n[c+1]||o,i=1-(r[0]-i)/(r[0]-o[0]||1),s=this.tweenColors(o.color,r.color,i)}return s},tweenColors:function(t,e,i){var n=1!==e.rgba[3]||1!==t.rgba[3];return 0===t.rgba.length||0===e.rgba.length?"none":(n?"rgba(":"rgb(")+Math.round(e.rgba[0]+(t.rgba[0]-e.rgba[0])*(1-i))+","+Math.round(e.rgba[1]+(t.rgba[1]-e.rgba[1])*(1-i))+","+Math.round(e.rgba[2]+(t.rgba[2]-e.rgba[2])*(1-i))+(n?","+(e.rgba[3]+(t.rgba[3]-e.rgba[3])*(1-i)):"")+")"}},t.seriesTypes.solidgauge=t.extendClass(t.seriesTypes.gauge,{type:"solidgauge",bindAxes:function(){var e;t.seriesTypes.gauge.prototype.bindAxes.call(this),e=this.yAxis,t.extend(e,r),e.options.dataClasses&&e.initDataClasses(e.options),e.initStops(e.options)},drawPoints:function(){var e=this,o=e.yAxis,a=o.center,s=e.options,l=e.chart.renderer;t.each(e.points,function(h){var c=h.graphic,d=o.startAngleRad+o.translate(h.y,null,null,null,!0),p=i(n(s.radius,100))*a[2]/200,u=i(n(s.innerRadius,60))*a[2]/200,g,f,m=o.toColor(h.y,h),y;"none"!==m&&(y=h.color,h.color=m),s.wrap===!1&&(d=Math.max(o.startAngleRad,Math.min(o.endAngleRad,d))),d=180*d/Math.PI;var x=d/(180/Math.PI),v=o.startAngleRad,b=Math.min(x,v),k=Math.max(x,v);k-b>2*Math.PI&&(k=b+2*Math.PI),g={x:a[0],y:a[1],r:p,innerR:u,start:b,end:k},c?(f=g.d,c.attr({fill:h.color}).animate(g,{step:function(e,i){c.attr("fill",r.tweenColors(t.Color(y),t.Color(m),i.pos))}}),g.d=f):h.graphic=l.arc(g).attr({stroke:s.borderColor||"none","stroke-width":s.borderWidth||0,fill:h.color,"sweep-flag":0}).add(e.group)})},animate:null})}(Highcharts)}.call(this),function(){n.__checkName("highchartsHelper"),n.highchartsHelper=new n("Template.highchartsHelper",function(){var t=this;return s.DIV({id:function(){return Spacebars.mustache(t.lookup("chartId"))},style:function(){return["height: ",Spacebars.mustache(t.lookup("chartHeight")),"; width: ",Spacebars.mustache(t.lookup("chartWidth"))]}})})}.call(this),function(){n.highchartsHelper.rendered=function(){var t=this,i=t.data.chartObject;console.log(i),e("#"+t.data.chartId).highcharts(i)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["maazalik:highcharts"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,a=Package.retry.Retry,r=Package.ddp.DDP,o=Package.mongo.Mongo,i=Package.underscore._,s,c;(function(){var t=__meteor_runtime_config__.autoupdateVersion||"unknown",n=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";c=new o.Collection("meteor_autoupdate_clientVersions"),s={},s.newClientAvailable=function(){return!!c.findOne({_id:"version",version:{$ne:t}})||!!c.findOne({_id:"version-refreshable",version:{$ne:n}})};var r=!1,u=new a({minCount:0,baseTimeout:3e4}),d=0;s._retrySubscription=function(){e.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){e._debug("autoupdate subscription failed:",t),d++,u.retryLater(d,function(){s._retrySubscription()})},onReady:function(){if(Package.reload)var a=function(a){var s=this;if("version-refreshable"===a._id&&a.version!==n){n=a.version;var c=a.assets&&a.assets.allCss||[],u=[];i.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&u.push(e)});var d=function(t,n){var a=i.once(n);if(t.onload=function(){r=!0,a()},!r)var o=e.setInterval(function(){t.sheet&&(a(),e.clearInterval(o))},50)},l=i.after(c.length,function(){i.each(u,function(e){e.parentNode.removeChild(e)})}),_=function(t){document.getElementsByTagName("head").item(0).appendChild(t),d(t,function(){e.setTimeout(l,200)})};0!==c.length?i.each(c,function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("class","__meteor-css__"),t.setAttribute("href",e.url),_(t)}):l()}else"version"===a._id&&a.version!==t&&(o&&o.stop(),Package.reload.Reload._reload())},o=c.find().observe({added:a,changed:a})}})},s._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:s}}();

!function(){var a=Package.meteor.Meteor,e=Package.reload.Reload,o=Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["meteor-platform"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n;(function(){n={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:n}}();

!function(){var a=Package.meteor.Meteor,e=Package.ddp.DDP,e,t;"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:e,LivedataTest:t}}();

!function(){var t=Package.meteor.Meteor,n=Package.htmljs.HTML,e=Package.blaze.Blaze,a=Package.blaze.UI,r=Package.blaze.Handlebars,u=Package["observe-sequence"].ObserveSequence,i=Package.templating.Template,o;(function(){o={};var t=function(t,n){return t===n};o.include=function(n,a,r){if(!n)return null;if("function"!=typeof n){var u=n;if(!e.isTemplate(u))throw new Error("Expected template or null, found: "+u);return n.constructView(a,r)}var i=e.ReactiveVar(null,t),o=e.View("Spacebars.include",function(){var t=i.get();if(null===t)return null;if(!e.isTemplate(t))throw new Error("Expected template or null, found: "+t);return t.constructView(a,r)});return o.__templateVar=i,o.onViewCreated(function(){this.autorun(function(){i.set(n())})}),o},o.mustacheImpl=function(t){var n=arguments;if(n.length>1){var e=n[n.length-1];if(e instanceof o.kw){var a={};for(var r in e.hash){var u=e.hash[r];a[r]="function"==typeof u?u():u}n[n.length-1]=o.kw(a)}else e=o.kw(),n=Array.prototype.slice.call(arguments),n.push(e)}return o.call.apply(null,n)},o.mustache=function(t){var e=o.mustacheImpl.apply(null,arguments);return e instanceof o.SafeString?n.Raw(e.toString()):null==e||e===!1?null:String(e)},o.attrMustache=function(t){var e=o.mustacheImpl.apply(null,arguments);if(null==e||""===e)return null;if("object"==typeof e)return e;if("string"==typeof e&&n.isValidAttributeName(e)){var a={};return a[e]="",a}throw new Error("Expected valid attribute name, '', null, or object")},o.dataMustache=function(t){var n=o.mustacheImpl.apply(null,arguments);return n},o.makeRaw=function(t){return null==t?null:t instanceof n.Raw?t:n.Raw(t)},o.call=function(t){if("function"==typeof t){for(var n=[],e=1;e<arguments.length;e++){var a=arguments[e];n[e-1]="function"==typeof a?a():a}return t.apply(null,n)}if(arguments.length>1)throw new Error("Can't call non-function: "+t);return t},o.kw=function(t){return this instanceof o.kw?void(this.hash=t||{}):new o.kw(t)},o.SafeString=function(t){return this instanceof o.SafeString?new r.SafeString(t):new o.SafeString(t)},o.SafeString.prototype=r.SafeString.prototype,o.dot=function(t,n){if(arguments.length>2){var e=[];return e.push(o.dot(t,n)),e.push.apply(e,Array.prototype.slice.call(arguments,2)),o.dot.apply(null,e)}if("function"==typeof t&&(t=t()),!t)return t;var a=t[n];return"function"!=typeof a?a:function(){return a.apply(t,arguments)}},o.With=function(t,n,a){var r=new e.ReactiveVar,u=e.View("Spacebars_with",function(){return e.If(function(){return r.get()},function(){return e.With(function(){return r.get()},n)},a)});return u.onViewCreated(function(){this.autorun(function(){r.set(t()),Tracker.onInvalidate(function(){r.dep.changed()})})}),u},o.TemplateWith=e._TemplateWith}).call(this),function(){i.__checkName("__dynamic"),i.__dynamic=new i("Template.__dynamic",function(){var t=this;return[e.View(function(){return o.mustache(t.lookup("checkContext"))}),"\n  ",e.If(function(){return o.call(t.lookup("dataContextPresent"))},function(){return["\n    ",o.include(t.lookupTemplate("__dynamicWithDataContext")),"\n  "]},function(){return["\n    \n    ",e._TemplateWith(function(){return{template:o.call(t.lookup("template")),data:o.call(t.lookup(".."))}},function(){return o.include(t.lookupTemplate("__dynamicWithDataContext"))}),"\n  "]})]}),i.__checkName("__dynamicWithDataContext"),i.__dynamicWithDataContext=new i("Template.__dynamicWithDataContext",function(){var t=this;return o.With(function(){return o.dataMustache(t.lookup("chooseTemplate"),t.lookup("template"))},function(){return["\n    ",e._TemplateWith(function(){return o.call(o.dot(t.lookup(".."),"data"))},function(){return o.include(t.lookupTemplate(".."))}),"    \n  "]})})}.call(this),function(){i.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return i[t]||null}}),i.__dynamic.helpers({dataContextPresent:function(){return _.has(this,"data")},checkContext:function(){if(!_.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");_.each(this,function(t,n){if("template"!==n&&"data"!==n)throw new Error("Invalid argument to {{> Template.dynamic}}: "+n)})}})}.call(this),"undefined"==typeof Package&&(Package={}),Package.spacebars={Spacebars:o}}();

!function(){var e=Package.meteor.Meteor,a;(function(){var n=0,r=!1;a={hold:function(){if(!e.isCordova)return{release:function(){}};if(r)throw new Error("Can't show launch screen once it's hidden");n++;var a=!1,t=function(){e.isCordova&&(a||(n--,0===n&&"undefined"!=typeof navigator&&navigator.splashscreen&&(r=!0,navigator.splashscreen.hide())))};return{release:t}}}}).call(this),function(){var n=a.hold(),r=Package.templating&&Package.templating.Template;e.startup(function(){if(r)if(Package["iron:router"])Package["iron:router"].Router.onAfterAction(function(){n.release()});else{var e=setInterval(function(){r.body.view&&r.body.view.isRendered&&(n.release(),clearInterval(e))},50);setTimeout(function(){n.release()},6e3)}else n.release()})}.call(this),"undefined"==typeof Package&&(Package={}),Package["launch-screen"]={LaunchScreen:a}}();

SimpleSchema=Package["aldeed:simple-schema"].SimpleSchema,MongoObject=Package["aldeed:simple-schema"].MongoObject,Router=Package["iron:router"].Router,RouteController=Package["iron:router"].RouteController,accountsUIBootstrap3=Package["ian:accounts-ui-bootstrap-3"].accountsUIBootstrap3,MeteorCamera=Package["mdg:camera"].MeteorCamera,Geolocation=Package["mdg:geolocation"].Geolocation,moment=Package["mrt:moment"].moment,Iron=Package["iron:core"].Iron,Accounts=Package["accounts-base"].Accounts,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Tracker=Package.deps.Tracker,Deps=Package.deps.Deps,Session=Package.session.Session,DDP=Package.livedata.DDP,Mongo=Package.mongo.Mongo,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package.templating.Template,check=Package.check.check,Match=Package.check.Match,_=Package.underscore._,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,LaunchScreen=Package["launch-screen"].LaunchScreen,HTML=Package.htmljs.HTML;

!function(){Template.__checkName("areaDemo"),Template.areaDemo=new Template("Template.areaDemo",function(){var e=this;return HTML.Raw('<h2>areaDemo</h2>\n    <div id="container-area" style="min-width: 310px; height: 400px;"></div>')})}();

!function(){Template.__checkName("columnDemo"),Template.columnDemo=new Template("Template.columnDemo",function(){var e=this;return HTML.Raw('<h2>columnDemo</h2>\n    <div id="container-column" style="min-width: 310px; height: 400px;"></div>')})}();

!function(){Template.__checkName("gaugeDemo"),Template.gaugeDemo=new Template("Template.gaugeDemo",function(){var e=this;return HTML.Raw('<h2>gaugeDemo</h2>\n    <p>The data will change every 2 seconds to another random value.</p>\n    <div id="container-gauge" style="width: 300px; height: 200px;"></div>')})}();

!function(){Template.__checkName("gaugeReactiveDemo"),Template.gaugeReactiveDemo=new Template("Template.gaugeReactiveDemo",function(){var o=this;return HTML.Raw('<h2>gaugeReactiveDemo</h2>\n    <p>In this example the data is reactive and is dependent on a session variable. Feel free to test it:</p>\n    \n    <select id="reactive">\n       <option value="10">10</option>\n       <option value="20">20</option>\n       <option value="30">30</option>\n       <option value="30">30</option>\n       <option value="40">40</option>\n       <option value="50">50</option>\n       <option value="60">60</option>\n       <option value="70">70</option>\n       <option value="80">80</option>\n       <option value="90">90</option>\n       <option value="100">100</option>\n       <option value="120">120</option>\n       <option value="140">140</option>\n       <option value="160">160</option>\n       <option value="180">180</option>\n       <option value="200">200</option>\n    </select>\n    \n    <div id="container-gauge-reactive" style="width: 300px; height: 200px;"></div>')})}();

!function(){Template.__checkName("pieDemo"),Template.pieDemo=new Template("Template.pieDemo",function(){var e=this;return HTML.Raw('<h2>pieDemo</h2>\n    <div id="container-pie" style="width: 300px; height: 200px;"></div>')})}();

!function(){Template.__checkName("about"),Template.about=new Template("Template.about",function(){var e=this;return HTML.BODY(Spacebars.include(e.lookupTemplate("menu")),"\n",HTML.DIV({"class":"about_content"},Spacebars.include(e.lookupTemplate("aboutcontent"))))})}();

!function(){Template.__checkName("admin"),Template.admin=new Template("Template.admin",function(){var e=this;return[Spacebars.include(e.lookupTemplate("menu")),Spacebars.include(e.lookupTemplate("allTest"))]})}();

!function(){Template.__checkName("map-layout"),Template["map-layout"]=new Template("Template.map-layout",function(){var e=this;return HTML.BODY(Spacebars.include(e.lookupTemplate("menu")),"\n\n\n\n\n\n\n\n",Spacebars.include(e.lookupTemplate("map")))})}();

!function(){Template.__checkName("mapstatic"),Template.mapstatic=new Template("Template.mapstatic",function(){var a=this;return HTML.BODY(Spacebars.include(a.lookupTemplate("menu")),HTML.Raw('\n<img src="leaflet/mapstatic.png">'))})}();

!function(){Template.__checkName("mechanic"),Template.mechanic=new Template("Template.mechanic",function(){var e=this;return[Spacebars.include(e.lookupTemplate("menu")),Spacebars.include(e.lookupTemplate("pics"))]})}();

!function(){Template.__checkName("menu"),Template.menu=new Template("Template.menu",function(){var a=this;return HTML.DIV({"class":"navMenu"},HTML.Raw('<div class="navIcon"><a href="/"><img src="logo/RedBarsLogo.png"></a></div>\n'),HTML.UL({"class":"navItems"},HTML.Raw('<li class="navButton left"><a href="/">map</a></li>'),"\n",HTML.LI({"class":["navButton"," ","left"]},HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),Spacebars.kw({route:"about"}))}},"about")),"\n",HTML.LI({"class":["navButton"," ","left"]},HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),Spacebars.kw({route:"admin"}))}},"admin")),"\n",HTML.LI({"class":["navButton"," ","left"]},HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),Spacebars.kw({route:"student"}))}},"student")),"\n",HTML.LI({"class":["navButton"," ","left"]},HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),Spacebars.kw({route:"mechanic"}))}},"mechanic")),"\n",HTML.LI({"class":["navButton"," ","right"]},"","\n",Spacebars.include(a.lookupTemplate("loginButtons")))))})}();

!function(){Template.__checkName("student"),Template.student=new Template("Template.student",function(){var e=this;return[Spacebars.include(e.lookupTemplate("menu")),Spacebars.include(e.lookupTemplate("profile"))]})}();

!function(){Template.__checkName("aboutcontent"),Template.aboutcontent=new Template("Template.aboutcontent",function(){var n=this;return[HTML.Raw('<div class="fullIntro">\n<div class="imgBox"><img src="/about/heroImage/will.png"></div></div><div class="fullEvolution">\n\n\n\n\n\n\n\n\n<br>\n<br>\n<h1>Currently Available Modes of Transportation</h1>\n<p>Each mode has a substantial\n<span class="p1">tradeoff...</span></p>\n\n\n\n\n\n\n\n\n\n<div class="mode"><img src="/about/evolution/walk.png"></div>\n<div class="line"><img src="/about/evolution/line.png">\n</div>\n<div class="mode"><img src="/about/evolution/car.png"></div>\n<div class="line"><img src="/about/evolution/line.png"></div>\n<div class="mode"><img src="/about/evolution/bus.png"></div>\n<div class="line"><img src="/about/evolution/line.png"></div>\n<div class="mode"><img src="/about/evolution/bike.png"></div></div><div class="fullWhat"><br>\n<hr>\n<br>\n<br>\n<br>\n<p>What if we create a <b> balanced </b> mode that is \n<br>\n<span class="p1">affordable, fast, and flexible at the same time?</span></p>\n<br>\n<br>\n<hr>\n<div class="outerBox"><img src="/about/bikesharetemp.png"></div></div><div class="fullHow"><div class="outerBox"><img src="/about/whatImage.png">\n\n\n\n\n\n\n\n\n\n\n</div></div><div class="fullQuotes"><hr>\n\n\n\n\n\n<div class="outerBox"><div class="col_twelve quoteBox"><blockquote class="cntr"><h2>I\'ve always wanted a better way to get aroud campus. Red Bars was the answer for me.</h2>\n<cite>President Loh</cite></blockquote></div></div>\n<hr></div><div class="fullPricing">\n\n\n\n\n</div><div class="wrapper cntr"><br>\n<br>\n<br>\n<br>\n<div class="primary"><h1>Short Rides</h1>\n<p>$0.05 per minute*</p></div>\n<div class="primary"><h1>Long Rides</h1>\n<p>$4 per day</p></div>\n</div>'),HTML.DIV({"class":"wrapper"},HTML.Raw('<div class="secondary"><h1>&nbsp;</h1></div>'),"\n",HTML.DIV({"class":["secondary"," ","cntr"]},HTML.Raw("<h1>Yeah, it is that easy</h1>"),"\n",HTML.Raw("<p>Get started for free</p>"),"\n",Spacebars.include(n.lookupTemplate("loginButtons")),"\n","","\n","","\n","","\n","","\n",HTML.Raw("<br>"),"\n",HTML.Raw("<br>"),"\n",HTML.Raw("<br>"),"\n",HTML.Raw("<br>"),"\n",HTML.Raw("<br>"),"\n",HTML.Raw("<br>"))),HTML.Raw('<div class="fullFAQ"><div class="outerBox cntr"><div class="FAQ"><img src="/about/FAQShort.png" class="short">\n<img src="/about/FAQLong.png" class="long"></div></div></div>')]})}();

!function(){Template.__checkName("bikesList"),Template.bikesList=new Template("Template.bikesList",function(){var e=this;return HTML.DIV({"class":["data-set"," ","row"]},HTML.TABLE(null,"\n",HTML.TR(HTML.TD("Bike Number"),"\n",HTML.TD("Status"),"\n",HTML.TD("Needs"),"\n",HTML.TD("Repaired on"),"\n",HTML.TD("Latitude"),"\n",HTML.TD("Longitude")),"\n",null,"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("bikes"))},function(){return HTML.TR(HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("title"))})),"\n",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("status"))})),"\n",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("needs"))})),"\n",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("repaired"))})),"\n",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("latitude"))})),"\n",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("longitude"))})))})))})}();

!function(){Template.__checkName("map"),Template.map=new Template("Template.map",function(){var e=this;return HTML.Raw('<div id="map"></div>')})}();

!function(){Template.__checkName("mytemplate"),Template.mytemplate=new Template("Template.mytemplate",function(){var e=this;return[HTML.Raw("<h1> test </h1>\n  <!-- // myTempmlate.html -->\n  "),Blaze._TemplateWith(function(){return{chartId:Spacebars.call("test"),chartWidth:Spacebars.call("100%"),charHeight:Spacebars.call("100%"),chartObject:Spacebars.call(e.lookup("topGenresChart"))}},function(){return Spacebars.include(e.lookupTemplate("highchartsHelper"))})]})}();

!function(){Template.__checkName("pics"),Template.pics=new Template("Template.pics",function(){var t=this;return[HTML.Raw("<h1>&nbsp;</h1><h1>&nbsp;</h1><button>Take Photo</button>"),Blaze.If(function(){return Spacebars.call(t.lookup("photo"))},function(){return HTML.DIV({"class":"image"},HTML.IMG({src:function(){return Spacebars.mustache(t.lookup("photo"))}}))})]})}();

!function(){Template.__checkName("profile"),Template.profile=new Template("Template.profile",function(){var i=this;return HTML.Raw('<div class="nav"></div><div class="profile-bar"><div class="profile-img"><img src="profile/Prof_Pic_Placeholder.png"></div>\n<div class="user-info"><h1>Kyle King</h1>\n<p>User since March 12, 2014</p>\n<p>Remaining Balance $21.50</p></div>\n<div class="stats"><h3>Miles biked</h3></div>\n<div class="data"><div class="last-rides"><img src="profile/Route_Map.png"></div></div></div>')})}();

!function(){Template.__checkName("allTest"),Template.allTest=new Template("Template.allTest",function(){var e=this;return[HTML.Raw('<p>These are examples for the Meteor package <a href="https://github.com/MaazAli/Meteor-HighCharts">Meteor-HighCharts</a>.</p>\n    \n    <h1>Basic examples</h1>\n    \n    '),Spacebars.include(e.lookupTemplate("pieDemo")),"\n    ",Spacebars.include(e.lookupTemplate("gaugeDemo")),"\n    ",Spacebars.include(e.lookupTemplate("columnDemo")),"\n    ",Spacebars.include(e.lookupTemplate("areaDemo")),HTML.Raw("\n    \n    <h1>Reactive example</h1>\n    \n    "),Spacebars.include(e.lookupTemplate("gaugeReactiveDemo"))]})}();

!function(){Template.__checkName("main"),Template.main=new Template("Template.main",function(){var e=this;return HTML.HTML(HTML.HEAD(HTML.TITLE("Team BIKES"),"\n","","\n","","\n",HTML.Raw('<meta property="og:title" content="UMD Campus Bike Share of the Future">'),"\n",HTML.Raw('<meta property="og:type" content="website">'),"\n",HTML.Raw('<meta property="og:image" content="logo/RedBarsLogo.png">'),"\n",HTML.Raw('<meta property="og:url" content="http://teambikes.meteor.com">')))})}();

!function(){Router.route("/",function(){this.wait(Meteor.subscribe("Bikes")),this.render(this.ready()?"map-static":"map-layout")}),Router.route("/about"),Router.route("/admin"),Router.route("/student"),Router.route("/mechanic")}();

!function(){function e(){$("#container-area").highcharts({chart:{type:"area"},title:{text:"US and USSR nuclear stockpiles"},credits:{enabled:!1},subtitle:{text:'Source: <a href="http://thebulletin.metapress.com/content/c4120650912x74k7/fulltext.pdf">thebulletin.metapress.com</a>'},xAxis:{allowDecimals:!1,labels:{formatter:function(){return this.value}}},yAxis:{title:{text:"Nuclear weapon states"},labels:{formatter:function(){return this.value/1e3+"k"}}},tooltip:{pointFormat:"{series.name} produced <b>{point.y:,.0f}</b><br/>warheads in {point.x}"},plotOptions:{area:{pointStart:1940,marker:{enabled:!1,symbol:"circle",radius:2,states:{hover:{enabled:!0}}}}},series:[{name:"USA",data:[null,null,null,null,null,6,11,32,110,235,369,640,1005,1436,2063,3057,4618,6444,9822,15468,20434,24126,27387,29459,31056,31982,32040,31233,29224,27342,26662,26956,27912,28999,28965,27826,25579,25722,24826,24605,24304,23464,23708,24099,24357,24237,24401,24344,23586,22380,21004,17287,14747,13076,12555,12144,11009,10950,10871,10824,10577,10527,10475,10421,10358,10295,10104]},{name:"USSR/Russia",data:[null,null,null,null,null,null,null,null,null,null,5,25,50,120,150,200,426,660,869,1060,1605,2471,3322,4238,5221,6129,7089,8339,9399,10538,11643,13092,14478,15915,17385,19055,21205,23044,25393,27935,30062,32049,33952,35804,37431,39197,45e3,43e3,41e3,39e3,37e3,35e3,33e3,31e3,29e3,27e3,25e3,24e3,23e3,22e3,21e3,2e4,19e3,18e3,18e3,17e3,16e3]}]})}Template.areaDemo.rendered=function(){e()}}();

!function(){function t(){$("#container-column").highcharts({chart:{type:"column"},title:{text:"Monthly Average Rainfall"},subtitle:{text:"Source: WorldClimate.com"},credits:{enabled:!1},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{min:0,title:{text:"Rainfall (mm)"}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{name:"Tokyo",data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4]},{name:"New York",data:[83.6,78.8,98.5,93.4,106,84.5,105,104.3,91.2,83.5,106.6,92.3]},{name:"London",data:[48.9,38.8,39.3,41.4,47,48.3,59,59.6,52.4,65.2,59.3,51.2]},{name:"Berlin",data:[42.4,33.2,34.5,39.7,52.6,75.5,57.4,60.4,47.6,39.1,46.8,51.1]}]})}Template.columnDemo.rendered=function(){t()}}();

!function(){function e(){$("#container-gauge").highcharts({chart:{type:"solidgauge"},title:null,pane:{center:["50%","85%"],size:"140%",startAngle:-90,endAngle:90,background:{backgroundColor:"#EEE",innerRadius:"60%",outerRadius:"100%",shape:"arc"}},tooltip:{enabled:!1},yAxis:{min:0,max:200,title:{text:"Speed"},stops:[[.1,"#55BF3B"],[.5,"#DDDF0D"],[.9,"#DF5353"]],lineWidth:0,minorTickInterval:null,tickPixelInterval:400,tickWidth:0,title:{y:-70},labels:{y:16}},plotOptions:{solidgauge:{dataLabels:{y:5,borderWidth:0,useHTML:!0}}},credits:{enabled:!1},series:[{name:"Speed",data:[80],dataLabels:{format:'<div style="text-align:center"><span style="font-size:25px;color:#7e7e7e">{y}</span><br/><span style="font-size:12px;color:silver">km/h</span></div>'},tooltip:{valueSuffix:" km/h"}}]})}setInterval(function(){var e=$("#container-gauge").highcharts(),t,a,n;e&&(t=e.series[0].points[0],n=Math.round(100*(Math.random()-.5)),a=t.y+n,(0>a||a>200)&&(a=t.y-n),t.update(a))},2e3),Template.gaugeDemo.rendered=function(){e()}}();

!function(){function e(){var e=new Array;e[0]=80,void 0!==Session.get("reactive")&&(e[0]=Session.get("reactive")),$("#container-gauge-reactive").highcharts({chart:{type:"solidgauge"},title:null,pane:{center:["50%","85%"],size:"140%",startAngle:-90,endAngle:90,background:{backgroundColor:"#EEE",innerRadius:"60%",outerRadius:"100%",shape:"arc"}},tooltip:{enabled:!1},yAxis:{min:0,max:200,title:{text:"Speed"},stops:[[.1,"#55BF3B"],[.5,"#DDDF0D"],[.9,"#DF5353"]],lineWidth:0,minorTickInterval:null,tickPixelInterval:400,tickWidth:0,title:{y:-70},labels:{y:16}},plotOptions:{solidgauge:{dataLabels:{y:5,borderWidth:0,useHTML:!0}}},credits:{enabled:!1},series:[{name:"Speed",data:e,dataLabels:{format:'<div style="text-align:center"><span style="font-size:25px;color:#7e7e7e">{y}</span><br/><span style="font-size:12px;color:silver">km/h</span></div>'},tooltip:{valueSuffix:" km/h"}}]})}Template.gaugeReactiveDemo.rendered=function(){this.autorun(function(t){e()})},Template.gaugeReactiveDemo.events={"change #reactive":function(e,t){var a=$(e.target).val();Session.set("reactive",parseInt(a))}}}();

!function(){function e(){var e=new Array;e.push({name:"Level 0",y:10,color:"#55BF3B"}),e.push({name:"Level 1",y:12,color:"#DDDF0D"}),e.push({name:"Level 2",y:30,color:"#DF5353"}),$("#container-pie").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:""},credits:{enabled:!1},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},series:[{type:"pie",name:"Anteil",data:e}]})}Template.pieDemo.rendered=function(){e()}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Meteor.subscribe("bikesData"),Template.bikesList.helpers({bikes:function(){return Bikes.find()}})}();

!function(){!function(t,e,i){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[]},addLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.addLayers(e)}if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom);var n=t,s=this._map.getZoom();if(t.__parent)for(;n.__parent._zoom>=s;)n=n.__parent;return this._currentShownBounds.contains(n.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,n):this._animationAddLayerNonAnimated(t,n)),this},removeLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.removeLayers(e)}return t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.setOpacity&&t.setOpacity(1)),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){var e=this._featureGroup,i=this._nonPointGroup,n=this.options.chunkedLoading,s=this.options.chunkInterval,r=this.options.chunkProgress,o,a,h,_;if(this._map){var u=0,l=(new Date).getTime(),d=L.bind(function(){for(var o=(new Date).getTime();u<t.length;u++){if(n&&u%200===0){var a=(new Date).getTime()-o;if(a>s)break}if(_=t[u],_.getLatLng){if(!this.hasLayer(_)&&(this._addLayer(_,this._maxZoom),_.__parent&&2===_.__parent.getChildCount())){var h=_.__parent.getAllChildMarkers(),p=h[0]===_?h[1]:h[0];e.removeLayer(p)}}else i.addLayer(_)}r&&r(u,t.length,(new Date).getTime()-l),u===t.length?(this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)},this);d()}else{for(o=[],a=0,h=t.length;h>a;a++)_=t[a],_.getLatLng?this.hasLayer(_)||o.push(_):i.addLayer(_);this._needsClustering=this._needsClustering.concat(o)}return this},removeLayers:function(t){var e,i,n,s=this._featureGroup,r=this._nonPointGroup;if(!this._map){for(e=0,i=t.length;i>e;e++)n=t[e],this._arraySplice(this._needsClustering,n),r.removeLayer(n);return this}for(e=0,i=t.length;i>e;e++)n=t[e],n.__parent?(this._removeLayer(n,!0,!0),s.hasLayer(n)&&(s.removeLayer(n),n.setOpacity&&n.setOpacity(1))):r.removeLayer(n);return this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),s.eachLayer(function(t){t instanceof L.MarkerCluster&&t._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i=this._needsClustering.slice(),n;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(i),n=i.length-1;n>=0;n--)t.call(e,i[n]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(i=this._needsRemoving,e=i.length-1;e>=0;e--)if(i[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){var i=function(){if((t._icon||t.__parent._icon)&&!this._inZoomAnimation)if(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon)e();else if(t.__parent._icon){var n=function(){this.off("spiderfied",n,this),e()};this.on("spiderfied",n,this),t.__parent.spiderfy()}};if(t._icon&&this._map.getBounds().contains(t.getLatLng()))e();else if(t.__parent._zoom<this._map.getZoom())this._map.on("moveend",i,this),this._map.panTo(t.getLatLng());else{var n=function(){this._map.off("movestart",n,this),n=null};this._map.on("movestart",n,this),this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds(),n&&i.call(this)}},onAdd:function(t){this._map=t;var e,i,n;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.onAdd(t),this._nonPointGroup.onAdd(t),this._gridClusters||this._generateInitialClusters(),e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],this._removeLayer(n,!0);this._needsRemoving=[],this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),this._hideCoverage(),this._featureGroup.onRemove(t),this._nonPointGroup.onRemove(t),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeLayer:function(t,e,i){var n=this._gridClusters,s=this._gridUnclustered,r=this._featureGroup,o=this._map;if(e)for(var a=this._maxZoom;a>=0&&s[a].removeObject(t,o.project(t.getLatLng(),a));a--);var h=t.__parent,_=h._markers,u;for(this._arraySplice(_,t);h&&(h._childCount--,!(h._zoom<0));)e&&h._childCount<=1?(u=h._markers[0]===t?h._markers[1]:h._markers[0],n[h._zoom].removeObject(h,o.project(h._cLatLng,h._zoom)),s[h._zoom].addObject(u,o.project(u.getLatLng(),h._zoom)),this._arraySplice(h.__parent._childClusters,h),h.__parent._markers.push(u),u.__parent=h.__parent,h._icon&&(r.removeLayer(h),i||r.addLayer(u))):(h._recalculateBounds(),i&&h._icon||h._updateIcon()),h=h.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},_propagateEvent:function(t){if(t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;t.type="cluster"+t.type}this.fire(t.type,t)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return i+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var e=this._map;e.getMaxZoom()===e.getZoom()?this.options.spiderfyOnMaxZoom&&t.layer.spiderfy():this.options.zoomToBoundsOnClick&&t.layer.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&e._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius,i=e;"function"!=typeof e&&(i=function(){return e}),this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var n=t;n>=0;n--)this._gridClusters[n]=new L.DistanceGrid(i(n)),this._gridUnclustered[n]=new L.DistanceGrid(i(n));this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(t,e){var i=this._gridClusters,n=this._gridUnclustered,s,r;for(this.options.singleMarkerMode&&(t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}}));e>=0;e--){s=this._map.project(t.getLatLng(),e);var o=i[e].getNearObject(s);if(o)return o._addChild(t),void(t.__parent=o);if(o=n[e].getNearObject(s)){var a=o.__parent;a&&this._removeLayer(o,!1);var h=new L.MarkerCluster(this,e,o,t);i[e].addObject(h,this._map.project(h._cLatLng,e)),o.__parent=h,t.__parent=h;var _=h;for(r=e-1;r>a._zoom;r--)_=new L.MarkerCluster(this,r,_),i[r].addObject(_,this._map.project(o.getLatLng(),r));for(a._addChild(_),r=e;r>=0&&n[r].removeObject(o,this._map.project(o.getLatLng(),r));r--);return}n[e].addObject(t,s)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this._map.getBounds();var t=this._map,e=t.getBounds(),i=e._southWest,n=e._northEast,s=L.Browser.mobile?0:Math.abs(i.lat-n.lat),r=L.Browser.mobile?0:Math.abs(i.lng-n.lng);return new L.LatLngBounds(new L.LatLng(i.lat-s,i.lng-r,!0),new L.LatLng(n.lat+s,n.lng+r,!0))},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()}}),L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_animationZoomIn:function(t,e){var i=this._getExpandedVisibleBounds(),n=this._featureGroup,s;this._topClusterLevel._recursively(i,t,0,function(r){var o=r._latlng,a=r._markers,h;for(i.contains(o)||(o=null),r._isSingleParent()&&t+1===e?(n.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,i)):(r.setOpacity(0),r._recursivelyAddChildrenToMap(o,e,i)),s=a.length-1;s>=0;s--)h=a[s],i.contains(h._latlng)||n.removeLayer(h)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,e),n.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.setOpacity(1)}),this._topClusterLevel._recursively(i,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._enqueue(function(){this._topClusterLevel._recursively(i,t,0,function(t){n.removeLayer(t),t.setOpacity(1)}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(n,e+1,i);var s=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var r=t._markers[0];r.setLatLng(r.getLatLng()),r.setOpacity&&r.setOpacity(1)}else t._recursively(n,i,0,function(t){t._recursivelyRemoveChildrenFromMap(n,e+1)});s._animationEnd()})},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.setOpacity(0),this._enqueue(function(){n.removeLayer(t),t.setOpacity(1),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t=this._childClusters.slice(),e=this._group._map,i=e.getBoundsZoom(this._bounds),n=this._zoom+1,s=e.getZoom(),r;t.length>0&&i>n;){n++;var o=[];for(r=0;r<t.length;r++)o=o.concat(t[r]._childClusters);t=o}i>n?this._group._map.setView(this._latlng,n):s>=i?this._group._map.setView(this._latlng,s+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._expandBounds(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_expandBounds:function(t){var e,i=t._wLatLng||t._latlng;t instanceof L.MarkerCluster?(this._bounds.extend(t._bounds),e=t._childCount):(this._bounds.extend(i),e=1),this._cLatLng||(this._cLatLng=t._cLatLng||i);var n=this._childCount+e;this._wLatLng?(this._wLatLng.lat=(i.lat*e+this._wLatLng.lat*this._childCount)/n,this._wLatLng.lng=(i.lng*e+this._wLatLng.lng*this._childCount)/n):this._latlng=this._wLatLng=new L.LatLng(i.lat,i.lng)},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,0,i-1,function(t){var i=t._markers,n,s;for(n=i.length-1;n>=0;n--)s=i[n],s._icon&&(s._setPos(e),s.setOpacity(0))},function(t){var i=t._childClusters,n,s;for(n=i.length-1;n>=0;n--)s=i[n],s._icon&&(s._setPos(e),s.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i){this._recursively(t,i,0,function(n){n._recursivelyAnimateChildrenIn(t,n._group._map.latLngToLayerPoint(n.getLatLng()).round(),e),n._isSingleParent()&&e-1===i?(n.setOpacity(1),n._recursivelyRemoveChildrenFromMap(t,e)):n.setOpacity(0),n._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.setOpacity(1)})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,-1,e,function(n){if(e!==n._zoom)for(var s=n._markers.length-1;s>=0;s--){var r=n._markers[s];i.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.setOpacity&&r.setOpacity(0)),n._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i){var n,s;this._recursively(t,-1,e-1,function(t){for(s=t._markers.length-1;s>=0;s--)n=t._markers[s],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.setOpacity&&n.setOpacity(1))},function(t){for(s=t._childClusters.length-1;s>=0;s--)n=t._childClusters[s],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.setOpacity&&n.setOpacity(1))})},_recursively:function(t,e,i,n,s){var r=this._childClusters,o=this._zoom,a,h;if(e>o)for(a=r.length-1;a>=0;a--)h=r[a],t.intersects(h._bounds)&&h._recursively(t,e,i,n,s);else if(n&&n(this),s&&this._zoom===i&&s(this),i>o)for(a=r.length-1;a>=0;a--)h=r[a],t.intersects(h._bounds)&&h._recursively(t,e,i,n,s)},_recalculateBounds:function(){var t=this._markers,e=this._childClusters,i;for(this._bounds=new L.LatLngBounds,delete this._wLatLng,i=t.length-1;i>=0;i--)this._expandBounds(t[i]);for(i=e.length-1;i>=0;i--)this._expandBounds(e[i])},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),s=this._grid,r=s[n]=s[n]||{},o=r[i]=r[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,o.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),s=this._grid,r=s[n]=s[n]||{},o=r[i]=r[i]||[],a,h;for(delete this._objectPoint[L.Util.stamp(t)],a=0,h=o.length;h>a;a++)if(o[a]===t)return o.splice(a,1),1===h&&delete r[i],!0},eachObject:function(t,e){var i,n,s,r,o,a,h,_=this._grid;for(i in _){o=_[i];for(n in o)for(a=o[n],s=0,r=a.length;r>s;s++)h=t.call(e,a[s]),h&&(s--,r--)}},getNearObject:function(t){var e=this._getCoord(t.x),i=this._getCoord(t.y),n,s,r,o,a,h,_,u,l=this._objectPoint,d=this._sqCellSize,p=null;for(n=i-1;i+1>=n;n++)if(o=this._grid[n])for(s=e-1;e+1>=s;s++)if(a=o[s])for(r=0,h=a.length;h>r;r++)_=a[r],u=this._sqDist(l[L.Util.stamp(_)],t),d>u&&(d=u,p=_);return p},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},function(){L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat,n=e[0].lng-e[1].lng;return n*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i=0,n=null,s=[],r,o,a;for(r=e.length-1;r>=0;r--)o=e[r],a=this.getDistant(o,t),a>0&&(s.push(o),a>i&&(i=a,n=o));return{maxPoint:n,newPoints:s}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints))):[t[0]]},getConvexHull:function(t){var e=!1,i=!1,n=null,s=null,r;for(r=t.length-1;r>=0;r--){var o=t[r];(e===!1||o.lat>e)&&(n=o,e=o.lat),(i===!1||o.lat<i)&&(s=o,i=o.lat)}var a=[].concat(this.buildConvexHull([s,n],t),this.buildConvexHull([n,s],t));return a}}}(),L.MarkerCluster.include({getConvexHull:function(){var t=this.getAllChildMarkers(),e=[],i,n;for(n=t.length-1;n>=0;n--)i=t[n].getLatLng(),e.push(i);return L.QuickHull.getConvexHull(e)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t=this.getAllChildMarkers(),e=this._group,i=e._map,n=i.latLngToLayerPoint(this._latlng),s;this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?s=this._generatePointsSpiral(t.length,n):(n.y+=10,s=this._generatePointsCircle(t.length,n)),this._animationSpiderfy(t,s)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),n=i/this._2PI,s=this._2PI/t,r=[],o,a;for(r.length=t,o=t-1;o>=0;o--)a=this._circleStartAngle+o*s,r[o]=new L.Point(e.x+n*Math.cos(a),e.y+n*Math.sin(a))._round();return r},_generatePointsSpiral:function(t,e){var i=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,n=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,s=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,r=0,o=[],a;for(o.length=t,a=t-1;a>=0;a--)r+=n/i+5e-4*a,o[a]=new L.Point(e.x+i*Math.cos(r),e.y+i*Math.sin(r))._round(),i+=this._2PI*s/r;return o},_noanimationUnspiderfy:function(){var t=this._group,e=t._map,i=t._featureGroup,n=this.getAllChildMarkers(),s,r;for(this.setOpacity(1),r=n.length-1;r>=0;r--)s=n[r],i.removeLayer(s),s._preSpiderfyLatlng&&(s.setLatLng(s._preSpiderfyLatlng),delete s._preSpiderfyLatlng),s.setZIndexOffset&&s.setZIndexOffset(0),s._spiderLeg&&(e.removeLayer(s._spiderLeg),delete s._spiderLeg);t._spiderfied=null}}),L.MarkerCluster.include(L.DomUtil.TRANSITION?{SVG_ANIMATION:function(){return e.createElementNS("http://www.w3.org/2000/svg","animate").toString().indexOf("SVGAnimate")>-1}(),_animationSpiderfy:function(t,i){var n=this,s=this._group,r=s._map,o=s._featureGroup,a=r.latLngToLayerPoint(this._latlng),h,_,u,l;for(h=t.length-1;h>=0;h--)_=t[h],_.setOpacity?(_.setZIndexOffset(1e6),_.setOpacity(0),o.addLayer(_),_._setPos(a)):o.addLayer(_);s._forceLayout(),s._animationStart();var d=L.Path.SVG?0:.3,p=L.Path.SVG_NS;for(h=t.length-1;h>=0;h--)if(l=r.layerPointToLatLng(i[h]),_=t[h],_._preSpiderfyLatlng=_._latlng,_.setLatLng(l),_.setOpacity&&_.setOpacity(1),u=new L.Polyline([n._latlng,l],{weight:1.5,color:"#222",opacity:d}),r.addLayer(u),_._spiderLeg=u,L.Path.SVG&&this.SVG_ANIMATION){var c=u._path.getTotalLength();u._path.setAttribute("stroke-dasharray",c+","+c);var f=e.createElementNS(p,"animate");f.setAttribute("attributeName","stroke-dashoffset"),f.setAttribute("begin","indefinite"),f.setAttribute("from",c),f.setAttribute("to",0),f.setAttribute("dur",.25),u._path.appendChild(f),f.beginElement(),f=e.createElementNS(p,"animate"),f.setAttribute("attributeName","stroke-opacity"),f.setAttribute("attributeName","stroke-opacity"),f.setAttribute("begin","indefinite"),f.setAttribute("from",0),f.setAttribute("to",.5),f.setAttribute("dur",.25),u._path.appendChild(f),f.beginElement()}if(n.setOpacity(.3),L.Path.SVG)for(this._group._forceLayout(),h=t.length-1;h>=0;h--)_=t[h]._spiderLeg,_.options.opacity=.5,_._path.setAttribute("stroke-opacity",.5);setTimeout(function(){s._animationEnd(),s.fire("spiderfied")},200)},_animationUnspiderfy:function(t){var e=this._group,i=e._map,n=e._featureGroup,s=t?i._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):i.latLngToLayerPoint(this._latlng),r=this.getAllChildMarkers(),o=L.Path.SVG&&this.SVG_ANIMATION,a,h,_;for(e._animationStart(),this.setOpacity(1),h=r.length-1;h>=0;h--)a=r[h],a._preSpiderfyLatlng&&(a.setLatLng(a._preSpiderfyLatlng),delete a._preSpiderfyLatlng,a.setOpacity?(a._setPos(s),a.setOpacity(0)):n.removeLayer(a),o&&(_=a._spiderLeg._path.childNodes[0],_.setAttribute("to",_.getAttribute("from")),_.setAttribute("from",0),_.beginElement(),_=a._spiderLeg._path.childNodes[1],_.setAttribute("from",.5),_.setAttribute("to",0),_.setAttribute("stroke-opacity",0),_.beginElement(),a._spiderLeg._path.setAttribute("stroke-opacity",0)));setTimeout(function(){var t=0;for(h=r.length-1;h>=0;h--)a=r[h],a._spiderLeg&&t++;for(h=r.length-1;h>=0;h--)a=r[h],a._spiderLeg&&(a.setOpacity&&(a.setOpacity(1),a.setZIndexOffset(0)),t>1&&n.removeLayer(a),i.removeLayer(a._spiderLeg),delete a._spiderLeg);e._animationEnd()},200)}}:{_animationSpiderfy:function(t,e){var i=this._group,n=i._map,s=i._featureGroup,r,o,a,h;for(r=t.length-1;r>=0;r--)h=n.layerPointToLatLng(e[r]),o=t[r],o._preSpiderfyLatlng=o._latlng,o.setLatLng(h),o.setZIndexOffset&&o.setZIndexOffset(1e6),s.addLayer(o),a=new L.Polyline([this._latlng,h],{weight:1.5,color:"#222"}),n.addLayer(a),o._spiderLeg=a;this.setOpacity(.3),i.fire("spiderfied")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.setOpacity(1),t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}})}(window,document)}();

!function(){!function(t,e){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[]},addLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.addLayers(e)}if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom);var n=t,s=this._map.getZoom();if(t.__parent)for(;n.__parent._zoom>=s;)n=n.__parent;return this._currentShownBounds.contains(n.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,n):this._animationAddLayerNonAnimated(t,n)),this},removeLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.removeLayers(e)}return t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.setOpacity&&t.setOpacity(1)),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){var e,i,n,s,r=this._featureGroup,o=this._nonPointGroup,a=this.options.chunkedLoading,h=this.options.chunkInterval,_=this.options.chunkProgress;if(this._map){var u=0,l=(new Date).getTime(),d=L.bind(function(){for(var e=(new Date).getTime();u<t.length;u++){if(a&&0===u%200){var i=(new Date).getTime()-e;if(i>h)break}if(s=t[u],s.getLatLng){if(!this.hasLayer(s)&&(this._addLayer(s,this._maxZoom),s.__parent&&2===s.__parent.getChildCount())){var n=s.__parent.getAllChildMarkers(),p=n[0]===s?n[1]:n[0];r.removeLayer(p)}}else o.addLayer(s)}_&&_(u,t.length,(new Date).getTime()-l),u===t.length?(this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)},this);d()}else{for(e=[],i=0,n=t.length;n>i;i++)s=t[i],s.getLatLng?this.hasLayer(s)||e.push(s):o.addLayer(s);this._needsClustering=this._needsClustering.concat(e)}return this},removeLayers:function(t){var e,i,n,s=this._featureGroup,r=this._nonPointGroup;if(!this._map){for(e=0,i=t.length;i>e;e++)n=t[e],this._arraySplice(this._needsClustering,n),r.removeLayer(n);return this}for(e=0,i=t.length;i>e;e++)n=t[e],n.__parent?(this._removeLayer(n,!0,!0),s.hasLayer(n)&&(s.removeLayer(n),n.setOpacity&&n.setOpacity(1))):r.removeLayer(n);return this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),s.eachLayer(function(t){t instanceof L.MarkerCluster&&t._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n=this._needsClustering.slice();for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(n),i=n.length-1;i>=0;i--)t.call(e,n[i]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(i=this._needsRemoving,e=i.length-1;e>=0;e--)if(i[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){var i=function(){if((t._icon||t.__parent._icon)&&!this._inZoomAnimation)if(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon)e();else if(t.__parent._icon){var n=function(){this.off("spiderfied",n,this),e()};this.on("spiderfied",n,this),t.__parent.spiderfy()}};if(t._icon&&this._map.getBounds().contains(t.getLatLng()))e();else if(t.__parent._zoom<this._map.getZoom())this._map.on("moveend",i,this),this._map.panTo(t.getLatLng());else{var n=function(){this._map.off("movestart",n,this),n=null};this._map.on("movestart",n,this),this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds(),n&&i.call(this)}},onAdd:function(t){this._map=t;var e,i,n;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.onAdd(t),this._nonPointGroup.onAdd(t),this._gridClusters||this._generateInitialClusters(),e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],this._removeLayer(n,!0);this._needsRemoving=[],this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),this._hideCoverage(),this._featureGroup.onRemove(t),this._nonPointGroup.onRemove(t),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeLayer:function(t,e,i){var n=this._gridClusters,s=this._gridUnclustered,r=this._featureGroup,o=this._map;if(e)for(var a=this._maxZoom;a>=0&&s[a].removeObject(t,o.project(t.getLatLng(),a));a--);var h,_=t.__parent,u=_._markers;for(this._arraySplice(u,t);_&&(_._childCount--,!(_._zoom<0));)e&&_._childCount<=1?(h=_._markers[0]===t?_._markers[1]:_._markers[0],n[_._zoom].removeObject(_,o.project(_._cLatLng,_._zoom)),s[_._zoom].addObject(h,o.project(h.getLatLng(),_._zoom)),this._arraySplice(_.__parent._childClusters,_),_.__parent._markers.push(h),h.__parent=_.__parent,_._icon&&(r.removeLayer(_),i||r.addLayer(h))):(_._recalculateBounds(),i&&_._icon||_._updateIcon()),_=_.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},_propagateEvent:function(t){if(t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;t.type="cluster"+t.type}this.fire(t.type,t)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return i+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var e=this._map;e.getMaxZoom()===e.getZoom()?this.options.spiderfyOnMaxZoom&&t.layer.spiderfy():this.options.zoomToBoundsOnClick&&t.layer.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&e._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius,i=e;"function"!=typeof e&&(i=function(){return e}),this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var n=t;n>=0;n--)this._gridClusters[n]=new L.DistanceGrid(i(n)),this._gridUnclustered[n]=new L.DistanceGrid(i(n));this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(t,e){var i,n,s=this._gridClusters,r=this._gridUnclustered;for(this.options.singleMarkerMode&&(t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}}));e>=0;e--){i=this._map.project(t.getLatLng(),e);var o=s[e].getNearObject(i);if(o)return o._addChild(t),void(t.__parent=o);if(o=r[e].getNearObject(i)){var a=o.__parent;a&&this._removeLayer(o,!1);var h=new L.MarkerCluster(this,e,o,t);s[e].addObject(h,this._map.project(h._cLatLng,e)),o.__parent=h,t.__parent=h;var _=h;for(n=e-1;n>a._zoom;n--)_=new L.MarkerCluster(this,n,_),s[n].addObject(_,this._map.project(o.getLatLng(),n));for(a._addChild(_),n=e;n>=0&&r[n].removeObject(o,this._map.project(o.getLatLng(),n));n--);return}r[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this._map.getBounds();var t=this._map,e=t.getBounds(),i=e._southWest,n=e._northEast,s=L.Browser.mobile?0:Math.abs(i.lat-n.lat),r=L.Browser.mobile?0:Math.abs(i.lng-n.lng);return new L.LatLngBounds(new L.LatLng(i.lat-s,i.lng-r,!0),new L.LatLng(n.lat+s,n.lng+r,!0))},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()}}),L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),s=this._featureGroup;this._topClusterLevel._recursively(n,t,0,function(r){var o,a=r._latlng,h=r._markers;for(n.contains(a)||(a=null),r._isSingleParent()&&t+1===e?(s.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,n)):(r.setOpacity(0),r._recursivelyAddChildrenToMap(a,e,n)),i=h.length-1;i>=0;i--)o=h[i],n.contains(o._latlng)||s.removeLayer(o)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),s.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.setOpacity(1)}),this._topClusterLevel._recursively(n,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._enqueue(function(){this._topClusterLevel._recursively(n,t,0,function(t){s.removeLayer(t),t.setOpacity(1)}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(n,e+1,i);var s=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var r=t._markers[0];r.setLatLng(r.getLatLng()),r.setOpacity&&r.setOpacity(1)}else t._recursively(n,i,0,function(t){t._recursivelyRemoveChildrenFromMap(n,e+1)});s._animationEnd()})},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.setOpacity(0),this._enqueue(function(){n.removeLayer(t),t.setOpacity(1),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),s=this._zoom+1,r=i.getZoom();e.length>0&&n>s;){s++;var o=[];for(t=0;t<e.length;t++)o=o.concat(e[t]._childClusters);e=o}n>s?this._group._map.setView(this._latlng,s):r>=n?this._group._map.setView(this._latlng,r+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._expandBounds(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_expandBounds:function(t){var e,i=t._wLatLng||t._latlng;t instanceof L.MarkerCluster?(this._bounds.extend(t._bounds),e=t._childCount):(this._bounds.extend(i),e=1),this._cLatLng||(this._cLatLng=t._cLatLng||i);var n=this._childCount+e;this._wLatLng?(this._wLatLng.lat=(i.lat*e+this._wLatLng.lat*this._childCount)/n,this._wLatLng.lng=(i.lng*e+this._wLatLng.lng*this._childCount)/n):this._latlng=this._wLatLng=new L.LatLng(i.lat,i.lng)},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,0,i-1,function(t){var i,n,s=t._markers;for(i=s.length-1;i>=0;i--)n=s[i],n._icon&&(n._setPos(e),n.setOpacity(0))},function(t){var i,n,s=t._childClusters;for(i=s.length-1;i>=0;i--)n=s[i],n._icon&&(n._setPos(e),n.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i){this._recursively(t,i,0,function(n){n._recursivelyAnimateChildrenIn(t,n._group._map.latLngToLayerPoint(n.getLatLng()).round(),e),n._isSingleParent()&&e-1===i?(n.setOpacity(1),n._recursivelyRemoveChildrenFromMap(t,e)):n.setOpacity(0),n._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.setOpacity(1)})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,-1,e,function(n){if(e!==n._zoom)for(var s=n._markers.length-1;s>=0;s--){var r=n._markers[s];i.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.setOpacity&&r.setOpacity(0)),n._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i){var n,s;this._recursively(t,-1,e-1,function(t){for(s=t._markers.length-1;s>=0;s--)n=t._markers[s],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.setOpacity&&n.setOpacity(1))},function(t){for(s=t._childClusters.length-1;s>=0;s--)n=t._childClusters[s],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.setOpacity&&n.setOpacity(1))})},_recursively:function(t,e,i,n,s){var r,o,a=this._childClusters,h=this._zoom;if(e>h)for(r=a.length-1;r>=0;r--)o=a[r],t.intersects(o._bounds)&&o._recursively(t,e,i,n,s);else if(n&&n(this),s&&this._zoom===i&&s(this),i>h)for(r=a.length-1;r>=0;r--)o=a[r],t.intersects(o._bounds)&&o._recursively(t,e,i,n,s)},_recalculateBounds:function(){var t,e=this._markers,i=this._childClusters;for(this._bounds=new L.LatLngBounds,delete this._wLatLng,t=e.length-1;t>=0;t--)this._expandBounds(e[t]);for(t=i.length-1;t>=0;t--)this._expandBounds(i[t])},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),s=this._grid,r=s[n]=s[n]||{},o=r[i]=r[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,o.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,s=this._getCoord(e.x),r=this._getCoord(e.y),o=this._grid,a=o[r]=o[r]||{},h=a[s]=a[s]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=h.length;n>i;i++)if(h[i]===t)return h.splice(i,1),1===n&&delete a[s],!0},eachObject:function(t,e){var i,n,s,r,o,a,h,_=this._grid;for(i in _){o=_[i];for(n in o)for(a=o[n],s=0,r=a.length;r>s;s++)h=t.call(e,a[s]),h&&(s--,r--)}},getNearObject:function(t){var e,i,n,s,r,o,a,h,_=this._getCoord(t.x),u=this._getCoord(t.y),l=this._objectPoint,d=this._sqCellSize,p=null;for(e=u-1;u+1>=e;e++)if(s=this._grid[e])for(i=_-1;_+1>=i;i++)if(r=s[i])for(n=0,o=r.length;o>n;n++)a=r[n],h=this._sqDist(l[L.Util.stamp(a)],t),d>h&&(d=h,p=a);return p},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},function(){L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat,n=e[0].lng-e[1].lng;return n*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,s,r=0,o=null,a=[];for(i=e.length-1;i>=0;i--)n=e[i],s=this.getDistant(n,t),s>0&&(a.push(n),s>r&&(r=s,o=n));return{maxPoint:o,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints))):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,s=null,r=null;for(e=t.length-1;e>=0;e--){var o=t[e];(i===!1||o.lat>i)&&(s=o,i=o.lat),(n===!1||o.lat<n)&&(r=o,n=o.lat)}var a=[].concat(this.buildConvexHull([r,s],t),this.buildConvexHull([s,r],t));return a}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group,n=i._map,s=n.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,s):(s.y+=10,t=this._generatePointsCircle(e.length,s)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),r=s/this._2PI,o=this._2PI/t,a=[];for(a.length=t,i=t-1;i>=0;i--)n=this._circleStartAngle+i*o,a[i]=new L.Point(e.x+r*Math.cos(n),e.y+r*Math.sin(n))._round();return a},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,s=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,r=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,o=0,a=[];for(a.length=t,i=t-1;i>=0;i--)o+=s/n+5e-4*i,a[i]=new L.Point(e.x+n*Math.cos(o),e.y+n*Math.sin(o))._round(),n+=this._2PI*r/o;return a},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,s=i._featureGroup,r=this.getAllChildMarkers();for(this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],s.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i._spiderfied=null}}),L.MarkerCluster.include(L.DomUtil.TRANSITION?{SVG_ANIMATION:function(){return e.createElementNS("http://www.w3.org/2000/svg","animate").toString().indexOf("SVGAnimate")>-1}(),_animationSpiderfy:function(t,i){var n,s,r,o,a=this,h=this._group,_=h._map,u=h._featureGroup,l=_.latLngToLayerPoint(this._latlng);for(n=t.length-1;n>=0;n--)s=t[n],s.setOpacity?(s.setZIndexOffset(1e6),s.setOpacity(0),u.addLayer(s),s._setPos(l)):u.addLayer(s);h._forceLayout(),h._animationStart();var d=L.Path.SVG?0:.3,p=L.Path.SVG_NS;for(n=t.length-1;n>=0;n--)if(o=_.layerPointToLatLng(i[n]),s=t[n],s._preSpiderfyLatlng=s._latlng,s.setLatLng(o),s.setOpacity&&s.setOpacity(1),r=new L.Polyline([a._latlng,o],{weight:1.5,color:"#222",opacity:d}),_.addLayer(r),s._spiderLeg=r,L.Path.SVG&&this.SVG_ANIMATION){var c=r._path.getTotalLength();r._path.setAttribute("stroke-dasharray",c+","+c);var f=e.createElementNS(p,"animate");f.setAttribute("attributeName","stroke-dashoffset"),f.setAttribute("begin","indefinite"),f.setAttribute("from",c),f.setAttribute("to",0),f.setAttribute("dur",.25),r._path.appendChild(f),f.beginElement(),f=e.createElementNS(p,"animate"),f.setAttribute("attributeName","stroke-opacity"),f.setAttribute("attributeName","stroke-opacity"),f.setAttribute("begin","indefinite"),f.setAttribute("from",0),f.setAttribute("to",.5),f.setAttribute("dur",.25),r._path.appendChild(f),f.beginElement()}if(a.setOpacity(.3),L.Path.SVG)for(this._group._forceLayout(),n=t.length-1;n>=0;n--)s=t[n]._spiderLeg,s.options.opacity=.5,s._path.setAttribute("stroke-opacity",.5);setTimeout(function(){h._animationEnd(),h.fire("spiderfied")},200)},_animationUnspiderfy:function(t){var e,i,n,s=this._group,r=s._map,o=s._featureGroup,a=t?r._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):r.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(),_=L.Path.SVG&&this.SVG_ANIMATION;for(s._animationStart(),this.setOpacity(1),i=h.length-1;i>=0;i--)e=h[i],e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,e.setOpacity?(e._setPos(a),e.setOpacity(0)):o.removeLayer(e),_&&(n=e._spiderLeg._path.childNodes[0],n.setAttribute("to",n.getAttribute("from")),n.setAttribute("from",0),n.beginElement(),n=e._spiderLeg._path.childNodes[1],n.setAttribute("from",.5),n.setAttribute("to",0),n.setAttribute("stroke-opacity",0),n.beginElement(),e._spiderLeg._path.setAttribute("stroke-opacity",0)));setTimeout(function(){var t=0;for(i=h.length-1;i>=0;i--)e=h[i],e._spiderLeg&&t++;for(i=h.length-1;i>=0;i--)e=h[i],e._spiderLeg&&(e.setOpacity&&(e.setOpacity(1),e.setZIndexOffset(0)),t>1&&o.removeLayer(e),r.removeLayer(e._spiderLeg),delete e._spiderLeg);s._animationEnd()},200)}}:{_animationSpiderfy:function(t,e){var i,n,s,r,o=this._group,a=o._map,h=o._featureGroup;for(i=t.length-1;i>=0;i--)r=a.layerPointToLatLng(e[i]),n=t[i],n._preSpiderfyLatlng=n._latlng,n.setLatLng(r),n.setZIndexOffset&&n.setZIndexOffset(1e6),h.addLayer(n),s=new L.Polyline([this._latlng,r],{weight:1.5,color:"#222"}),a.addLayer(s),n._spiderLeg=s;this.setOpacity(.3),o.fire("spiderfied")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.setOpacity(1),t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}})}(window,document)}();

!function(){Template.map.created=function(){return Meteor.subscribe("bikesData",function(){var e,t,o,a,n,r;if(Meteor.isClient){L.Icon.Default.imagePath="packages/mrt_leaflet/images",n=new L.Map("map",{center:new L.LatLng(38.987701,-76.940989),maxZoom:19,zoom:16,zoomControl:!1}),e=L.tileLayer("http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}).addTo(n),r=L.control.zoom({position:"bottomleft"}),n.addControl(r);var i=new L.MarkerClusterGroup;for(t=Bikes.find().fetch(),a=t.length-1;a>=0;)"Good"===t[a].status?i.addLayer(new L.Marker(new L.LatLng(t[a].latitude,t[a].longitude))):console.log("Bad Bike"),a--;n.addLayer(i),n.locate({setView:!0}).on("locationfound",function(e){var t;t=L.marker([e.latitude,e.longitude]).addTo(n)})}})}}();

!function(){Meteor.isClient&&(Template.pics.helpers({photo:function(){return Session.get("photo")}}),Template.pics.events({"click button":function(){var e={width:800,height:600};MeteorCamera.getPicture(e,function(e,t){Session.set("photo",t)})}}))}();



!function(){Bikes=new Mongo.Collection("bikes")}();

!function(){var o=Package.meteor.Meteor,n=Package["accounts-base"].Accounts,e=Package.mongo.Mongo,i;(function(){"undefined"==typeof i&&(i={}),i.configurations=new e.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:o.isClient?n.connection:o.connection}),i.ConfigError=function(e){this.message=o.isClient&&!n.loginServicesConfigured()?"Login service configuration not yet loaded":e?"Service "+e+" not configured":"Service not configured"},i.ConfigError.prototype=new Error,i.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),Package["service-configuration"]={ServiceConfiguration:i}}();